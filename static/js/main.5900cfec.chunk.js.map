{"version":3,"sources":["enums.js","components/nav/MenuBar.jsx","globals.js","components/sketch/Transition.js","components/sketch/State.js","components/sketch/SettingsModal.jsx","components/simulation/SimulationModal.jsx","components/sketch/Sketch.jsx","assets/symbols/state.svg","assets/symbols/init_state.svg","assets/symbols/final_state.svg","components/tools/ToolBar.jsx","components/tools/SimulationPlayer.jsx","components/auth/QRModal.jsx","App.jsx","index.jsx","assets/fasim.png"],"names":["MachineType","LineType","StateType","MenuBar","Navbar","bg","variant","fixed","Brand","style","color","Row","Col","lg","Image","width","src","fasimLogo","className","Toggle","aria-controls","Collapse","id","Nav","Dropdown","Menu","aria-labelledby","Item","onClick","this","props","newSketch","Divider","toggleSimulation","React","Component","globals","showSettings","showSimulation","selectedState","Transition","p5","index","from","to","value","lineType","controlPoints","start","end","orgStart","createVector","x","y","orgEnd","translate","setMag","mag","rotate","a","b","d","s","push","noStroke","fill","text","pop","stroke","strokeWeight","getControlPoints","startCP","endCP","noFill","bezier","dist","drawValue","sx","sy","v","heading","triangle","ARROW_SIZE","textVec","line","STATE_RADIUS","t","arrow","drawSelfLoop","drawBezierWithArrow","drawLineWithArrow","State","name","stateType","dragging","rollover","connecting","connected","transitions","intersecting","r","int","offsetX","offsetY","mouseX","mouseY","other","forEach","transition","show","base","vec","length","showTransitions","drawArrow","rotating","varyingMag","arrowSize","circle","textSize","textAlign","CENTER","states","indices","i","edgeIntersects","max","mouseButton","RIGHT","topState","getTopState","Number","NEGATIVE_INFINITY","connectingState","filter","SettingsModal","state","stateName","changeLineType","bind","changeStateType","changeValue","changeStateName","deleteTransition","setState","toString","toBeRemoved","e","indexOf","splice","Modal","Dialog","zIndex","Header","Container","Title","title","Button","deleteState","Body","fluid","Form","Control","defaultValue","placeholder","aria-label","aria-describedby","onChange","target","DropdownButton","as","map","key","icon","faTrash","Footer","toggleSettings","SimulationModal","valid","testStrings","errors","machineData","changeTestStrings","noSpaceValue","replace","split","machineType","alphabets","machine_type","alphabet_count","state_count","initialStateCount","finalStateCount","count","includes","every","some","type","tr","noTransitionStates","withTransitionStates","Array","test_strings","axios","method","url","data","JSON","stringify","headers","then","setSimulationData","close","click","catch","console","log","hidden","disabled","error","prepareTestCases","validate","ref","node","LETTERS","caps","val","String","fromCharCode","concat","letter","toLowerCase","Sketch","setup","c","createCanvas","windowWidth","windowHeight","parent","position","angleMode","DEGREES","draw","background","l","testString","currentIndex","char","setP5","connect","over","update","mousePressed","pressed","mouseReleased","released","showSettingsModal","doubleClicked","windowResized","resizeCanvas","sketch","numStates","deletedCount","hideSimulation","addState","setTestCase","newState","height","tempStates","otherStates","testCaseData","initial","testCase","testCaseNumber","resultText","document","querySelector","lastTransition","lastState","lastStates","Object","values","lastStateName","keys","setTimeout","rest","temp","undefined","classList","contains","add","innerHTML","clearColors","setColor","modalTitle","settings","_extends","assign","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","transform","strokeWidth","cx","cy","fontSize","fontFamily","_ref","svgRef","viewBox","ForwardRef","forwardRef","fillRule","ToolBar","Card","ButtonGroup","vertical","SimulationPlayer","simData","simulationData","backgroundColor","Fragment","test","faPlay","QRModal","qrCodeValue","getQRImage","Axios","res","setInterval","centered","keyboard","backdrop","onHide","handleQRClose","closeButton","role","level","renderAs","size","imageSettings","App","loggedIn","padding","sm","top","right","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.5900cfec.chunk.js","sourcesContent":["export const MachineType = {\n  DFA: 0,\n  NFA: 1,\n};\n\nexport const LineType = {\n  CURVE: 'Curve',\n  LINE: 'Line'\n};\n\nexport const Result = {\n  REJECTED: false,\n  ACCEPTED: true,\n};\n\nexport const StateType = {\n  INITIAL: 0,\n  NORMAL: 1,\n  FINAL: 2,\n  INITIAL_FINAL: 3,\n  DEAD: 4,\n};","import React from 'react';\nimport {Navbar, Nav, Dropdown, Image, Row, Col} from 'react-bootstrap';\nimport fasimLogo from '../../assets/fasim.png';\nimport {MachineType} from \"../../enums\";\n\nclass MenuBar extends React.Component {\n  render() {\n    return (\n      <Navbar bg=\"dark\" variant=\"dark\" fixed=\"top\">\n        <Navbar.Brand style={{color: 'white'}}>\n          <Row>\n            <Col lg=\"4\">\n              <Image style={{width: '2em'}} src={fasimLogo}/>\n            </Col>\n            <Col lg=\"8\" className=\"text-left my-auto\">\n              FASIM\n            </Col>\n          </Row>\n        </Navbar.Brand>\n        <Navbar.Toggle style={{color: 'white'}} aria-controls=\"basic-navbar-nav\"/>\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav>\n            <Dropdown>\n              <Dropdown.Toggle variant=\"transparent\" id=\"file-menu\" style={{color: 'white'}}>\n                File\n              </Dropdown.Toggle>\n              <Dropdown.Menu aria-labelledby=\"file-menu\">\n                <Dropdown.Item\n                  onClick={this.props.newSketch}\n                >\n                  New\n                </Dropdown.Item>\n                <Dropdown.Item>Import</Dropdown.Item>\n                <Dropdown.Item>Export</Dropdown.Item>\n                <Dropdown.Divider/>\n                <Dropdown.Item>Exit</Dropdown.Item>\n              </Dropdown.Menu>\n            </Dropdown>\n            <Dropdown>\n              <Dropdown.Toggle variant=\"transparent\" id=\"simulate-menu\" style={{color: 'white'}}>\n                Simulate\n              </Dropdown.Toggle>\n              <Dropdown.Menu aria-labelledby=\"simulate-menu\">\n                <Dropdown.Item onClick={() => this.props.toggleSimulation(MachineType.DFA)}>DFA</Dropdown.Item>\n                <Dropdown.Item onClick={() => this.props.toggleSimulation(MachineType.NFA)}>NFA</Dropdown.Item>\n              </Dropdown.Menu>\n            </Dropdown>\n            <Dropdown>\n              <Dropdown.Toggle variant=\"transparent\" id=\"help-menu\" style={{color: 'white'}}>\n                Help\n              </Dropdown.Toggle>\n              <Dropdown.Menu>\n                <Dropdown.Item>Manual</Dropdown.Item>\n                <Dropdown.Item>Contact</Dropdown.Item>\n              </Dropdown.Menu>\n            </Dropdown>\n          </Nav>\n        </Navbar.Collapse>\n      </Navbar>\n    );\n  }\n}\n\nexport default MenuBar;\n","let globals = {\n  showSettings: false,\n  showSimulation: false,\n  selectedState: null,\n};\n\nexport default globals;\n","import {LineType} from \"../../enums\";\nconst STATE_RADIUS = 25;\nconst ARROW_SIZE = 10;\n\nexport default class Transition {\n\tconstructor(p5, index, from, to, color, value, lineType) {\n\t\tthis.index = index;\n\t\tthis.p5 = p5;\n\t\tthis.from = from;\n\t\tthis.to = to;\n\t\tthis.color = color;\n\t\tthis.controlPoints = [];\n\t\tthis.value = value;\n\t\tthis.lineType = lineType;\n\t}\n\n\tgetControlPoints(start, end) {\n\t\tconst theta = 60;\n\t\tlet orgStart = this.p5.createVector(this.from.x, this.from.y);\n\t\tlet orgEnd = this.p5.createVector(this.to.x - orgStart.x, this.to.y - orgStart.y);\n\n\t\t// Control Point 1\n\t\tthis.p5.translate(orgStart.x, orgStart.y);\n\t\tend.setMag(orgEnd.mag() / 2);\n\t\tend.rotate(theta);\n\t\tthis.controlPoints[0] = end;\n\t\tlet a = this.p5.createVector(end.x, end.y);\n\t\ta.setMag(STATE_RADIUS);\n\n\t\tstart = orgEnd;\n\t\tend = start;\n\n\t\t// Control Point 2\n\t\tthis.p5.translate(start.x, start.y);\n\t\tend.setMag(orgEnd.mag() / 2);\n\t\tend.rotate(180 - theta);\n\t\tthis.controlPoints[1] = end;\n\t\tlet b = this.p5.createVector(end.x, end.y);\n\t\tb.setMag(STATE_RADIUS);\n\n\t\tthis.controlPoints[2] = a;\n\t\tthis.controlPoints[3] = b;\n\t}\n\n\tdrawValue(d, s) {\n\t\ts.setMag(d / 1.5);\n\t\ts.rotate(-20);\n\t\tthis.p5.push();\n\t\tthis.p5.translate(s.x + this.from.x, s.y + this.from.y);\n\t\tthis.p5.noStroke();\n\t\tthis.p5.fill(this.color);\n\t\tthis.p5.text(this.value, 0, 0);\n\t\tthis.p5.pop();\n\t}\n\n\tdrawBezierWithArrow() {\n\t\tconst start = this.p5.createVector(this.from.x, this.from.y);\n\t\tconst end = this.p5.createVector(this.to.x - start.x, this.to.y - start.y);\n\t\tthis.p5.push();\n\t\tthis.p5.stroke(this.color);\n\t\tthis.p5.strokeWeight(2);\n\t\tthis.p5.fill(this.color);\n\t\tthis.getControlPoints(start, end);\n\t\tthis.p5.pop();\n\n\t\tconst startCP = this.controlPoints[0];\n\t\tconst endCP = this.controlPoints[1];\n\t\tconst a = this.controlPoints[2];\n\t\tconst b = this.controlPoints[3];\n\n\t\tthis.p5.noFill();\n\t\tthis.p5.stroke(this.color);\n\t\tthis.p5.strokeWeight(2);\n\n\t\tthis.p5.bezier(\n\t\t\ta.x + this.from.x,\n\t\t\ta.y + this.from.y,\n\t\t\tstartCP.x + this.from.x,\n\t\t\tstartCP.y + this.from.y,\n\t\t\tendCP.x + this.to.x,\n\t\t\tendCP.y + this.to.y,\n\t\t\tb.x + this.to.x,\n\t\t\tb.y + this.to.y\n\t\t);\n\n\t\tconst d = this.p5.dist(this.from.x, this.from.y, this.to.x, this.to.y);\n\n\t\tconst s = this.p5.createVector(startCP.x, startCP.y);\n\n\t\tthis.drawValue(d, s);\n\n\t\tstartCP.setMag(d / 1.2);\n\t\tstartCP.rotate(-33);\n\t\tendCP.setMag(STATE_RADIUS);\n\n\t\tlet sx = startCP.x + this.from.x;\n\t\tlet sy = startCP.y + this.from.y;\n\n\t\t// this.p5.circle(sx, sy, 10);\n\t\tthis.p5.push();\n\t\tthis.p5.translate(sx, sy, 10);\n\t\tlet x = endCP.x + this.to.x;\n\t\tlet y = endCP.y + this.to.y;\n\t\tlet v = this.p5.createVector(x - sx, y - sy);\n\t\t// this.p5.line(0, 0, v.x, v.y);\n\t\tthis.p5.fill(this.color);\n\t\tthis.p5.translate(v.x, v.y);\n\t\tthis.p5.rotate(180 + v.heading());\n\t\tthis.p5.triangle(ARROW_SIZE, ARROW_SIZE / 2, ARROW_SIZE, -ARROW_SIZE / 2, 0, 0);\n\t\tthis.p5.pop();\n\t}\n\n\tdrawLineWithArrow() {\n\t\tconst start = this.p5.createVector(this.from.x, this.from.y);\n\t\tconst end = this.p5.createVector(this.to.x - start.x, this.to.y - start.y);\n\t\tconst textVec = this.p5.createVector(this.to.x - start.x, this.to.y - start.y);\n\n\t\tthis.p5.push();\n\t\tthis.p5.stroke(this.color);\n\t\tthis.p5.strokeWeight(2);\n\t\tthis.p5.fill(this.color);\n\t\tthis.p5.translate(start.x, start.y);\n\t\tend.setMag(end.mag() - STATE_RADIUS);\n\t\ttextVec.setMag(textVec.mag() / 2);\n\t\ttextVec.rotate(-8);\n\n\t\tthis.p5.push();\n\t\tthis.p5.noStroke();\n\t\tthis.p5.text(this.value, textVec.x, textVec.y);\n\t\tthis.p5.pop();\n\n\t\tthis.p5.line(0, 0, end.x, end.y);\n\t\tthis.p5.rotate(end.heading());\n\n\t\tthis.p5.translate(end.mag() - ARROW_SIZE, 0);\n\t\tthis.p5.triangle(0, ARROW_SIZE / 2, 0, -ARROW_SIZE / 2, ARROW_SIZE, 0);\n\t\tthis.p5.pop();\n\t}\n\n\tdrawSelfLoop() {\n\t\tconst start = this.p5.createVector(this.from.x - STATE_RADIUS, this.from.y);\n\t\tthis.p5.stroke(this.color);\n\t\tthis.p5.noFill();\n\t\tlet a = this.p5.createVector(-STATE_RADIUS * 3 + start.x, -STATE_RADIUS + start.y);\n\t\tlet b = this.p5.createVector(STATE_RADIUS * 4 + a.x, -STATE_RADIUS * 3 + a.y);\n\t\tconst end = this.p5.createVector(this.from.x, this.from.y - STATE_RADIUS);\n\t\tthis.p5.bezier(start.x, start.y, a.x, a.y, b.x, b.y, end.x, end.y);\n\t\tlet t = this.p5.createVector(-STATE_RADIUS * 2 + start.x, -STATE_RADIUS * 2 + start.y);\n\t\tthis.p5.fill(this.color);\n\t\tthis.p5.noStroke();\n\t\tthis.p5.text(this.value, t.x, t.y);\n\n\t\tthis.p5.push();\n\t\tthis.p5.translate(b.x, b.y);\n\t\tlet arrow = this.p5.createVector(0, STATE_RADIUS * 3);\n\t\tthis.p5.translate(arrow.x, arrow.y);\n\t\tthis.p5.rotate(-arrow.heading());\n\t\tthis.p5.triangle(ARROW_SIZE, ARROW_SIZE / 2, ARROW_SIZE, -ARROW_SIZE / 2, 0, 0);\n\t\tthis.p5.pop();\n\t}\n\n\tshow() {\n\t\tif (this.from.index === this.to.index) {\n\t\t\tthis.drawSelfLoop();\n\t\t} else {\n\t\t\tif (this.lineType === LineType.CURVE) {\n\t\t\t\tthis.drawBezierWithArrow();\n\t\t\t} else {\n\t\t\t\tthis.drawLineWithArrow();\n\t\t\t}\n\t\t}\n\t}\n}\n","import Transition from \"./Transition\";\nimport {LineType, StateType} from \"../../enums\";\nimport globals from \"../../globals\";\n\nconst SELECT_COLOR = \"#f18701\";\nconst CONNECTION_COLOR = \"#454ade\";\nconst CONNECTING_COLOR = \"#f18701\";\nconst SUCCESS_COLOR = \"#00916e\";\n\nexport default class State {\n  constructor(p5, x, y, d, name, index, stateType, color) {\n    this.p5 = p5;\n    this.index = index;\n    this.stateType = stateType;\n    this.dragging = false; // Is the object being dragged?\n    this.rollover = false; // Is the mouse over the ellipse?\n    this.connecting = false;\n    this.connected = false;\n    this.transitions = [];\n    this.intersecting = false;\n    this.x = x;\n    this.y = y;\n    this.r = this.p5.int(d / 2);\n    this.name = name;\n    this.offsetX = 0;\n    this.offsetY = 0;\n    this.color = color;\n  }\n\n  setP5(p5) {\n    this.p5 = p5;\n  }\n\n  over() {\n    const mouseX = this.p5.mouseX;\n    const mouseY = this.p5.mouseY;\n    const d = this.p5.int(this.p5.dist(this.x, this.y, mouseX, mouseY));\n    // Is mouse over the object\n    this.rollover = d < this.r;\n  }\n\n  doubleClicked() {\n    const mouseX = this.p5.mouseX;\n    const mouseY = this.p5.mouseY;\n    const d = this.p5.int(this.p5.dist(this.x, this.y, mouseX, mouseY));\n    // Is mouse over the object\n    if (d < this.r) {\n      this.connecting = true;\n    }\n  }\n\n  edgeIntersects(other) {\n    const d = this.p5.dist(this.x, this.y, other.x, other.y);\n    if (d < this.r + other.r) {\n      this.intersecting = true;\n      return true;\n    } else {\n      this.intersecting = false;\n      return false;\n    }\n  }\n\n  update() {\n    const mouseX = this.p5.mouseX;\n    const mouseY = this.p5.mouseY;\n    // Adjust location if being dragged\n    if (this.dragging) {\n      this.x = mouseX + this.offsetX;\n      this.y = mouseY + this.offsetY;\n    }\n  }\n\n  showTransitions() {\n    this.transitions.forEach((transition) => {\n      transition.show();\n    });\n  }\n\n  connect() {\n    const mouseX = this.p5.mouseX;\n    const mouseY = this.p5.mouseY;\n    this.p5.strokeWeight(2);\n    this.p5.stroke(CONNECTING_COLOR);\n    // Draw State Connections\n    if (this.connecting) {\n      let base = this.p5.createVector(this.x, this.y);\n      let vec = this.p5.createVector(mouseX - base.x, mouseY - base.y);\n      if (this.transitions.length) {\n        this.showTransitions();\n      }\n      this.drawArrow(base, vec, CONNECTING_COLOR, true, false);\n    } else if (this.connected) {\n      this.showTransitions();\n    }\n  }\n\n  drawArrow(base, vec, color, rotating, varyingMag) {\n    this.p5.push();\n    this.p5.stroke(color);\n    this.p5.strokeWeight(2);\n    this.p5.fill(color);\n    this.p5.translate(base.x, base.y);\n    if (varyingMag) {\n      vec.setMag(vec.mag() - this.r);\n    }\n    this.p5.line(0, 0, vec.x, vec.y);\n    let arrowSize = 10;\n    if (rotating) {\n      this.p5.rotate(vec.heading());\n    }\n    this.p5.translate(vec.mag() - arrowSize, 0);\n    this.p5.triangle(0, arrowSize / 2, 0, -arrowSize / 2, arrowSize, 0);\n    this.p5.pop();\n  }\n\n  show() {\n    this.p5.strokeWeight(2);\n    // Different fill based on state\n    this.p5.fill(this.color);\n    if (this.rollover || this.dragging) {\n      this.p5.stroke(SELECT_COLOR);\n    } else if (globals.showSettings || globals.showSimulation) {\n      this.p5.stroke(SUCCESS_COLOR);\n    } else {\n      this.p5.stroke(0);\n    }\n\n    if (this.stateType === StateType.NORMAL) {\n      this.p5.circle(this.x, this.y, this.r * 2);\n    } else if (this.stateType === StateType.FINAL) {\n      this.p5.circle(this.x, this.y, this.r * 2);\n      this.p5.circle(this.x, this.y, this.r * 1.7);\n    } else if (this.stateType === StateType.INITIAL) {\n      this.p5.circle(this.x, this.y, this.r * 2);\n      let base = this.p5.createVector(this.x - this.r * 3, this.y);\n      let vec = this.p5.createVector(this.x - this.r - base.x, this.y - base.y);\n      // Custom arrow for INITIAL State\n      if (this.rollover || this.dragging) {\n        this.drawArrow(base, vec, SELECT_COLOR, false, false);\n      } else if (globals.showSettings || globals.showSimulation) {\n        this.drawArrow(base, vec, SUCCESS_COLOR, false, false);\n      } else {\n        this.drawArrow(base, vec, 0, false, false);\n      }\n    }\n    // Draw the state name\n    this.p5.textSize(this.r * 0.7);\n    this.p5.textAlign(this.p5.CENTER, this.p5.CENTER);\n    this.p5.noStroke();\n    if (this.rollover || this.dragging) {\n      this.p5.fill(SELECT_COLOR);\n    } else if (globals.showSettings || globals.showSimulation) {\n      this.p5.fill(SUCCESS_COLOR);\n    } else {\n      this.p5.fill(0);\n    }\n    this.p5.text(this.name, this.x, this.y);\n  }\n\n  getTopState(states) {\n    let indices = [];\n    let topState;\n    for (let i = 0; i < states.length; i++) {\n      if (this.edgeIntersects(states[i])) {\n        indices.push(i);\n        indices.push(this.index);\n      }\n    }\n    topState = this.p5.max(indices);\n    return topState;\n  }\n\n  pressed(states) {\n    if (!globals.showSettings && !globals.showSimulation) {\n      if (this.p5.mouseButton === this.p5.RIGHT) {\n        const mouseX = this.p5.mouseX;\n        const mouseY = this.p5.mouseY;\n        let d = this.p5.int(this.p5.dist(this.x, this.y, mouseX, mouseY));\n        if (d < this.r) {\n          let topState = this.getTopState(states);\n          globals.showSettings = true;\n          if (\n            topState !== Number.NEGATIVE_INFINITY && states[topState].rollover\n          ) {\n            globals.selectedState = states[topState];\n          } else {\n            globals.selectedState = this;\n          }\n        } else {\n          globals.showSettings = false;\n          globals.selectedState = null;\n        }\n      } else {\n        globals.showSettings = false;\n        globals.selectedState = null;\n        const mouseX = this.p5.mouseX;\n        const mouseY = this.p5.mouseY;\n        let d = this.p5.int(this.p5.dist(this.x, this.y, mouseX, mouseY));\n\n        if (!this.dragging) {\n          // Did I click on the circle?\n          if (d < this.r) {\n            let topState = this.getTopState(states);\n            if (\n              topState !== Number.NEGATIVE_INFINITY && states[topState].rollover\n            ) {\n              // If so, keep track of relative location of click to corner of circle\n              states[topState].offsetX = states[topState].x - mouseX;\n              states[topState].offsetY = states[topState].y - mouseY;\n              states[topState].dragging = true;\n            } else {\n              // If so, keep track of relative location of click to corner of circle\n              this.offsetX = this.x - mouseX;\n              this.offsetY = this.y - mouseY;\n              this.dragging = true;\n            }\n          }\n        }\n\n        if (this.connecting) {\n          for (let i = 0; i < states.length; i++) {\n            let connectingState = states[i];\n            d = this.p5.int(\n              this.p5.dist(\n                connectingState.x,\n                connectingState.y,\n                mouseX,\n                mouseY,\n              ),\n            );\n            if (d < connectingState.r) {\n              if (\n                this.transitions.filter((value) =>\n                  value.from.index === this.index &&\n                  value.to.index === connectingState.index\n                )\n                  .length === 0\n              ) {\n                if (this.index === connectingState.index) {\n                  this.transitions.push(\n                    new Transition(\n                      this.p5,\n                      this.transitions.length,\n                      this,\n                      this,\n                      CONNECTION_COLOR,\n                      \"\",\n                      LineType.LINE,\n                    ),\n                  );\n                } else {\n                  this.transitions.push(\n                    new Transition(\n                      this.p5,\n                      this.transitions.length,\n                      this,\n                      connectingState,\n                      CONNECTION_COLOR,\n                      \"\",\n                      LineType.LINE,\n                    ),\n                  );\n                }\n                this.connected = true;\n              }\n              this.connecting = false;\n            } else {\n              this.connecting = false;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  released() {\n    // Quit dragging\n    if (this.dragging) {\n      this.dragging = false;\n    }\n  }\n}\n","import React, { Component } from 'react';\nimport { Modal, Button, Row, Col, DropdownButton, Dropdown, Form, Container } from 'react-bootstrap';\nimport globals from '../../globals';\nimport { LineType, StateType } from '../../enums';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrash } from '@fortawesome/free-solid-svg-icons';\n\nexport default class SettingsModal extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstateName: globals.selectedState.name\n\t\t};\n\t\tthis.changeLineType = this.changeLineType.bind(this);\n\t\tthis.changeStateType = this.changeStateType.bind(this);\n\t\tthis.changeValue = this.changeValue.bind(this);\n\t\tthis.changeStateName = this.changeStateName.bind(this);\n\t\tthis.deleteTransition = this.deleteTransition.bind(this);\n\t}\n\n\tchangeLineType(value, i) {\n\t\tglobals.selectedState.transitions[i].lineType = value;\n\t\tthis.setState({});\n\t}\n\n\tchangeStateType(value) {\n\t\tglobals.selectedState.stateType = value;\n\t\tthis.setState({});\n\t}\n\n\tchangeValue(value, i) {\n\t\tif (value.length === 0) {\n\t\t\tglobals.selectedState.transitions[i].value = '';\n\t\t} else {\n\t\t\tglobals.selectedState.transitions[i].value = value.toString();\n\t\t}\n\t}\n\n\tdeleteTransition(state, i) {\n\t\tlet toBeRemoved = state.transitions.filter((e) => e.index === i);\n\t\tlet index = state.transitions.indexOf(toBeRemoved[0]);\n\t\tstate.transitions.splice(index, 1);\n\t\tthis.setState({});\n\t}\n\n\tchangeStateName(value) {\n\t\tif (value.length > 0 && value.length <= 3) {\n\t\t\tglobals.selectedState.name = value;\n\t\t\tthis.setState({});\n\t\t}\n\t}\n\n\trender() {\n\t\tlet stateType = '';\n\t\tswitch (globals.selectedState.stateType) {\n\t\t\tcase StateType.NORMAL:\n\t\t\t\tstateType = 'Normal';\n\t\t\t\tbreak;\n\t\t\tcase StateType.INITIAL:\n\t\t\t\tstateType = 'Initial';\n\t\t\t\tbreak;\n\t\t\tcase StateType.FINAL:\n\t\t\t\tstateType = 'Final';\n\t\t\t\tbreak;\n\t\t\tcase StateType.INITIAL_FINAL:\n\t\t\t\tstateType = 'Initial Final';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn (\n\t\t\t<Modal.Dialog style={{ zIndex: 9999 }}>\n\t\t\t\t<Modal.Header className=\"px-0\">\n\t\t\t\t\t<Container>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col className=\"text-left\">\n\t\t\t\t\t\t\t\t<Modal.Title>\n\t\t\t\t\t\t\t\t\t{stateType} {this.props.title} {globals.selectedState.name}\n\t\t\t\t\t\t\t\t</Modal.Title>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col className=\"text-right\">\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"danger\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tthis.props.deleteState(globals.selectedState.index);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tDelete State\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Container>\n\t\t\t\t</Modal.Header>\n\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<h5 className=\"pb-2\">General</h5>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col lg=\"3\" className=\"text-left my-auto px-0\">\n\t\t\t\t\t\t\t\t<h6>State Name</h6>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col lg=\"3\" className=\"my-auto text-left\">\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tdefaultValue={globals.selectedState.name}\n\t\t\t\t\t\t\t\t\tplaceholder=\"State Name\"\n\t\t\t\t\t\t\t\t\taria-label=\"State Name\"\n\t\t\t\t\t\t\t\t\taria-describedby=\"state-name\"\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tthis.changeStateName(e.target.value);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col lg=\"6\" />\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row className=\"mt-3 mb-3\">\n\t\t\t\t\t\t\t<Col lg=\"3\" className=\"text-left my-auto px-0\">\n\t\t\t\t\t\t\t\t<h6>State Type</h6>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col lg=\"3\" className=\"my-auto text-left\">\n\t\t\t\t\t\t\t\t<DropdownButton variant=\"dark\" id=\"state-type-dropdown\" title={stateType}>\n\t\t\t\t\t\t\t\t\t<Dropdown.Item as=\"button\">\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.changeStateType(StateType.INITIAL);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tInitial\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t\t\t<Dropdown.Item as=\"button\">\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.changeStateType(StateType.NORMAL);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tNormal\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t\t\t<Dropdown.Item as=\"button\">\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.changeStateType(StateType.FINAL);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tFinal\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t\t\t<Dropdown.Item as=\"button\">\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.changeStateType(StateType.INITIAL_FINAL);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tInitial Final\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t\t</DropdownButton>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col lg=\"6\" />\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t{globals.selectedState.transitions.length ? (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t<h5 className=\"pb-2\">Transitions</h5>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t<Col className=\"text-left\">\n\t\t\t\t\t\t\t\t\t\t<h6>Description</h6>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t<Col className=\"text-left\">\n\t\t\t\t\t\t\t\t\t\t<h6>Value</h6>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t<Col className=\"text-left\">\n\t\t\t\t\t\t\t\t\t\t<h6>Line Type</h6>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t{globals.selectedState.transitions.map((t) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Row className=\"mb-3\" key={t.index}>\n\t\t\t\t\t\t\t\t\t\t\t<Col className=\"text-left my-auto\">\n\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"my-auto\">{t.from.name + ' to ' + t.to.name}</h6>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col className=\"text-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={t.value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Value\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Value\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-describedby=\"transition-value\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.changeValue(e.target.value, t.index);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t{t.from.index === t.to.index ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<Col className=\"text-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col lg=\"6\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col lg=\"6\" className=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"danger\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.deleteTransition(globals.selectedState, t.index);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faTrash} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<Col className=\"text-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col lg=\"6\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DropdownButton variant=\"dark\" id=\"line-type-dropdown\" title={t.lineType}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item as=\"button\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.changeLineType(LineType.CURVE, t.index);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCurve\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item as=\"button\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.changeLineType(LineType.LINE, t.index);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tLine\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</DropdownButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col lg=\"6\" className=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"danger\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.deleteTransition(globals.selectedState, t.index);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faTrash} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t<h5 className=\"pb-2\">Transitions</h5>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t<p>No settings available. Please create transitions.</p>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Container>\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t<Button variant=\"success\" onClick={this.props.toggleSettings}>\n\t\t\t\t\t\tDone\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal.Dialog>\n\t\t);\n\t}\n}\n","import React, { Component } from 'react';\nimport { Button, Col, Container, Form, Modal, Row } from 'react-bootstrap';\nimport { MachineType, StateType } from '../../enums';\nimport axios from 'axios';\n\nclass SimulationModal extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tvalid: false,\n\t\t\ttestStrings: [],\n\t\t\terrors: [],\n\t\t\tmachineData: null\n\t\t};\n\n\t\tthis.changeTestStrings = this.changeTestStrings.bind(this);\n\t}\n\n\tchangeTestStrings(value) {\n\t\tconst noSpaceValue = value.replace(/ /g, '');\n\t\tthis.setState({ testStrings: noSpaceValue.split(',') });\n\t}\n\n\tvalidate(machineType, alphabets) {\n\t\tconst states = this.props.states;\n\t\tlet errors = [];\n\t\tlet machineData = {};\n\t\tmachineData.machine_name = 'Test Machine';\n\t\tmachineData.machine_type = machineType;\n\t\tmachineData.alphabet_count = alphabets.length;\n\t\tmachineData.alphabets = alphabets;\n\t\tmachineData.state_count = states.length;\n\t\tmachineData.states = [];\n\t\tif (states.length === 0) {\n\t\t\terrors.push(\"There aren't any states in your diagram.\");\n\t\t}\n\n\t\tlet initialStateCount = 0;\n\t\tlet finalStateCount = 0;\n\t\tlet count = 0;\n\n\t\tstates.forEach((s) => {\n\t\t\tif (s.stateType === StateType.INITIAL) initialStateCount += 1;\n\t\t\tif (s.stateType === StateType.FINAL) finalStateCount += 1;\n\t\t\ts.transitions.forEach((t) => {\n\t\t\t\tlet value = t.value;\n\t\t\t\tvalue = value.replace(/ /g, '');\n\t\t\t\tif (value.includes(',') && alphabets.every((a) => value.includes(a))) {\n\t\t\t\t\tcount += value.split(',').length;\n\t\t\t\t} else {\n\t\t\t\t\tif (alphabets.some((a) => value.includes(a))) count += 1;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tif (finalStateCount === 0) errors.push('There are no final states. Please add at least one final state.');\n\n\t\tif (initialStateCount === 0) errors.push('There is no initial state. Please add one initial state.');\n\t\telse if (initialStateCount > 1) errors.push('There can be only one initial state.');\n\n\t\tif (machineType === MachineType.DFA) {\n\t\t\tif (count !== alphabets.length * states.length)\n\t\t\t\terrors.push('Incomplete transitions or not enough transitions.');\n\t\t\telse {\n\t\t\t\tstates.forEach((s) => {\n\t\t\t\t\tmachineData.states.push({\n\t\t\t\t\t\tname: s.name,\n\t\t\t\t\t\ttype: s.stateType,\n\t\t\t\t\t\ttransitions: s.transitions.map((t) => {\n\t\t\t\t\t\t\tlet tr = {};\n\t\t\t\t\t\t\tif (t.value.includes(',')) {\n\t\t\t\t\t\t\t\tlet v = t.value.replace(/ /g, '').split(',');\n\t\t\t\t\t\t\t\tv.forEach((e) => {\n\t\t\t\t\t\t\t\t\ttr[e] = t.to.name;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttr[t.value] = t.to.name;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn tr;\n\t\t\t\t\t\t})\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (machineType === MachineType.NFA) {\n\t\t\tif (count === 0) errors.push('Incomplete transitions or not enough transitions.');\n\t\t\telse {\n\t\t\t\tconst noTransitionStates = states.filter((s) => s.transitions.length === 0);\n\t\t\t\tconst withTransitionStates = states.filter((s) => s.transitions.length !== 0);\n\t\t\t\tnoTransitionStates.forEach((s) => {\n\t\t\t\t\tmachineData.states.push({\n\t\t\t\t\t\tname: s.name,\n\t\t\t\t\t\ttype: s.stateType,\n\t\t\t\t\t\ttransitions: [ ...Array(1) ].map((e) => {\n\t\t\t\t\t\t\tlet tr = {};\n\t\t\t\t\t\t\talphabets.forEach((a) => {\n\t\t\t\t\t\t\t\ttr[a] = '$$';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn tr;\n\t\t\t\t\t\t})\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\twithTransitionStates.forEach((s) => {\n\t\t\t\t\tmachineData.states.push({\n\t\t\t\t\t\tname: s.name,\n\t\t\t\t\t\ttype: s.stateType,\n\t\t\t\t\t\ttransitions: [ ...Array(1) ].map((e) => {\n\t\t\t\t\t\t\tlet tr = {};\n\t\t\t\t\t\t\talphabets.forEach((a) => {\n\t\t\t\t\t\t\t\ttr[a] = '$$';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\ts.transitions.forEach((t) => {\n\t\t\t\t\t\t\t\tif (t.value.includes(',')) {\n\t\t\t\t\t\t\t\t\tlet v = t.value.replace(/ /g, '').split(',');\n\t\t\t\t\t\t\t\t\tv.forEach((e) => {\n\t\t\t\t\t\t\t\t\t\tif (tr[e] !== '$$') {\n\t\t\t\t\t\t\t\t\t\t\ttr[e] += ',' + t.to.name;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\ttr[e] = t.to.name;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (tr[t.value] !== '$$') {\n\t\t\t\t\t\t\t\t\t\ttr[t.value] += ',' + t.to.name;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\ttr[t.value] = t.to.name;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn tr;\n\t\t\t\t\t\t})\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (errors.length === 0) this.setState({ errors, valid: true, machineData });\n\t\telse this.setState({ errors, valid: false });\n\t}\n\n\tprepareTestCases() {\n\t\tlet errors = [];\n\t\tif (this.state.testStrings.length === 0) {\n\t\t\terrors.push('Please enter at least one test string');\n\t\t}\n\t\tlet machineData = this.state.machineData;\n\t\tmachineData.test_strings = this.state.testStrings;\n\t\tif (errors.length === 0) {\n\t\t\taxios({\n\t\t\t\tmethod: 'POST',\n\t\t\t\turl: 'https://fasim.herokuapp.com/diagram',\n\t\t\t\tdata: JSON.stringify(machineData),\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t}\n\t\t\t})\n\t\t\t\t.then((r) => {\n\t\t\t\t\tthis.props.setSimulationData(r.data);\n\t\t\t\t\tthis.close.click();\n\t\t\t\t})\n\t\t\t\t.catch((e) => console.log(e));\n\t\t}\n\t\tthis.setState({ errors });\n\t}\n\n\trender() {\n\t\tlet machineType = '';\n\t\tswitch (this.props.machineType) {\n\t\t\tcase MachineType.DFA:\n\t\t\t\tmachineType = 'DFA';\n\t\t\t\tbreak;\n\t\t\tcase MachineType.NFA:\n\t\t\t\tmachineType = 'NFA';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn (\n\t\t\t<Modal.Dialog style={{ zIndex: 9999 }} hidden={this.props.show}>\n\t\t\t\t<Modal.Header>\n\t\t\t\t\t<Container className=\"px-0\">\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col className=\"text-left\">\n\t\t\t\t\t\t\t\t<Modal.Title>Simulate {machineType}</Modal.Title>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Container>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<h5 className=\"pb-2\">Test Strings</h5>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<p>Please enter comma separated test strings</p>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tdisabled={!this.state.valid}\n\t\t\t\t\t\t\t\tplaceholder=\"Test Strings\"\n\t\t\t\t\t\t\t\taria-label=\"Test Strings\"\n\t\t\t\t\t\t\t\taria-describedby=\"test-strings\"\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tthis.changeTestStrings(e.target.value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t{this.state.errors.length ? (\n\t\t\t\t\t\t\tthis.state.errors.map((error, index) => (\n\t\t\t\t\t\t\t\t<Row key={index}>\n\t\t\t\t\t\t\t\t\t<p className=\"text-danger\">{error}</p>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t) : this.state.valid ? (\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<p className=\"text-success\">Wow! No errors in diagram!</p>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</Container>\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t{this.state.valid ? (\n\t\t\t\t\t\t<Button variant=\"success\" onClick={() => this.prepareTestCases()}>\n\t\t\t\t\t\t\tPrepare Test Cases\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Button variant=\"success\" onClick={() => this.validate(this.props.machineType, [ '0', '1' ])}>\n\t\t\t\t\t\t\tValidate\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"danger\"\n\t\t\t\t\t\tref={(node) => {\n\t\t\t\t\t\t\tthis.close = node;\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tvalid: false,\n\t\t\t\t\t\t\t\terrors: []\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.props.toggleSimulation(null);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tClose\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal.Dialog>\n\t\t);\n\t}\n}\n\nexport default SimulationModal;\n","import React from 'react';\nimport {Container} from 'react-bootstrap';\nimport p5 from 'p5';\nimport globals from '../../globals';\nimport State from './State';\nimport SettingsModal from './SettingsModal';\nimport SimulationModal from \"../simulation/SimulationModal\";\nimport {StateType} from \"../../enums\";\n\nconst LETTERS = (() => {\n  const caps = [...Array(26)].map((val, i) => String.fromCharCode(i + 65));\n  return caps.concat(caps.map((letter) => letter.toLowerCase()));\n})();\n\nclass Sketch extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      states: [],\n      numStates: 0,\n      p5: null,\n      showSettingsModal: false,\n      deletedCount: 0,\n      hideSimulation: true,\n      machineType: null,\n      testString: [],\n      currentIndex: -1\n    }\n    this.newSketch = this.newSketch.bind(this);\n    this.addState = this.addState.bind(this);\n    this.setup = this.setup.bind(this);\n    this.draw = this.draw.bind(this);\n    this.mousePressed = this.mousePressed.bind(this);\n    this.mouseReleased = this.mouseReleased.bind(this);\n    this.doubleClicked = this.doubleClicked.bind(this);\n    this.toggleSettings = this.toggleSettings.bind(this);\n    this.toggleSimulation = this.toggleSimulation.bind(this);\n    this.setSimulationData = this.setSimulationData.bind(this);\n    this.deleteState = this.deleteState.bind(this);\n    this.setTestCase = this.setTestCase.bind(this);\n  }\n\n  newSketch() {\n    this.setState({states: [], numStates: 0});\n  }\n\n  addState(stateType) {\n    let states = this.state.states;\n    const p5 = this.state.p5;\n    let newState = new State(\n      p5,\n      p5.width / 2,\n      p5.height / 2,\n      50,\n      LETTERS[this.state.numStates],\n      this.state.numStates - this.state.deletedCount,\n      stateType,\n      255\n    );\n    states.push(newState);\n    this.setState({numStates: this.state.numStates + 1, states});\n  }\n\n  componentDidMount() {\n    new p5(this.sketch);\n  }\n\n  setup = (p5) => {\n    const c = p5.createCanvas(p5.windowWidth, p5.windowHeight);\n    c.parent('sketch-holder');\n    c.position(0, 0);\n    p5.angleMode(p5.DEGREES);\n    this.setState({p5});\n  };\n\n  draw = (p5) => {\n    p5.background(255);\n    p5.push()\n    const l = 40 - this.state.testString.length\n    p5.textSize(l);\n    p5.translate(-l * 2, 0);\n    if (this.state.currentIndex === -1)\n      p5.fill(\"#000\")\n    this.state.testString.forEach((char, i) => {\n      if (this.state.currentIndex !== -1) {\n        if (i === this.state.currentIndex)\n          p5.fill(\"#3575ff\");\n        else\n          p5.fill(\"#000\");\n      }\n      p5.text(char, p5.width / 3 + (i * 20), 100);\n    })\n    p5.pop()\n    this.state.states.forEach((state) => {\n      state.setP5(p5);\n      state.connect();\n      state.over();\n      state.update();\n      state.show();\n    });\n  };\n\n  mousePressed = () => {\n    this.state.states.forEach((state) => {\n      state.pressed(this.state.states);\n    });\n  };\n\n  mouseReleased = () => {\n    this.state.states.forEach((state) => {\n      state.released();\n    });\n    this.setState({showSettingsModal: globals.showSettings});\n  };\n\n  doubleClicked = () => {\n    this.state.states.forEach((state) => {\n      state.doubleClicked();\n    });\n  };\n\n  windowResized = (p5) => {\n    p5.resizeCanvas(p5.windowWidth, p5.windowHeight);\n  };\n\n  sketch = (p5) => {\n    p5.setup = () => this.setup(p5);\n    p5.draw = () => this.draw(p5);\n    p5.windowResized = () => this.windowResized(p5);\n    p5.mousePressed = () => this.mousePressed();\n    p5.mouseReleased = () => this.mouseReleased();\n    p5.doubleClicked = () => this.doubleClicked();\n  };\n\n  toggleSettings() {\n    this.setState({showSettingsModal: !this.state.showSettingsModal});\n    globals.showSettings = false;\n  }\n\n  deleteState(i) {\n    let tempStates = this.state.states;\n    let toBeRemoved = tempStates.filter((e) => e.index === i)[0];\n    let otherStates = tempStates.filter((e) => e.index !== i);\n    otherStates.forEach((other) => {\n      for (let i = 0; i < other.transitions.length; i++) {\n        if (other.transitions[i].to.index === toBeRemoved.index) {\n          other.transitions.splice(i, 1);\n          break;\n        }\n      }\n    });\n    for (let i = toBeRemoved.index; i < otherStates.length; i++) {\n      otherStates[i].index -= 1;\n    }\n    this.setState({\n      states: otherStates,\n      showSettingsModal: !this.state.showSettingsModal,\n      deletedCount: this.state.deletedCount + 1\n    });\n    globals.showSettings = false;\n  }\n\n  toggleSimulation(machineType) {\n    this.setState({hideSimulation: !this.state.hideSimulation, machineType})\n    globals.showSimulation = this.state.hideSimulation\n  }\n\n  setSimulationData(data) {\n    this.props.setSimulationData(data);\n  }\n\n  setTestCase(testCaseData) {\n    this.setState({currentIndex: -1})\n\n    const time = 1000\n    const initial = this.state.states.filter((s) => s.stateType === StateType.INITIAL)[0];\n    const rest = this.state.states.filter((s) => s.stateType !== StateType.INITIAL);\n    rest.forEach((r) => {\n      r.color = 255\n    })\n\n    initial.color = \"#ff6868\"\n    const states = this.state.states\n    const data = testCaseData.testCase\n    const testCaseNumber = testCaseData.testCaseNumber\n    const resultText = document.querySelector(`#result-${testCaseNumber}`)\n\n    this.setState({testString: [...testCaseData.testString]})\n    let d;\n\n    if (data.transition.map(t => t[\"N\"]).indexOf(\"N\") === -1)\n      d = data.transition.length;\n    else\n      d = data.transition.map(t => t[\"N\"]).indexOf(\"N\")\n\n    let lastTransition = data.transition[d - 1];\n    const lastState = states.filter((s) => {\n      let lastStates = Object.values(lastTransition)[0];\n      if (lastStates.includes(\",\")) {\n        const transitions = lastStates.split(\",\")\n        const lastStateName = transitions[transitions.length - 1]\n        return s.name === lastStateName;\n      } else {\n        return s.name === lastStates\n      }\n    })[0];\n\n    if (data.transition.filter(t => Object.keys(t)[0] === \"N\").length < 1)\n      data.transition.push({\"N\": \"N\"})\n\n    setTimeout(function () {\n      data.transition.forEach((t, i) => {\n        let state = [], rest;\n        if (Object.values(t)[0].includes(\",\")) {\n          const temp = Object.values(t)[0].split(\",\");\n          temp.forEach(tr => {\n            state.push(states.filter((s) => s.name === tr)[0]);\n          })\n          rest = states.filter((s) => !temp.includes(s.name))\n        } else {\n          state = states.filter((s) => s.name === Object.values(t)[0]);\n          rest = states.filter((s) => s.name !== Object.values(t)[0]);\n        }\n        if (Object.keys(t).includes(\"N\")) {\n          clearColors(states, i)\n        } else {\n          setColor(state, rest, i);\n        }\n      })\n    }, time);\n\n    const setColor = function (state, rest, i) {\n      setTimeout(function () {\n        this.setState({currentIndex: i})\n        state.forEach(s => {\n          if (s !== undefined) {\n            if (s.stateType === StateType.FINAL) {\n              s.color = \"#01d6a4\"\n            } else {\n              s.color = \"#ff6868\"\n            }\n          }\n        })\n        rest.forEach((r) => {\n          r.color = 255\n        })\n      }.bind(this), time * i);\n    }.bind(this)\n\n    function clearColors(states, i) {\n      setTimeout(function () {\n        states.forEach(s => {\n          if (s !== undefined)\n            s.color = 255\n        })\n        if (lastState === undefined) {\n          if (!resultText.classList.contains(\"text-danger\"))\n            resultText.classList.add(\"text-danger\")\n          resultText.innerHTML = \"Rejected\"\n        } else {\n          if (lastState.stateType === StateType.FINAL) {\n            if (!resultText.classList.contains(\"text-success\"))\n              resultText.classList.add(\"text-success\")\n            resultText.innerHTML = \"Accepted\"\n          } else {\n            if (!resultText.classList.contains(\"text-danger\"))\n              resultText.classList.add(\"text-danger\")\n            resultText.innerHTML = \"Rejected\"\n          }\n        }\n      }, time * i);\n    }\n\n  }\n\n  render() {\n    let modalTitle = '';\n    if (this.state.showSettingsModal) {\n      modalTitle = ' State ';\n    }\n    return (\n      <div>\n        <Container id=\"sketch-holder\"/>\n        {this.state.showSettingsModal ? (\n          <SettingsModal\n            ref={(node) => (this.settings = node)}\n            title={modalTitle}\n            toggleSettings={this.toggleSettings}\n            deleteState={this.deleteState}\n          />\n        ) : null}\n        <SimulationModal machineType={this.state.machineType}\n                         states={this.state.states}\n                         show={this.state.hideSimulation}\n                         toggleSimulation={(machineType) => this.toggleSimulation(machineType)}\n                         setSimulationData={(data) => this.setSimulationData(data)}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Sketch;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"State\",\n  transform: \"translate(-397 -263)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Ellipse_1\",\n  \"data-name\": \"Ellipse 1\",\n  transform: \"translate(397 263)\",\n  fill: \"none\",\n  stroke: \"#000\",\n  strokeWidth: 3\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 68.5,\n  cy: 68.5,\n  r: 68.5,\n  stroke: \"none\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 68.5,\n  cy: 68.5,\n  r: 67,\n  fill: \"none\"\n})), /*#__PURE__*/React.createElement(\"text\", {\n  id: \"S\",\n  transform: \"translate(449 350)\",\n  fontSize: 50,\n  fontFamily: \"Arial\"\n}, /*#__PURE__*/React.createElement(\"tspan\", {\n  x: 0,\n  y: 0\n}, \"S\")));\n\nvar SvgState = function SvgState(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 137 137\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgState, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/state.6e001998.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Initial_State\",\n  \"data-name\": \"Initial State\",\n  transform: \"translate(-299 -508)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Ellipse_2\",\n  \"data-name\": \"Ellipse 2\",\n  transform: \"translate(397 508)\",\n  fill: \"none\",\n  stroke: \"#000\",\n  strokeWidth: 3\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 68.5,\n  cy: 68.5,\n  r: 68.5,\n  stroke: \"none\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 68.5,\n  cy: 68.5,\n  r: 67,\n  fill: \"none\"\n})), /*#__PURE__*/React.createElement(\"text\", {\n  id: \"S\",\n  transform: \"translate(449 595)\",\n  fontSize: 50,\n  fontFamily: \"Arial\"\n}, /*#__PURE__*/React.createElement(\"tspan\", {\n  x: 0,\n  y: 0\n}, \"S\")), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"arrow\",\n  d: \"M61.037,36.553V51.678L97.66,34.433,61.037,17.23V32.484H0v4.069H61.037Z\",\n  transform: \"translate(299 543)\",\n  fillRule: \"evenodd\"\n}));\n\nvar SvgInitState = function SvgInitState(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 235 137\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgInitState, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/init_state.82a14ace.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Final_State\",\n  \"data-name\": \"Final State\",\n  transform: \"translate(-780 -263)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Ellipse_3\",\n  \"data-name\": \"Ellipse 3\",\n  transform: \"translate(780 263)\",\n  fill: \"none\",\n  stroke: \"#000\",\n  strokeWidth: 3\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 68.5,\n  cy: 68.5,\n  r: 68.5,\n  stroke: \"none\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 68.5,\n  cy: 68.5,\n  r: 67,\n  fill: \"none\"\n})), /*#__PURE__*/React.createElement(\"text\", {\n  id: \"S\",\n  transform: \"translate(832 350)\",\n  fontSize: 50,\n  fontFamily: \"Arial\"\n}, /*#__PURE__*/React.createElement(\"tspan\", {\n  x: 0,\n  y: 0\n}, \"S\")), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Ellipse_4\",\n  \"data-name\": \"Ellipse 4\",\n  transform: \"translate(790 273)\",\n  fill: \"none\",\n  stroke: \"#000\",\n  strokeWidth: 3\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 58.5,\n  cy: 58.5,\n  r: 58.5,\n  stroke: \"none\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 58.5,\n  cy: 58.5,\n  r: 57,\n  fill: \"none\"\n})));\n\nvar SvgFinalState = function SvgFinalState(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 137 137\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgFinalState, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/final_state.62992b81.svg\";\nexport { ForwardRef as ReactComponent };","import { Card, Button, ButtonGroup } from 'react-bootstrap';\nimport React from 'react';\nimport { ReactComponent as StateSymbol } from '../../assets/symbols/state.svg';\nimport { ReactComponent as InitState } from '../../assets/symbols/init_state.svg';\nimport { ReactComponent as FinalState } from '../../assets/symbols/final_state.svg';\nimport { StateType } from '../../enums';\n\nexport default class ToolBar extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<Card bg=\"white\" text=\"dark\">\n\t\t\t\t<ButtonGroup vertical>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"white\"\n\t\t\t\t\t\tclassName=\"pb-3 pt-3\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tthis.props.addState(StateType.INITIAL);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<InitState />\n\t\t\t\t\t</Button>\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"white\"\n\t\t\t\t\t\tclassName=\"pb-3 pt-3\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tthis.props.addState(StateType.NORMAL);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<StateSymbol />\n\t\t\t\t\t</Button>\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"white\"\n\t\t\t\t\t\tclassName=\"pb-3 pt-3\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tthis.props.addState(StateType.FINAL);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<FinalState />\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n","import React, {Component} from 'react';\nimport {Card, Row, Container, Button} from \"react-bootstrap\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faPlay} from \"@fortawesome/free-solid-svg-icons\";\n\nclass SimulationPlayer extends Component {\n  render() {\n    const simData = this.props.simulationData;\n    return (\n      <Card bg='white' text='dark' hidden={simData === null}>\n        <Card.Header style={{backgroundColor: 'white'}}>\n          <h5 className='my-auto'>Simulate Test Cases</h5>\n        </Card.Header>\n        <Card.Body>\n          <Container>\n            {simData === null ? <Row>\n              <p className='my-auto'>No simulation cases available. Please click Simulate and select your type of\n                diagram.</p>\n            </Row> : <React.Fragment>\n              {simData.test_strings.map((test, index) => <Row key={index}\n                                                              className='justify-content-between align-items-center mb-3 px-3'>\n                <p className='p-0 m-0 my-auto' style={{fontSize: 18}}><b>Test {index + 1} - </b>{test}</p>\n                <Button\n                  id=\"play-button\"\n                  variant=\"success\" onClick={() => {\n                  this.props.setTestCase(index)\n                }}>\n                  <FontAwesomeIcon icon={faPlay}/>\n                </Button>\n              </Row>)}\n              {simData.test_strings.map((test, index) => <Row key={index}\n                                                              className='justify-content-between align-items-center mb-3 px-3'>\n                <p className={`p-0 m-0 my-auto`} style={{fontSize: 18}}>\n                  <b>Test {index + 1} Result - <span id={`result-${index}`}>\n                  </span></b>\n                </p>\n              </Row>)}\n            </React.Fragment>\n            }\n          </Container>\n        </Card.Body>\n      </Card>\n    );\n  }\n}\n\nexport default SimulationPlayer;","import React, { Component } from 'react';\nimport { Modal, Container, Row } from 'react-bootstrap';\nimport QRCode from 'qrcode.react';\nimport Axios from 'axios';\n\nexport default class QRModal extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tqrCodeValue: ''\n\t\t};\n\t\tthis.getQRImage = this.getQRImage.bind(this);\n\t}\n\n\tgetQRImage() {\n\t\tAxios({\n\t\t\tmethod: 'GET',\n\t\t\turl: 'https://fasim.herokuapp.com/getstring'\n\t\t}).then((res) => {\n\t\t\tthis.setState({ qrCodeValue: res.data });\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getQRImage();\n\t\tsetInterval(this.getQRImage, 5 * 1000);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Modal\n\t\t\t\tstyle={{ zIndex: 9999 }}\n\t\t\t\tshow={this.props.show}\n\t\t\t\tcentered\n\t\t\t\tkeyboard={false}\n\t\t\t\tbackdrop=\"static\"\n\t\t\t\tonHide={this.props.handleQRClose}\n\t\t\t>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>Welcome to FASIM</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<Container>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\tPlease use our app to scan this QR Code{' '}\n\t\t\t\t\t\t\t\t<span role=\"img\" aria-labelledby=\"emo\" className=\"h4\">\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t\t\t\t<QRCode\n\t\t\t\t\t\t\t\tvalue={this.state.qrCodeValue}\n\t\t\t\t\t\t\t\tlevel=\"M\"\n\t\t\t\t\t\t\t\trenderAs=\"svg\"\n\t\t\t\t\t\t\t\tsize={300}\n\t\t\t\t\t\t\t\timageSettings={{\n\t\t\t\t\t\t\t\t\twidth: 60,\n\t\t\t\t\t\t\t\t\theight: 60,\n\t\t\t\t\t\t\t\t\tsrc:\n\t\t\t\t\t\t\t\t\t\t'https://cdn.discordapp.com/attachments/759950229473722438/782512125951082496/fasim.png'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Container>\n\t\t\t\t</Modal.Body>\n\t\t\t</Modal>\n\t\t);\n\t}\n}\n","import React from 'react';\nimport MenuBar from './components/nav/MenuBar';\nimport Sketch from './components/sketch/Sketch';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport ToolBar from './components/tools/ToolBar';\nimport SimulationPlayer from './components/tools/SimulationPlayer';\nimport QRModal from './components/auth/QRModal';\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsimulationData: null,\n\t\t\tloggedIn: false\n\t\t};\n\t\tthis.handleQRClose = this.handleQRClose.bind(this);\n\t}\n\n\thandleQRClose() {\n\t\tthis.setState({ loggedIn: !this.state.loggedIn });\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<QRModal show={!this.state.loggedIn} handleQRClose={this.handleQRClose} />\n\t\t\t\t<Sketch\n\t\t\t\t\tref={(node) => {\n\t\t\t\t\t\tthis.sketch = node;\n\t\t\t\t\t}}\n\t\t\t\t\tsetSimulationData={(simulationData) => {\n\t\t\t\t\t\tthis.setState({ simulationData });\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<Container fluid style={{ padding: 0 }}>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<MenuBar\n\t\t\t\t\t\t\t\tnewSketch={() => {\n\t\t\t\t\t\t\t\t\tthis.sketch.newSketch();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttoggleSimulation={(machineType) => {\n\t\t\t\t\t\t\t\t\tthis.sketch.toggleSimulation(machineType);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Container>\n\t\t\t\t<Container fluid>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col sm=\"1\" style={{ zIndex: 999, position: 'absolute', top: 80 }}>\n\t\t\t\t\t\t\t<ToolBar\n\t\t\t\t\t\t\t\taddState={(stateType) => {\n\t\t\t\t\t\t\t\t\tthis.sketch.addState(stateType);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Container>\n\t\t\t\t<Container fluid>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col sm=\"3\" style={{ zIndex: 999, position: 'absolute', top: 80, right: 20 }}>\n\t\t\t\t\t\t\t<SimulationPlayer\n\t\t\t\t\t\t\t\tsimulationData={this.state.simulationData}\n\t\t\t\t\t\t\t\tsetTestCase={(index) => {\n\t\t\t\t\t\t\t\t\tthis.sketch.setTestCase({\n\t\t\t\t\t\t\t\t\t\ttestString: this.state.simulationData.test_strings[index],\n\t\t\t\t\t\t\t\t\t\ttestCaseNumber: index,\n\t\t\t\t\t\t\t\t\t\ttestCase: this.state.simulationData.transitions[index][index]\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Container>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\"),\n);\n","module.exports = __webpack_public_path__ + \"static/media/fasim.dc6fb918.png\";"],"sourceRoot":""}