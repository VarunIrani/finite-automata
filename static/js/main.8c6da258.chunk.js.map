{"version":3,"sources":["enums.js","components/nav/MenuBar.jsx","globals.js","components/simulation/SimulationModal.jsx","components/simulation/validations.js","components/sketch/SettingsModal.jsx","components/sketch/Transition.js","components/sketch/State.js","components/simulation/simulations.js","components/sketch/Sketch.jsx","assets/symbols/state.svg","assets/symbols/init_state.svg","assets/symbols/final_state.svg","components/tools/ToolBar.jsx","components/tools/SimulationPlayer.jsx","components/auth/QRModal.jsx","App.jsx","index.jsx","assets/fasim.png"],"names":["FAWithoutOutput","FAWithOutput","LineType","StateType","MenuBar","Navbar","bg","variant","fixed","Brand","style","color","Row","Col","lg","Image","width","src","fasimLogo","className","Toggle","aria-controls","Collapse","id","Nav","Dropdown","Menu","aria-labelledby","Item","onClick","this","props","newSketch","Divider","toggleSimulation","user","name","Button","logout","React","Component","globals","showSettings","showSimulation","selectedState","SimulationModal","state","valid","testStrings","errors","machineData","changeTestStrings","bind","value","noSpaceValue","replace","setState","split","machineType","inputAlphabets","outputAlphabets","result","alphabets","states","machine_type","alphabet_count","length","state_count","push","initialStateCount","finalStateCount","count","forEach","s","stateType","transitions","t","includes","some","a","type","map","tr","e","to","noTransitionStates","filter","withTransitionStates","Array","validateFAWithoutOutput","input_alpha_count","input_alpha","output_alpha_count","output_alpha","trs","output","validateFAWithOutput","document","querySelectorAll","innerHTML","test_strings","route","axios","method","url","data","JSON","stringify","headers","then","r","setSimulationData","close","click","catch","Modal","Dialog","zIndex","hidden","show","Header","Container","Title","Body","fluid","Form","Control","disabled","placeholder","aria-label","aria-describedby","onChange","target","error","index","key","Footer","prepareTestCases","validate","inputSymbols","outputSymbols","ref","node","SettingsModal","stateName","changeLineType","changeStateType","changeValue","changeStateName","deleteTransition","i","lineType","toString","toBeRemoved","indexOf","splice","title","deleteState","defaultValue","DropdownButton","as","from","icon","faTrash","toggleSettings","Transition","p5","controlPoints","start","end","orgStart","createVector","x","y","orgEnd","translate","setMag","mag","rotate","b","d","noStroke","fill","text","pop","stroke","strokeWeight","getControlPoints","startCP","endCP","noFill","bezier","dist","drawValue","sx","sy","v","heading","triangle","ARROW_SIZE","textVec","line","STATE_RADIUS","arrow","drawSelfLoop","drawBezierWithArrow","drawLineWithArrow","State","dragging","rollover","connecting","connected","intersecting","int","offsetX","offsetY","mouseX","mouseY","other","transition","base","vec","showTransitions","drawArrow","rotating","varyingMag","arrowSize","circle","textSize","textAlign","CENTER","indices","edgeIntersects","max","mouseButton","RIGHT","topState","getTopState","Number","NEGATIVE_INFINITY","connectingState","showFAWithoutOutputTest","testCaseData","sketch","currentIndex","initial","testCase","testCaseNumber","resultText","querySelector","testString","reverse","lastTransition","lastStates","Object","values","lastStateName","keys","N","setTimeout","rest","temp","undefined","clearColors","setColor","showFAWithOutputTest","charAt","LETTERS","val","Sketch","setup","c","createCanvas","windowWidth","windowHeight","parent","position","angleMode","DEGREES","draw","background","char","setP5","connect","over","update","mousePressed","pressed","mouseReleased","released","showSettingsModal","doubleClicked","windowResized","resizeCanvas","numStates","deletedCount","hideSimulation","addState","setTestCase","newState","height","tempStates","otherStates","modalTitle","settings","_extends","assign","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","transform","strokeWidth","cx","cy","fontSize","fontFamily","_ref","svgRef","viewBox","ForwardRef","forwardRef","fillRule","ToolBar","Card","ButtonGroup","vertical","SimulationPlayer","simData","simulationData","backgroundColor","Fragment","test","faPlay","QRModal","qrCodeValue","getQRImage","hasUserPing","Axios","res","console","log","status","handleQRClose","setUser","setInterval","centered","keyboard","backdrop","onHide","closeButton","role","level","renderAs","size","imageSettings","App","loggedIn","parse","localStorage","getItem","changeInputSymbols","changeOutputSymbols","setItem","inputText","outputText","padding","window","location","reload","sm","top","left","Label","n","right","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"+SAAaA,EACP,EADOA,EAEP,EAGOC,EACL,EADKA,EAEL,EAGKC,EACL,QADKA,EAEN,OAQMC,EACG,EADHA,EAEH,EAFGA,EAGJ,EAHIA,EAIL,ECyDOC,E,uKA3EJ,IAAD,OACR,OACC,kBAACC,EAAA,EAAD,CAAQC,GAAG,OAAOC,QAAQ,OAAOC,MAAM,OACtC,kBAACH,EAAA,EAAOI,MAAR,CAAcC,MAAO,CAAEC,MAAO,UAC7B,kBAACC,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CAAKC,GAAG,KACP,kBAACC,EAAA,EAAD,CAAOL,MAAO,CAAEM,MAAO,OAASC,IAAKC,OAEtC,kBAACL,EAAA,EAAD,CAAKC,GAAG,IAAIK,UAAU,qBAAtB,WAKF,kBAACd,EAAA,EAAOe,OAAR,CAAeV,MAAO,CAAEC,MAAO,SAAWU,gBAAc,qBACxD,kBAAChB,EAAA,EAAOiB,SAAR,CAAiBC,GAAG,mBAAmBJ,UAAU,2BAChD,kBAACK,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,KACC,kBAACA,EAAA,EAASL,OAAV,CAAiBb,QAAQ,cAAcgB,GAAG,YAAYb,MAAO,CAAEC,MAAO,UAAtE,QAGA,kBAACc,EAAA,EAASC,KAAV,CAAeC,kBAAgB,aAC9B,kBAACF,EAAA,EAASG,KAAV,CAAeC,QAASC,KAAKC,MAAMC,WAAnC,OACA,kBAACP,EAAA,EAASG,KAAV,eACA,kBAACH,EAAA,EAASG,KAAV,eACA,kBAACH,EAAA,EAASQ,QAAV,MACA,kBAACR,EAAA,EAASG,KAAV,eAGF,kBAACH,EAAA,EAAD,KACC,kBAACA,EAAA,EAASL,OAAV,CAAiBb,QAAQ,cAAcgB,GAAG,gBAAgBb,MAAO,CAAEC,MAAO,UAA1E,YAGA,kBAACc,EAAA,EAASC,KAAV,CAAeC,kBAAgB,iBAC9B,kBAACF,EAAA,EAASG,KAAV,CAAeC,QAAS,kBAAM,EAAKE,MAAMG,iBAAiBlC,KAA1D,OAGA,kBAACyB,EAAA,EAASG,KAAV,CAAeC,QAAS,kBAAM,EAAKE,MAAMG,iBAAiBlC,KAA1D,OAGA,kBAACyB,EAAA,EAASG,KAAV,CAAeC,QAAS,kBAAM,EAAKE,MAAMG,iBAAiBjC,KAA1D,iBAGA,kBAACwB,EAAA,EAASG,KAAV,CAAeC,QAAS,kBAAM,EAAKE,MAAMG,iBAAiBjC,KAA1D,mBAKF,kBAACwB,EAAA,EAAD,KACC,kBAACA,EAAA,EAASL,OAAV,CAAiBb,QAAQ,cAAcgB,GAAG,YAAYb,MAAO,CAAEC,MAAO,UAAtE,QAGA,kBAACc,EAAA,EAASC,KAAV,KACC,kBAACD,EAAA,EAASG,KAAV,eACA,kBAACH,EAAA,EAASG,KAAV,mBAIH,kBAACJ,EAAA,EAAD,CAAKL,UAAU,cACd,kBAACP,EAAA,EAAD,CAAKO,UAAU,sBACd,0BAAMA,UAAU,QAAhB,mBACkBW,KAAKC,MAAMI,KAAO,KAAOL,KAAKC,MAAMI,KAAKC,KAAO,IAEjEN,KAAKC,MAAMI,KACX,kBAACE,EAAA,EAAD,CAAQ9B,QAAQ,SAASY,UAAU,OAAOU,QAASC,KAAKC,MAAMO,QAA9D,UAGG,a,GAnEWC,IAAMC,W,kCCCbC,EAND,CACbC,cAAc,EACdC,gBAAgB,EAChBC,cAAe,M,2CCuKDC,E,kDAnKd,WAAYd,GAAQ,IAAD,8BAClB,cAAMA,IACDe,MAAQ,CACZC,OAAO,EACPC,YAAa,GACbC,OAAQ,GACRC,YAAa,MAGd,EAAKC,kBAAoB,EAAKA,kBAAkBC,KAAvB,gBATP,E,8DAYDC,GACjB,IAAMC,EAAeD,EAAME,QAAQ,KAAM,IACzCzB,KAAK0B,SAAS,CAAER,YAAaM,EAAaG,MAAM,S,+BAGxCC,EAAaC,EAAgBC,GACrC,IAAIC,EACAH,IAAgB1D,GAAuB0D,IAAgB1D,EAC1D6D,ECzBoC,SAACH,EAAaI,EAAWC,GAC/D,IAAId,EAAS,GACTC,EAAc,CAClBA,aAA2B,gBAC3BA,EAAYc,aAAeN,EAC3BR,EAAYe,eAAiBH,EAAUI,OACvChB,EAAYY,UAAYA,EACxBZ,EAAYiB,YAAcJ,EAAOG,OACjChB,EAAYa,OAAS,GACC,IAAlBA,EAAOG,QACVjB,EAAOmB,KAAK,4CAGb,IAAIC,EAAoB,EACpBC,EAAkB,EAClBC,EAAQ,EAyBZ,GAvBAR,EAAOS,SAAQ,SAACC,GACXA,EAAEC,YAAcvE,IAAmBkE,GAAqB,GACxDI,EAAEC,YAAcvE,IAAiBmE,GAAmB,GACpDG,EAAEC,YAAcvE,IACnBkE,GAAqB,EACrBC,GAAmB,GAEpBG,EAAEE,YAAYH,SAAQ,SAACI,GACtB,IAAIvB,EAAQuB,EAAEvB,OACdA,EAAQA,EAAME,QAAQ,KAAM,KAClBsB,SAAS,MAAQf,EAAUgB,MAAK,SAACC,GAAD,OAAO1B,EAAMwB,SAASE,MAC/DR,GAASlB,EAAMI,MAAM,KAAKS,OAEtBJ,EAAUgB,MAAK,SAACC,GAAD,OAAO1B,EAAMwB,SAASE,QAAKR,GAAS,SAKlC,IAApBD,GAAuBrB,EAAOmB,KAAK,mEAEb,IAAtBC,EAAyBpB,EAAOmB,KAAK,4DAChCC,EAAoB,GAAGpB,EAAOmB,KAAK,wCAExCV,IAAgB1D,EACfuE,IAAUT,EAAUI,OAASH,EAAOG,OACvCjB,EAAOmB,KAAK,qDAEZL,EAAOS,SAAQ,SAACC,GACfvB,EAAYa,OAAOK,KAAK,CACvBhC,KAAMqC,EAAErC,KACR4C,KAAMP,EAAEC,UACRC,YAAaF,EAAEE,YAAYM,KAAI,SAACL,GAC/B,IAAIM,EAAK,GACLN,EAAEvB,MAAMwB,SAAS,KACZD,EAAEvB,MAAME,QAAQ,KAAM,IAAIE,MAAM,KACtCe,SAAQ,SAACW,GACVD,EAAGC,GAAKP,EAAEQ,GAAGhD,QAGd8C,EAAGN,EAAEvB,OAASuB,EAAEQ,GAAGhD,KAEpB,OAAO8C,eAKL,GAAIxB,IAAgB1D,EAC1B,GAAc,IAAVuE,EAAatB,EAAOmB,KAAK,yDACxB,CACJ,IAAMiB,EAAqBtB,EAAOuB,QAAO,SAACb,GAAD,OAAgC,IAAzBA,EAAEE,YAAYT,UACxDqB,EAAuBxB,EAAOuB,QAAO,SAACb,GAAD,OAAgC,IAAzBA,EAAEE,YAAYT,UAChEmB,EAAmBb,SAAQ,SAACC,GAC3BvB,EAAYa,OAAOK,KAAK,CACvBhC,KAAMqC,EAAErC,KACR4C,KAAMP,EAAEC,UACRC,YAAa,YAAKa,MAAM,IAAKP,KAAI,SAACE,GACjC,IAAID,EAAK,GAIT,OAHApB,EAAUU,SAAQ,SAACO,GAClBG,EAAGH,GAAK,QAEFG,UAIVK,EAAqBf,SAAQ,SAACC,GAC7BvB,EAAYa,OAAOK,KAAK,CACvBhC,KAAMqC,EAAErC,KACR4C,KAAMP,EAAEC,UACRC,YAAa,YAAKa,MAAM,IAAKP,KAAI,SAACE,GACjC,IAAID,EAAK,GAsBT,OArBApB,EAAUU,SAAQ,SAACO,GAClBG,EAAGH,GAAK,QAETN,EAAEE,YAAYH,SAAQ,SAACI,GAClBA,EAAEvB,MAAMwB,SAAS,KACZD,EAAEvB,MAAME,QAAQ,KAAM,IAAIE,MAAM,KACtCe,SAAQ,SAACW,GACI,OAAVD,EAAGC,GACND,EAAGC,IAAM,IAAMP,EAAEQ,GAAGhD,KAEpB8C,EAAGC,GAAKP,EAAEQ,GAAGhD,QAIK,OAAhB8C,EAAGN,EAAEvB,OACR6B,EAAGN,EAAEvB,QAAU,IAAMuB,EAAEQ,GAAGhD,KAE1B8C,EAAGN,EAAEvB,OAASuB,EAAEQ,GAAGhD,QAIf8C,UAMZ,IAAInC,GAAQ,EAEZ,OADsB,IAAlBE,EAAOiB,SAAcnB,GAAQ,GAC1B,CAAEE,SAAQF,QAAOG,eD3FbuC,CAAwB/B,EAAaC,EAAgB7B,KAAKC,MAAMgC,QACjEL,IAAgBzD,GAAsByD,IAAgBzD,IAC9D4D,EC4FiC,SAACH,EAAaC,EAAgBC,EAAiBG,GAClF,IAAId,EAAS,GACTC,EAAc,CAClBA,aAA2B,gBAC3BA,EAAYc,aAAeN,EAC3BR,EAAYwC,kBAAoB/B,EAAeO,OAC/ChB,EAAYyC,YAAchC,EAC1BT,EAAY0C,mBAAqBhC,EAAgBM,OACjDhB,EAAY2C,aAAejC,EAC3BV,EAAYiB,YAAcJ,EAAOG,OACjChB,EAAYa,OAAS,GAEC,IAAlBA,EAAOG,QACVjB,EAAOmB,KAAK,4CAGb,IA0DK0B,EA1DDzB,EAAoB,EACpBC,EAAkB,EAClBC,EAAQ,GAEZR,EAAOS,SAAQ,SAACC,GACXA,EAAEC,YAAcvE,IAAmBkE,GAAqB,GACxDI,EAAEC,YAAcvE,IAAiBmE,GAAmB,GACpDG,EAAEC,YAAcvE,IACnBkE,GAAqB,EACrBC,GAAmB,GAEhBZ,IAAgBzD,EACnBwE,EAAEE,YAAYH,SAAQ,SAACI,GACtB,IAAIvB,EAAQuB,EAAEvB,OACdA,EAAQA,EAAME,QAAQ,KAAM,KAClBsB,SAAS,KAClBxB,EAAMI,MAAM,KAAKe,SAAQ,SAACI,GACG,IAAxBA,EAAEnB,MAAM,KAAKS,QAEfP,EAAemB,MAAK,SAACC,GAAD,OAAOH,EAAEnB,MAAM,KAAK,GAAGoB,SAASE,OACpDnB,EAAgBkB,MAAK,SAACC,GAAD,OAAOH,EAAEnB,MAAM,KAAK,GAAGoB,SAASE,QAErDR,GAAS,MAIoB,IAA5BlB,EAAMI,MAAM,KAAKS,QAEnBP,EAAemB,MAAK,SAACC,GAAD,OAAO1B,EAAMI,MAAM,KAAK,GAAGoB,SAASE,OACxDnB,EAAgBkB,MAAK,SAACC,GAAD,OAAO1B,EAAMI,MAAM,KAAK,GAAGoB,SAASE,QAEzDR,GAAS,OAKRX,EAAgBkB,MAAK,SAACC,GAAD,OAAON,EAAErC,KAAKyC,SAASE,OAChD9B,EAAOmB,KAAP,gBAAqBK,EAAErC,KAAvB,6BACDqC,EAAEE,YAAYH,SAAQ,SAACI,GACtB,IAAIvB,EAAQuB,EAAEvB,OACdA,EAAQA,EAAME,QAAQ,KAAM,KAClBsB,SAAS,MAAQlB,EAAemB,MAAK,SAACC,GAAD,OAAO1B,EAAMwB,SAASE,MACpER,GAASlB,EAAMI,MAAM,KAAKS,OAEtBP,EAAemB,MAAK,SAACC,GAAD,OAAO1B,EAAMwB,SAASE,QAAKR,GAAS,UAM5DD,EAAkB,GAAGrB,EAAOmB,KAAK,yEAEX,IAAtBC,EAAyBpB,EAAOmB,KAAK,4DAChCC,EAAoB,GAAGpB,EAAOmB,KAAK,wCAExCG,IAAUZ,EAAeO,OAASH,EAAOG,QAC5CjB,EAAOmB,KAAK,qDAGRV,IAAgBzD,EACnB8D,EAAOS,SAAQ,SAACC,GACfqB,EAAM,GACN5C,EAAYa,OAAOK,KAAK,CACvBhC,KAAMqC,EAAErC,KAER4C,KAAMP,EAAEC,UAAY,EACpBC,YAAaF,EAAEE,YAAYM,KAAI,SAACL,GAC/B,IAAIM,EAAK,GACLN,EAAEvB,MAAMwB,SAAS,KACZD,EAAEvB,MAAME,QAAQ,KAAM,IAAIE,MAAM,KACtCe,SAAQ,SAACW,IACVD,EAAK,IACH,MAAYN,EAAEQ,GAAGhD,KACnB8C,EAAE,MAAYC,EAAE1B,MAAM,KAAK,GAC3ByB,EAAE,OAAaC,EAAE1B,MAAM,KAAK,GAC5BqC,EAAI1B,KAAKc,OAIVA,EAAE,MAAYN,EAAEQ,GAAGhD,KACnB8C,EAAE,MAAYN,EAAEvB,MAAMI,MAAM,KAAK,GACjCyB,EAAE,OAAaN,EAAEvB,MAAMI,MAAM,KAAK,GAClCqC,EAAI1B,KAAKc,IAEV,OAAOY,KACL,QAIL/B,EAAOS,SAAQ,SAACC,GACfqB,EAAM,GACN5C,EAAYa,OAAOK,KAAK,CACvBhC,KAAMqC,EAAErC,KAAKqB,MAAM,KAAK,GACxBsC,OAAQtB,EAAErC,KAAKqB,MAAM,KAAK,GAE1BuB,KAAMP,EAAEC,UAAY,EACpBC,YAAaF,EAAEE,YAAYM,KAAI,SAACL,GAC/B,IAAIM,EAAK,GACLN,EAAEvB,MAAMwB,SAAS,KACZD,EAAEvB,MAAME,QAAQ,KAAM,IAAIE,MAAM,KACtCe,SAAQ,SAACW,IACVD,EAAK,IACH,MAAYN,EAAEQ,GAAGhD,KAAKqB,MAAM,KAAK,GACnCyB,EAAE,MAAYC,EACdW,EAAI1B,KAAKc,OAGVA,EAAE,MAAYN,EAAEQ,GAAGhD,KAAKqB,MAAM,KAAK,GACnCyB,EAAE,MAAYN,EAAEvB,MAChByC,EAAI1B,KAAKc,IAEV,OAAOY,KACL,QAKP,IAAI/C,GAAQ,EAEZ,OADsB,IAAlBE,EAAOiB,SAAcnB,GAAQ,GAC1B,CAAEE,SAAQF,QAAOG,eDnOb8C,CAAqBtC,EAAaC,EAAgBC,EAAiB9B,KAAKC,MAAMgC,SACxFjC,KAAK0B,SAAL,eAAmBK,M,yCAGA,IAAD,OAClBoC,SAASC,iBAAT,WAAqC1B,SAAQ,SAACW,GAAD,OAAQA,EAAEgB,UAAY,MACnE,IAAIlD,EAAS,GACyB,IAAlCnB,KAAKgB,MAAME,YAAYkB,QAC1BjB,EAAOmB,KAAK,yCAEb,IAAIlB,EAAcpB,KAAKgB,MAAMI,YAC7BA,EAAYkD,aAAetE,KAAKgB,MAAME,YACtC,IAAIqD,EAAQ,GACRnD,EAAYc,eAAiB/D,GAChCoG,EAAQ,gBAERnD,EAAYc,aAAe,GACjBd,EAAYc,eAAiB/D,GACvCoG,EAAQ,gBAERnD,EAAYc,aAAe,GACrBqC,EAAQ,UACO,IAAlBpD,EAAOiB,QACVoC,IAAM,CACLC,OAAQ,OACRC,IAAI,+BAAD,OAAiCH,GACpCI,KAAMC,KAAKC,UAAUzD,GACrB0D,QAAS,CACR,eAAgB,sBAGhBC,MAAK,SAACC,GACN,EAAK/E,MAAMgF,kBAAkBD,EAAEL,MAC/B,EAAKO,MAAMC,WAEXC,OAAM,SAAC/B,GAAD,OAAOA,KAEhBrD,KAAK0B,SAAS,CAAEP,a,+BAGP,IAAD,OACJS,EAAc,GAClB,OAAQ5B,KAAKC,MAAM2B,aAClB,KAAK1D,EACJ0D,EAAc,MACd,MACD,KAAK1D,EACJ0D,EAAc,MACd,MACD,KAAKzD,EACJyD,EAAc,gBACd,MACD,KAAKzD,EACJyD,EAAc,gBAKhB,OACC,kBAACyD,EAAA,EAAMC,OAAP,CAAc1G,MAAO,CAAE2G,OAAQ,MAAQC,OAAQxF,KAAKC,MAAMwF,MACzD,kBAACJ,EAAA,EAAMK,OAAP,KACC,kBAACC,EAAA,EAAD,CAAWtG,UAAU,QACpB,kBAACP,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CAAKM,UAAU,aACd,kBAACgG,EAAA,EAAMO,MAAP,iBAAuBhE,OAK3B,kBAACyD,EAAA,EAAMQ,KAAP,KACC,kBAACF,EAAA,EAAD,CAAWG,OAAK,GACf,kBAAChH,EAAA,EAAD,KACC,wBAAIO,UAAU,QAAd,iBAED,kBAACP,EAAA,EAAD,KACC,yEAED,kBAACA,EAAA,EAAD,CAAKO,UAAU,QACd,kBAAC0G,EAAA,EAAKC,QAAN,CACCC,UAAWjG,KAAKgB,MAAMC,MACtBiF,YAAY,eACZC,aAAW,eACXC,mBAAiB,eACjBC,SAAU,SAAChD,GACV,EAAKhC,kBAAkBgC,EAAEiD,OAAO/E,WAIlCvB,KAAKgB,MAAMG,OAAOiB,OAClBpC,KAAKgB,MAAMG,OAAOgC,KAAI,SAACoD,EAAOC,GAAR,OACrB,kBAAC1H,EAAA,EAAD,CAAK2H,IAAKD,GACT,uBAAGnH,UAAU,eAAekH,OAG3BvG,KAAKgB,MAAMC,MACd,kBAACnC,EAAA,EAAD,KACC,uBAAGO,UAAU,gBAAb,+BAEE,OAGN,kBAACgG,EAAA,EAAMqB,OAAP,KACE1G,KAAKgB,MAAMC,MACX,kBAACV,EAAA,EAAD,CAAQ9B,QAAQ,UAAUsB,QAAS,kBAAM,EAAK4G,qBAA9C,sBAIA,kBAACpG,EAAA,EAAD,CACC9B,QAAQ,UACRsB,QAAS,WACR,EAAK6G,SACJ,EAAK3G,MAAM2B,YACX,EAAK3B,MAAM4G,aACX,EAAK5G,MAAM6G,iBANd,YAaD,kBAACvG,EAAA,EAAD,CACC9B,QAAQ,SACRsI,IAAK,SAACC,GACL,EAAK9B,MAAQ8B,GAEdjH,QAAS,WACR,EAAK2B,SAAS,CACbT,OAAO,EACPE,OAAQ,KAET,EAAKlB,MAAMG,iBAAiB,QAV9B,e,GA/IyBM,a,yBECTuG,E,kDACpB,WAAYhH,GAAQ,IAAD,8BAClB,cAAMA,IACDe,MAAQ,CACZkG,UAAWvG,EAAQG,cAAcR,MAElC,EAAK6G,eAAiB,EAAKA,eAAe7F,KAApB,gBACtB,EAAK8F,gBAAkB,EAAKA,gBAAgB9F,KAArB,gBACvB,EAAK+F,YAAc,EAAKA,YAAY/F,KAAjB,gBACnB,EAAKgG,gBAAkB,EAAKA,gBAAgBhG,KAArB,gBACvB,EAAKiG,iBAAmB,EAAKA,iBAAiBjG,KAAtB,gBATN,E,2DAYJC,EAAOiG,GACrB7G,EAAQG,cAAc+B,YAAY2E,GAAGC,SAAWlG,EAChDvB,KAAK0B,SAAS,M,sCAGCH,GACfZ,EAAQG,cAAc8B,UAAYrB,EAClCvB,KAAK0B,SAAS,M,kCAGHH,EAAOiG,GACG,IAAjBjG,EAAMa,OACTzB,EAAQG,cAAc+B,YAAY2E,GAAGjG,MAAQ,SAE7CZ,EAAQG,cAAc+B,YAAY2E,GAAGjG,MAAQA,EAAMmG,a,uCAIpC1G,EAAOwG,GACvB,IAAIG,EAAc3G,EAAM6B,YAAYW,QAAO,SAACH,GAAD,OAAOA,EAAEmD,QAAUgB,KAC1DhB,EAAQxF,EAAM6B,YAAY+E,QAAQD,EAAY,IAClD3G,EAAM6B,YAAYgF,OAAOrB,EAAO,GAChCxG,KAAK0B,SAAS,M,sCAGCH,GACXA,EAAMa,OAAS,GAAKb,EAAMa,QAAU,IACvCzB,EAAQG,cAAcR,KAAOiB,EAC7BvB,KAAK0B,SAAS,O,+BAIN,IAAD,OACJkB,EAAY,GAChB,OAAQjC,EAAQG,cAAc8B,WAC7B,KAAKvE,EACJuE,EAAY,SACZ,MACD,KAAKvE,EACJuE,EAAY,UACZ,MACD,KAAKvE,EACJuE,EAAY,QACZ,MACD,KAAKvE,EACJuE,EAAY,gBAKd,OACC,kBAACyC,EAAA,EAAMC,OAAP,CAAc1G,MAAO,CAAE2G,OAAQ,OAC9B,kBAACF,EAAA,EAAMK,OAAP,CAAcrG,UAAU,QACvB,kBAACsG,EAAA,EAAD,KACC,kBAAC7G,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CAAKM,UAAU,aACd,kBAACgG,EAAA,EAAMO,MAAP,KACEhD,EADF,IACc5C,KAAKC,MAAM6H,MADzB,IACiCnH,EAAQG,cAAcR,OAGxD,kBAACvB,EAAA,EAAD,CAAKM,UAAU,cACd,kBAACkB,EAAA,EAAD,CACC9B,QAAQ,SACRsB,QAAS,WACR,EAAKE,MAAM8H,YAAYpH,EAAQG,cAAc0F,SAH/C,oBAaJ,kBAACnB,EAAA,EAAMQ,KAAP,KACC,kBAACF,EAAA,EAAD,CAAWG,OAAK,GACf,kBAAChH,EAAA,EAAD,KACC,wBAAIO,UAAU,QAAd,YAED,kBAACP,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CAAKC,GAAG,IAAIK,UAAU,0BACrB,2CAED,kBAACN,EAAA,EAAD,CAAKC,GAAG,IAAIK,UAAU,qBACrB,kBAAC0G,EAAA,EAAKC,QAAN,CACCgC,aAAcrH,EAAQG,cAAcR,KACpC4F,YAAY,aACZC,aAAW,aACXC,mBAAiB,aACjBC,SAAU,SAAChD,GACV,EAAKiE,gBAAgBjE,EAAEiD,OAAO/E,WAIjC,kBAACxC,EAAA,EAAD,CAAKC,GAAG,OAET,kBAACF,EAAA,EAAD,CAAKO,UAAU,aACd,kBAACN,EAAA,EAAD,CAAKC,GAAG,IAAIK,UAAU,0BACrB,2CAED,kBAACN,EAAA,EAAD,CAAKC,GAAG,IAAIK,UAAU,qBACrB,kBAAC4I,EAAA,EAAD,CAAgBxJ,QAAQ,OAAOgB,GAAG,sBAAsBqI,MAAOlF,GAC9D,kBAACjD,EAAA,EAASG,KAAV,CAAeoI,GAAG,UACjB,yBACCnI,QAAS,WACR,EAAKqH,gBAAgB/I,KAFvB,YAQD,kBAACsB,EAAA,EAASG,KAAV,CAAeoI,GAAG,UACjB,yBACCnI,QAAS,WACR,EAAKqH,gBAAgB/I,KAFvB,WAQD,kBAACsB,EAAA,EAASG,KAAV,CAAeoI,GAAG,UACjB,yBACCnI,QAAS,WACR,EAAKqH,gBAAgB/I,KAFvB,UAQD,kBAACsB,EAAA,EAASG,KAAV,CAAeoI,GAAG,UACjB,yBACCnI,QAAS,WACR,EAAKqH,gBAAgB/I,KAFvB,oBAUH,kBAACU,EAAA,EAAD,CAAKC,GAAG,OAER2B,EAAQG,cAAc+B,YAAYT,OAClC,6BACC,kBAACtD,EAAA,EAAD,KACC,wBAAIO,UAAU,QAAd,gBAED,kBAACP,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CAAKM,UAAU,aACd,4CAED,kBAACN,EAAA,EAAD,CAAKM,UAAU,aACd,sCAED,kBAACN,EAAA,EAAD,CAAKM,UAAU,aACd,2CAGDsB,EAAQG,cAAc+B,YAAYM,KAAI,SAACL,GACvC,OACC,kBAAChE,EAAA,EAAD,CAAKO,UAAU,OAAOoH,IAAK3D,EAAE0D,OAC5B,kBAACzH,EAAA,EAAD,CAAKM,UAAU,qBACd,wBAAIA,UAAU,WAAWyD,EAAEqF,KAAK7H,KAAO,OAASwC,EAAEQ,GAAGhD,OAEtD,kBAACvB,EAAA,EAAD,CAAKM,UAAU,aACd,kBAACP,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,KACC,kBAACgH,EAAA,EAAKC,QAAN,CACCgC,aAAclF,EAAEvB,MAChB2E,YAAY,QACZC,aAAW,QACXC,mBAAiB,mBACjBC,SAAU,SAAChD,GACV,EAAKgE,YAAYhE,EAAEiD,OAAO/E,MAAOuB,EAAE0D,aAMvC1D,EAAEqF,KAAK3B,QAAU1D,EAAEQ,GAAGkD,MACtB,kBAACzH,EAAA,EAAD,CAAKM,UAAU,aACd,kBAACP,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CAAKC,GAAG,MACR,kBAACD,EAAA,EAAD,CAAKC,GAAG,IAAIK,UAAU,cACrB,kBAACkB,EAAA,EAAD,CACC9B,QAAQ,SACRsB,QAAS,WACR,EAAKwH,iBACJ5G,EAAQG,cACRgC,EAAE0D,SAIJ,kBAAC,IAAD,CAAiB4B,KAAMC,UAM3B,kBAACtJ,EAAA,EAAD,CAAKM,UAAU,aACd,kBAACP,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CAAKC,GAAG,KACP,kBAACiJ,EAAA,EAAD,CACCxJ,QAAQ,OACRgB,GAAG,qBACHqI,MAAOhF,EAAE2E,UAET,kBAAC9H,EAAA,EAASG,KAAV,CAAeoI,GAAG,UACjB,yBACCnI,QAAS,WACR,EAAKoH,eACJ/I,EACA0E,EAAE0D,SAJL,UAWD,kBAAC7G,EAAA,EAASG,KAAV,CAAeoI,GAAG,UACjB,yBACCnI,QAAS,WACR,EAAKoH,eAAe/I,EAAe0E,EAAE0D,SAFvC,WAUH,kBAACzH,EAAA,EAAD,CAAKC,GAAG,IAAIK,UAAU,cACrB,kBAACkB,EAAA,EAAD,CACC9B,QAAQ,SACRsB,QAAS,WACR,EAAKwH,iBACJ5G,EAAQG,cACRgC,EAAE0D,SAIJ,kBAAC,IAAD,CAAiB4B,KAAMC,eAWhC,6BACC,kBAACvJ,EAAA,EAAD,KACC,wBAAIO,UAAU,QAAd,gBAED,kBAACP,EAAA,EAAD,KACC,oFAML,kBAACuG,EAAA,EAAMqB,OAAP,KACC,kBAACnG,EAAA,EAAD,CAAQ9B,QAAQ,UAAUsB,QAASC,KAAKC,MAAMqI,gBAA9C,c,GApRsC5H,aCHtB6H,E,WACpB,WAAYC,EAAIhC,EAAO2B,EAAM7E,EAAIzE,EAAO0C,EAAOkG,GAAW,oBACzDzH,KAAKwG,MAAQA,EACbxG,KAAKwI,GAAKA,EACVxI,KAAKmI,KAAOA,EACZnI,KAAKsD,GAAKA,EACVtD,KAAKnB,MAAQA,EACbmB,KAAKyI,cAAgB,GACrBzI,KAAKuB,MAAQA,EACbvB,KAAKyH,SAAWA,E,6DAGAiB,EAAOC,GACvB,IACIC,EAAW5I,KAAKwI,GAAGK,aAAa7I,KAAKmI,KAAKW,EAAG9I,KAAKmI,KAAKY,GACvDC,EAAShJ,KAAKwI,GAAGK,aAAa7I,KAAKsD,GAAGwF,EAAIF,EAASE,EAAG9I,KAAKsD,GAAGyF,EAAIH,EAASG,GAG/E/I,KAAKwI,GAAGS,UAAUL,EAASE,EAAGF,EAASG,GACvCJ,EAAIO,OAAOF,EAAOG,MAAQ,GAC1BR,EAAIS,OAPU,IAQdpJ,KAAKyI,cAAc,GAAKE,EACxB,IAAI1F,EAAIjD,KAAKwI,GAAGK,aAAaF,EAAIG,EAAGH,EAAII,GACxC9F,EAAEiG,OA1BiB,IA6BnBP,EADAD,EAAQM,EAIRhJ,KAAKwI,GAAGS,UAAUP,EAAMI,EAAGJ,EAAMK,GACjCJ,EAAIO,OAAOF,EAAOG,MAAQ,GAC1BR,EAAIS,OAAO,KACXpJ,KAAKyI,cAAc,GAAKE,EACxB,IAAIU,EAAIrJ,KAAKwI,GAAGK,aAAaF,EAAIG,EAAGH,EAAII,GACxCM,EAAEH,OArCiB,IAuCnBlJ,KAAKyI,cAAc,GAAKxF,EACxBjD,KAAKyI,cAAc,GAAKY,I,gCAGfC,EAAG3G,GACZA,EAAEuG,OAAOI,EAAI,KACb3G,EAAEyG,QAAQ,IACVpJ,KAAKwI,GAAGlG,OACRtC,KAAKwI,GAAGS,UAAUtG,EAAEmG,EAAI9I,KAAKmI,KAAKW,EAAGnG,EAAEoG,EAAI/I,KAAKmI,KAAKY,GACrD/I,KAAKwI,GAAGe,WACRvJ,KAAKwI,GAAGgB,KAAKxJ,KAAKnB,OAClBmB,KAAKwI,GAAGiB,KAAKzJ,KAAKuB,MAAO,EAAG,GAC5BvB,KAAKwI,GAAGkB,Q,4CAIR,IAAMhB,EAAQ1I,KAAKwI,GAAGK,aAAa7I,KAAKmI,KAAKW,EAAG9I,KAAKmI,KAAKY,GACpDJ,EAAM3I,KAAKwI,GAAGK,aAAa7I,KAAKsD,GAAGwF,EAAIJ,EAAMI,EAAG9I,KAAKsD,GAAGyF,EAAIL,EAAMK,GACxE/I,KAAKwI,GAAGlG,OACRtC,KAAKwI,GAAGmB,OAAO3J,KAAKnB,OACpBmB,KAAKwI,GAAGoB,aAAa,GACrB5J,KAAKwI,GAAGgB,KAAKxJ,KAAKnB,OAClBmB,KAAK6J,iBAAiBnB,EAAOC,GAC7B3I,KAAKwI,GAAGkB,MAER,IAAMI,EAAU9J,KAAKyI,cAAc,GAC7BsB,EAAQ/J,KAAKyI,cAAc,GAC3BxF,EAAIjD,KAAKyI,cAAc,GACvBY,EAAIrJ,KAAKyI,cAAc,GAE7BzI,KAAKwI,GAAGwB,SACRhK,KAAKwI,GAAGmB,OAAO3J,KAAKnB,OACpBmB,KAAKwI,GAAGoB,aAAa,GAErB5J,KAAKwI,GAAGyB,OACPhH,EAAE6F,EAAI9I,KAAKmI,KAAKW,EAChB7F,EAAE8F,EAAI/I,KAAKmI,KAAKY,EAChBe,EAAQhB,EAAI9I,KAAKmI,KAAKW,EACtBgB,EAAQf,EAAI/I,KAAKmI,KAAKY,EACtBgB,EAAMjB,EAAI9I,KAAKsD,GAAGwF,EAClBiB,EAAMhB,EAAI/I,KAAKsD,GAAGyF,EAClBM,EAAEP,EAAI9I,KAAKsD,GAAGwF,EACdO,EAAEN,EAAI/I,KAAKsD,GAAGyF,GAGf,IAAMO,EAAItJ,KAAKwI,GAAG0B,KAAKlK,KAAKmI,KAAKW,EAAG9I,KAAKmI,KAAKY,EAAG/I,KAAKsD,GAAGwF,EAAG9I,KAAKsD,GAAGyF,GAE9DpG,EAAI3C,KAAKwI,GAAGK,aAAaiB,EAAQhB,EAAGgB,EAAQf,GAElD/I,KAAKmK,UAAUb,EAAG3G,GAElBmH,EAAQZ,OAAOI,EAAI,KACnBQ,EAAQV,QAAQ,IAChBW,EAAMb,OA5Fa,IA8FnB,IAAIkB,EAAKN,EAAQhB,EAAI9I,KAAKmI,KAAKW,EAC3BuB,EAAKP,EAAQf,EAAI/I,KAAKmI,KAAKY,EAG/B/I,KAAKwI,GAAGlG,OACRtC,KAAKwI,GAAGS,UAAUmB,EAAIC,EAAI,IAC1B,IAAIvB,EAAIiB,EAAMjB,EAAI9I,KAAKsD,GAAGwF,EACtBC,EAAIgB,EAAMhB,EAAI/I,KAAKsD,GAAGyF,EACtBuB,EAAItK,KAAKwI,GAAGK,aAAaC,EAAIsB,EAAIrB,EAAIsB,GAEzCrK,KAAKwI,GAAGgB,KAAKxJ,KAAKnB,OAClBmB,KAAKwI,GAAGS,UAAUqB,EAAExB,EAAGwB,EAAEvB,GACzB/I,KAAKwI,GAAGY,OAAO,IAAMkB,EAAEC,WACvBvK,KAAKwI,GAAGgC,SA1GS,GA0GYC,EA1GZ,IA0GwC,EAAiB,EAAG,GAC7EzK,KAAKwI,GAAGkB,Q,0CAIR,IAAMhB,EAAQ1I,KAAKwI,GAAGK,aAAa7I,KAAKmI,KAAKW,EAAG9I,KAAKmI,KAAKY,GACpDJ,EAAM3I,KAAKwI,GAAGK,aAAa7I,KAAKsD,GAAGwF,EAAIJ,EAAMI,EAAG9I,KAAKsD,GAAGyF,EAAIL,EAAMK,GAClE2B,EAAU1K,KAAKwI,GAAGK,aAAa7I,KAAKsD,GAAGwF,EAAIJ,EAAMI,EAAG9I,KAAKsD,GAAGyF,EAAIL,EAAMK,GAE5E/I,KAAKwI,GAAGlG,OACRtC,KAAKwI,GAAGmB,OAAO3J,KAAKnB,OACpBmB,KAAKwI,GAAGoB,aAAa,GACrB5J,KAAKwI,GAAGgB,KAAKxJ,KAAKnB,OAClBmB,KAAKwI,GAAGS,UAAUP,EAAMI,EAAGJ,EAAMK,GACjCJ,EAAIO,OAAOP,EAAIQ,MAzHI,IA0HnBuB,EAAQxB,OAAOwB,EAAQvB,MAAQ,GAC/BuB,EAAQtB,QAAQ,GAEhBpJ,KAAKwI,GAAGlG,OACRtC,KAAKwI,GAAGe,WACRvJ,KAAKwI,GAAGiB,KAAKzJ,KAAKuB,MAAOmJ,EAAQ5B,EAAG4B,EAAQ3B,GAC5C/I,KAAKwI,GAAGkB,MAER1J,KAAKwI,GAAGmC,KAAK,EAAG,EAAGhC,EAAIG,EAAGH,EAAII,GAC9B/I,KAAKwI,GAAGY,OAAOT,EAAI4B,WAEnBvK,KAAKwI,GAAGS,UAAUN,EAAIQ,MApIL,GAoIyB,GAC1CnJ,KAAKwI,GAAGgC,SAAS,EAAGC,EAAgB,GAAG,EArItB,GAqImD,GACpEzK,KAAKwI,GAAGkB,Q,qCAIR,IAAMhB,EAAQ1I,KAAKwI,GAAGK,aAAa7I,KAAKmI,KAAKW,EA3I1B,GA2I4C9I,KAAKmI,KAAKY,GACzE/I,KAAKwI,GAAGmB,OAAO3J,KAAKnB,OACpBmB,KAAKwI,GAAGwB,SACR,IAAI/G,EAAIjD,KAAKwI,GAAGK,cAAa,GAAoBH,EAAMI,GA9IpC,GA8IuDJ,EAAMK,GAC5EM,EAAIrJ,KAAKwI,GAAGK,aAAa+B,IAAmB3H,EAAE6F,GAAG,GAAoB7F,EAAE8F,GACrEJ,EAAM3I,KAAKwI,GAAGK,aAAa7I,KAAKmI,KAAKW,EAAG9I,KAAKmI,KAAKY,EAhJrC,IAiJnB/I,KAAKwI,GAAGyB,OAAOvB,EAAMI,EAAGJ,EAAMK,EAAG9F,EAAE6F,EAAG7F,EAAE8F,EAAGM,EAAEP,EAAGO,EAAEN,EAAGJ,EAAIG,EAAGH,EAAII,GAChE,IAAIjG,EAAI9C,KAAKwI,GAAGK,cAAa,GAAoBH,EAAMI,GAAG,GAAoBJ,EAAMK,GACpF/I,KAAKwI,GAAGgB,KAAKxJ,KAAKnB,OAClBmB,KAAKwI,GAAGe,WACRvJ,KAAKwI,GAAGiB,KAAKzJ,KAAKuB,MAAOuB,EAAEgG,EAAGhG,EAAEiG,GAEhC/I,KAAKwI,GAAGlG,OACRtC,KAAKwI,GAAGS,UAAUI,EAAEP,EAAGO,EAAEN,GACzB,IAAI8B,EAAQ7K,KAAKwI,GAAGK,aAAa,EAAG+B,IACpC5K,KAAKwI,GAAGS,UAAU4B,EAAM/B,EAAG+B,EAAM9B,GACjC/I,KAAKwI,GAAGY,QAAQyB,EAAMN,WACtBvK,KAAKwI,GAAGgC,SA3JS,GA2JYC,EA3JZ,IA2JwC,EAAiB,EAAG,GAC7EzK,KAAKwI,GAAGkB,Q,6BAIJ1J,KAAKmI,KAAK3B,QAAUxG,KAAKsD,GAAGkD,MAC/BxG,KAAK8K,eAED9K,KAAKyH,WAAarJ,EACrB4B,KAAK+K,sBAEL/K,KAAKgL,wB,KC/JYC,E,WACpB,WAAYzC,EAAIM,EAAGC,EAAGO,EAAGhJ,EAAMkG,EAAO5D,EAAW/D,GAAQ,oBACxDmB,KAAKwI,GAAKA,EACVxI,KAAKwG,MAAQA,EACbxG,KAAK4C,UAAYA,EACjB5C,KAAKkL,UAAW,EAChBlL,KAAKmL,UAAW,EAChBnL,KAAKoL,YAAa,EAClBpL,KAAKqL,WAAY,EACjBrL,KAAK6C,YAAc,GACnB7C,KAAKsL,cAAe,EACpBtL,KAAK8I,EAAIA,EACT9I,KAAK+I,EAAIA,EACT/I,KAAKgF,EAAIhF,KAAKwI,GAAG+C,IAAIjC,EAAI,GACzBtJ,KAAKM,KAAOA,EACZN,KAAKwL,QAAU,EACfxL,KAAKyL,QAAU,EACfzL,KAAKnB,MAAQA,E,kDAGR2J,GACLxI,KAAKwI,GAAKA,I,6BAIV,IAAMkD,EAAS1L,KAAKwI,GAAGkD,OACjBC,EAAS3L,KAAKwI,GAAGmD,OACjBrC,EAAItJ,KAAKwI,GAAG+C,IAAIvL,KAAKwI,GAAG0B,KAAKlK,KAAK8I,EAAG9I,KAAK+I,EAAG2C,EAAQC,IAE3D3L,KAAKmL,SAAW7B,EAAItJ,KAAKgF,I,sCAIzB,IAAM0G,EAAS1L,KAAKwI,GAAGkD,OACjBC,EAAS3L,KAAKwI,GAAGmD,OACb3L,KAAKwI,GAAG+C,IAAIvL,KAAKwI,GAAG0B,KAAKlK,KAAK8I,EAAG9I,KAAK+I,EAAG2C,EAAQC,IAEnD3L,KAAKgF,IACZhF,KAAKoL,YAAa,K,qCAILQ,GAEd,OADU5L,KAAKwI,GAAG0B,KAAKlK,KAAK8I,EAAG9I,KAAK+I,EAAG6C,EAAM9C,EAAG8C,EAAM7C,GAC9C/I,KAAKgF,EAAI4G,EAAM5G,GACtBhF,KAAKsL,cAAe,GACb,IAEPtL,KAAKsL,cAAe,GACb,K,+BAKR,IAAMI,EAAS1L,KAAKwI,GAAGkD,OACjBC,EAAS3L,KAAKwI,GAAGmD,OAEnB3L,KAAKkL,WACRlL,KAAK8I,EAAI4C,EAAS1L,KAAKwL,QACvBxL,KAAK+I,EAAI4C,EAAS3L,KAAKyL,W,wCAKxBzL,KAAK6C,YAAYH,SAAQ,SAACmJ,GACzBA,EAAWpG,Y,gCAKZ,IAAMiG,EAAS1L,KAAKwI,GAAGkD,OACjBC,EAAS3L,KAAKwI,GAAGmD,OAIvB,GAHA3L,KAAKwI,GAAGoB,aAAa,GACrB5J,KAAKwI,GAAGmB,OA5Ee,WA8EnB3J,KAAKoL,WAAY,CACpB,IAAIU,EAAO9L,KAAKwI,GAAGK,aAAa7I,KAAK8I,EAAG9I,KAAK+I,GACzCgD,EAAM/L,KAAKwI,GAAGK,aAAa6C,EAASI,EAAKhD,EAAG6C,EAASG,EAAK/C,GAC1D/I,KAAK6C,YAAYT,QACpBpC,KAAKgM,kBAENhM,KAAKiM,UAAUH,EAAMC,EApFC,WAoFsB,GAAM,QACxC/L,KAAKqL,WACfrL,KAAKgM,oB,gCAIGF,EAAMC,EAAKlN,EAAOqN,EAAUC,GACrCnM,KAAKwI,GAAGlG,OACRtC,KAAKwI,GAAGmB,OAAO9K,GACfmB,KAAKwI,GAAGoB,aAAa,GACrB5J,KAAKwI,GAAGgB,KAAK3K,GACbmB,KAAKwI,GAAGS,UAAU6C,EAAKhD,EAAGgD,EAAK/C,GAC3BoD,GACHJ,EAAI7C,OAAO6C,EAAI5C,MAAQnJ,KAAKgF,GAE7BhF,KAAKwI,GAAGmC,KAAK,EAAG,EAAGoB,EAAIjD,EAAGiD,EAAIhD,GAE1BmD,GACHlM,KAAKwI,GAAGY,OAAO2C,EAAIxB,WAEpBvK,KAAKwI,GAAGS,UAAU8C,EAAI5C,MAJN,GAIyB,GACzCnJ,KAAKwI,GAAGgC,SAAS,EAAG4B,EAAe,GAAG,EALtB,GAKiD,GACjEpM,KAAKwI,GAAGkB,Q,6BAeR,GAXA1J,KAAKwI,GAAGoB,aAAa,GAErB5J,KAAKwI,GAAGgB,KAAKxJ,KAAKnB,OACdmB,KAAKmL,UAAYnL,KAAKkL,SACzBlL,KAAKwI,GAAGmB,OApHU,WAqHRhJ,EAAQC,cAAgBD,EAAQE,eAC1Cb,KAAKwI,GAAGmB,OAnHW,WAqHnB3J,KAAKwI,GAAGmB,OAAO,GAGZ3J,KAAK4C,YAAcvE,EACtB2B,KAAKwI,GAAG6D,OAAOrM,KAAK8I,EAAG9I,KAAK+I,EAAY,EAAT/I,KAAKgF,QAC9B,GAAIhF,KAAK4C,YAAcvE,EAC7B2B,KAAKwI,GAAG6D,OAAOrM,KAAK8I,EAAG9I,KAAK+I,EAAY,EAAT/I,KAAKgF,GACpChF,KAAKwI,GAAG6D,OAAOrM,KAAK8I,EAAG9I,KAAK+I,EAAY,IAAT/I,KAAKgF,QAC9B,GAAIhF,KAAK4C,YAAcvE,EAAmB,CAChD2B,KAAKwI,GAAG6D,OAAOrM,KAAK8I,EAAG9I,KAAK+I,EAAY,EAAT/I,KAAKgF,GACpC,IAAI8G,EAAO9L,KAAKwI,GAAGK,aAAa7I,KAAK8I,EAAa,EAAT9I,KAAKgF,EAAOhF,KAAK+I,GACtDgD,EAAM/L,KAAKwI,GAAGK,aAAa7I,KAAK8I,EAAI9I,KAAKgF,EAAI8G,EAAKhD,EAAG9I,KAAK+I,EAAI+C,EAAK/C,GAEnE/I,KAAKmL,UAAYnL,KAAKkL,SACzBlL,KAAKiM,UAAUH,EAAMC,EAtIJ,WAsIuB,GAAO,GACrCpL,EAAQC,cAAgBD,EAAQE,eAC1Cb,KAAKiM,UAAUH,EAAMC,EArIH,WAqIuB,GAAO,GAEhD/L,KAAKiM,UAAUH,EAAMC,EAAK,GAAG,GAAO,QAE/B,GAAI/L,KAAK4C,YAAcvE,EAAyB,CACtD2B,KAAKwI,GAAG6D,OAAOrM,KAAK8I,EAAG9I,KAAK+I,EAAY,EAAT/I,KAAKgF,GACpChF,KAAKwI,GAAG6D,OAAOrM,KAAK8I,EAAG9I,KAAK+I,EAAY,IAAT/I,KAAKgF,GACpC,IAAI8G,EAAO9L,KAAKwI,GAAGK,aAAa7I,KAAK8I,EAAa,EAAT9I,KAAKgF,EAAOhF,KAAK+I,GACtDgD,EAAM/L,KAAKwI,GAAGK,aAAa7I,KAAK8I,EAAI9I,KAAKgF,EAAI8G,EAAKhD,EAAG9I,KAAK+I,EAAI+C,EAAK/C,GAEnE/I,KAAKmL,UAAYnL,KAAKkL,SACzBlL,KAAKiM,UAAUH,EAAMC,EAnJJ,WAmJuB,GAAO,GACrCpL,EAAQC,cAAgBD,EAAQE,eAC1Cb,KAAKiM,UAAUH,EAAMC,EAlJH,WAkJuB,GAAO,GAEhD/L,KAAKiM,UAAUH,EAAMC,EAAK,GAAG,GAAO,GAItC/L,KAAKwI,GAAG8D,SAAkB,GAATtM,KAAKgF,GACtBhF,KAAKwI,GAAG+D,UAAUvM,KAAKwI,GAAGgE,OAAQxM,KAAKwI,GAAGgE,QAC1CxM,KAAKwI,GAAGe,WACJvJ,KAAKmL,UAAYnL,KAAKkL,SACzBlL,KAAKwI,GAAGgB,KA/JU,WAgKR7I,EAAQC,cAAgBD,EAAQE,eAC1Cb,KAAKwI,GAAGgB,KA9JW,WAgKnBxJ,KAAKwI,GAAGgB,KAAK,GAEdxJ,KAAKwI,GAAGiB,KAAKzJ,KAAKM,KAAMN,KAAK8I,EAAG9I,KAAK+I,K,kCAG1B9G,GAGX,IAFA,IAAIwK,EAAU,GAELjF,EAAI,EAAGA,EAAIvF,EAAOG,OAAQoF,IAC9BxH,KAAK0M,eAAezK,EAAOuF,MAC9BiF,EAAQnK,KAAKkF,GACbiF,EAAQnK,KAAKtC,KAAKwG,QAIpB,OADWxG,KAAKwI,GAAGmE,IAAIF,K,8BAIhBxK,GAAS,IAAD,OACf,IAAKtB,EAAQC,eAAiBD,EAAQE,eACrC,GAAIb,KAAKwI,GAAGoE,cAAgB5M,KAAKwI,GAAGqE,MAAO,CAC1C,IAAMnB,EAAS1L,KAAKwI,GAAGkD,OACjBC,EAAS3L,KAAKwI,GAAGmD,OAEvB,GADQ3L,KAAKwI,GAAG+C,IAAIvL,KAAKwI,GAAG0B,KAAKlK,KAAK8I,EAAG9I,KAAK+I,EAAG2C,EAAQC,IACjD3L,KAAKgF,EAAG,CACf,IAAI8H,EAAW9M,KAAK+M,YAAY9K,GAChCtB,EAAQC,cAAe,EACnBkM,IAAaE,OAAOC,mBAAqBhL,EAAO6K,GAAU3B,SAC7DxK,EAAQG,cAAgBmB,EAAO6K,GAE/BnM,EAAQG,cAAgBd,UAGzBW,EAAQC,cAAe,EACvBD,EAAQG,cAAgB,SAEnB,CACNH,EAAQC,cAAe,EACvBD,EAAQG,cAAgB,KACxB,IAAM4K,EAAS1L,KAAKwI,GAAGkD,OACjBC,EAAS3L,KAAKwI,GAAGmD,OACnBrC,EAAItJ,KAAKwI,GAAG+C,IAAIvL,KAAKwI,GAAG0B,KAAKlK,KAAK8I,EAAG9I,KAAK+I,EAAG2C,EAAQC,IAEzD,IAAK3L,KAAKkL,UAEL5B,EAAItJ,KAAKgF,EAAG,CACf,IAAI8H,EAAW9M,KAAK+M,YAAY9K,GAC5B6K,IAAaE,OAAOC,mBAAqBhL,EAAO6K,GAAU3B,UAE7DlJ,EAAO6K,GAAUtB,QAAUvJ,EAAO6K,GAAUhE,EAAI4C,EAChDzJ,EAAO6K,GAAUrB,QAAUxJ,EAAO6K,GAAU/D,EAAI4C,EAChD1J,EAAO6K,GAAU5B,UAAW,IAG5BlL,KAAKwL,QAAUxL,KAAK8I,EAAI4C,EACxB1L,KAAKyL,QAAUzL,KAAK+I,EAAI4C,EACxB3L,KAAKkL,UAAW,GAKnB,GAAIlL,KAAKoL,WACR,IADqB,IAAD,WACX5D,GACR,IAAI0F,EAAkBjL,EAAOuF,IAC7B8B,EAAI,EAAKd,GAAG+C,IAAI,EAAK/C,GAAG0B,KAAKgD,EAAgBpE,EAAGoE,EAAgBnE,EAAG2C,EAAQC,KACnEuB,EAAgBlI,GAKT,IAHb,EAAKnC,YAAYW,QAChB,SAACjC,GAAD,OACCA,EAAM4G,KAAK3B,QAAU,EAAKA,OAASjF,EAAM+B,GAAGkD,QAAU0G,EAAgB1G,SACtEpE,SAEE,EAAKoE,QAAU0G,EAAgB1G,MAClC,EAAK3D,YAAYP,KAChB,IAAIiG,EACH,EAAKC,GACL,EAAK3F,YAAYT,OACjB,EACA,EAhPc,UAkPd,SACAhE,IAIF,EAAKyE,YAAYP,KAChB,IAAIiG,EACH,EAAKC,GACL,EAAK3F,YAAYT,OACjB,EACA8K,EA5Pc,UA8Pd,SACA9O,IAIH,EAAKiN,WAAY,GAElB,EAAKD,YAAa,GAElB,EAAKA,YAAa,GAvCX5D,EAAI,EAAGA,EAAIvF,EAAOG,OAAQoF,IAAM,EAAhCA,M,iCAiDRxH,KAAKkL,WACRlL,KAAKkL,UAAW,O,KCrRNiC,EAA0B,SAACC,EAAcC,GACrDA,EAAO3L,SAAS,CAAE4L,cAAe,IAEjC,IACMC,EAAUF,EAAOrM,MAAMiB,OAAOuB,QACnC,SAACb,GAAD,OAAOA,EAAEC,YAAcvE,GAAqBsE,EAAEC,YAAcvE,KAC3D,GACWgP,EAAOrM,MAAMiB,OAAOuB,QAChC,SAACb,GAAD,OAAOA,EAAEC,YAAcvE,GAAqBsE,EAAEC,YAAcvE,KAExDqE,SAAQ,SAACsC,GACbA,EAAEnG,MAAQ,OAGX0O,EAAQ1O,MAAQ,UAChB,IAMIyK,EANErH,EAASoL,EAAOrM,MAAMiB,OACtB0C,EAAOyI,EAAaI,SACpBC,EAAiBL,EAAaK,eAC9BC,EAAavJ,SAASwJ,cAAT,kBAAkCF,IAErDJ,EAAO3L,SAAS,CAAEkM,WAAY,YAAKR,EAAaQ,YAAaC,YAGDvE,GAAH,IAArD3E,EAAKkH,WAAW1I,KAAI,SAACL,GAAD,OAAOA,EAAC,KAAO8E,QAAQ,KAAiBjD,EAAKkH,WAAWzJ,OACvEuC,EAAKkH,WAAW1I,KAAI,SAACL,GAAD,OAAOA,EAAC,KAAO8E,QAAQ,KAEpD,IAAIkG,EAAiBnJ,EAAKkH,WAAWvC,EAAI,GACvBrH,EAAOuB,QAAO,SAACb,GAChC,IAAIoL,EAAaC,OAAOC,OAAOH,GAAgB,GAC/C,GAAIC,EAAWhL,SAAS,KAAM,CAC7B,IAAMF,EAAckL,EAAWpM,MAAM,KAC/BuM,EAAgBrL,EAAYA,EAAYT,OAAS,GACvD,OAAOO,EAAErC,OAAS4N,EAElB,OAAOvL,EAAErC,OAASyN,KAEjB,GAECpJ,EAAKkH,WAAWrI,QAAO,SAACV,GAAD,MAA6B,MAAtBkL,OAAOG,KAAKrL,GAAG,MAAYV,OAAS,GAAGuC,EAAKkH,WAAWvJ,KAAK,CAAE8L,EAAG,MAEnGC,YAAW,WACV1J,EAAKkH,WAAWnJ,SAAQ,SAACI,EAAG0E,GAC3B,IACC8G,EADGtN,EAAQ,GAEZ,GAAIgN,OAAOC,OAAOnL,GAAG,GAAGC,SAAS,KAAM,CACtC,IAAMwL,EAAOP,OAAOC,OAAOnL,GAAG,GAAGnB,MAAM,KACvC4M,EAAK7L,SAAQ,SAACU,GACbpC,EAAMsB,KAAKL,EAAOuB,QAAO,SAACb,GAAD,OAAOA,EAAErC,OAAS8C,KAAI,OAEhDkL,EAAOrM,EAAOuB,QAAO,SAACb,GAAD,OAAQ4L,EAAKxL,SAASJ,EAAErC,cAE7CU,EAAQiB,EAAOuB,QAAO,SAACb,GAAD,OAAOA,EAAErC,OAAS0N,OAAOC,OAAOnL,GAAG,MACzDwL,EAAOrM,EAAOuB,QAAO,SAACb,GAAD,OAAOA,EAAErC,OAAS0N,OAAOC,OAAOnL,GAAG,MAErDkL,OAAOG,KAAKrL,GAAGC,SAAS,KA0B9B,SAAqBd,EAAQuF,GAC5B6G,YAAW,WACVpM,EAAOS,SAAQ,SAACC,QACL6L,IAAN7L,IAAiBA,EAAE9D,MAAQ,QAEhC6O,EAAWrJ,UAAYM,EAAK5C,SAlFjB,IAmFFyF,GA/BRiH,CAAYxM,EAAQuF,GAEpBkH,EAAS1N,EAAOsN,EAAM9G,QAtDZ,KA2Db,IAAMkH,EAAW,SAAS1N,EAAOsN,EAAM9G,GACtC6G,YAAW,WACVhB,EAAO3L,SAAS,CAAE4L,aAAc9F,IAChCxG,EAAM0B,SAAQ,SAACC,QACJ6L,IAAN7L,IACCA,EAAEC,YAAcvE,GAAmBsE,EAAEC,YAAcvE,EACtDsE,EAAE9D,MAAQ,UAEV8D,EAAE9D,MAAQ,cAIbyP,EAAK5L,SAAQ,SAACsC,GACbA,EAAEnG,MAAQ,SAxEA,IA0EF2I,KAaCmH,EAAuB,SAACvB,EAAcC,GAClDA,EAAO3L,SAAS,CAAE4L,cAAe,IACjC,IACMC,EAAUF,EAAOrM,MAAMiB,OAAOuB,QAAO,SAACb,GAAD,OAAOA,EAAEC,YAAcvE,KAAmB,GACxEgP,EAAOrM,MAAMiB,OAAOuB,QAAO,SAACb,GAAD,OAAOA,EAAEC,YAAcvE,KAC1DqE,SAAQ,SAACsC,GACbA,EAAEnG,MAAQ,OAGX0O,EAAQ1O,MAAQ,UAEhB,IAAMoD,EAASoL,EAAOrM,MAAMiB,OACtB0C,EAAOyI,EAAaI,SACpBC,EAAiBL,EAAaK,eAC9BC,EAAavJ,SAASwJ,cAAT,kBAAkCF,IAC/C1L,EAASqL,EAAanJ,OACK,UAA7BmJ,EAAaxL,YAAyB8L,EAAWrJ,UAAY,GAC5DqJ,EAAWrJ,UAAYtC,EAAO6M,OAAO,GAE1CvB,EAAO3L,SAAS,CAAEkM,WAAY,YAAKR,EAAaQ,YAAaC,YAEzDlJ,EAAKnB,QAAO,SAACV,GAAD,MAA6B,MAAtBkL,OAAOG,KAAKrL,GAAG,MAAYV,OAAS,GAAGuC,EAAKrC,KAAK,CAAE8L,EAAG,MAE7EC,YAAW,WACV1J,EAAKjC,SAAQ,SAACI,EAAG0E,GAChB,IACC8G,EADGtN,EAAQ,GAEZ,GAAIgN,OAAOC,OAAOnL,GAAG,GAAGC,SAAS,KAAM,CACtC,IAAMwL,EAAOP,OAAOC,OAAOnL,GAAG,GAAGnB,MAAM,KACvC4M,EAAK7L,SAAQ,SAACU,GACbpC,EAAMsB,KAAKL,EAAOuB,QAAO,SAACb,GAAD,OAAOA,EAAErC,OAAS8C,KAAI,OAEhDkL,EAAOrM,EAAOuB,QAAO,SAACb,GAAD,OAAQ4L,EAAKxL,SAASJ,EAAErC,cAE7CU,EAAQiB,EAAOuB,QAAO,SAACb,GACtB,OAAIA,EAAErC,KAAKyC,SAAS,KAAaJ,EAAErC,KAAKqB,MAAM,KAAK,KAAOqM,OAAOC,OAAOnL,GAAG,GAC/DH,EAAErC,OAAS0N,OAAOC,OAAOnL,GAAG,MAEzCwL,EAAOrM,EAAOuB,QAAO,SAACb,GACrB,OAAIA,EAAErC,KAAKyC,SAAS,KAAaJ,EAAErC,KAAKqB,MAAM,KAAK,KAAOqM,OAAOC,OAAOnL,GAAG,GAC/DH,EAAErC,OAAS0N,OAAOC,OAAOnL,GAAG,MAGtCkL,OAAOG,KAAKrL,GAAGC,SAAS,KAuB9B,SAAqBd,EAAQuF,GAC5B6G,YAAW,WACVpM,EAAOS,SAAQ,SAACC,QACL6L,IAAN7L,IAAiBA,EAAE9D,MAAQ,UAnErB,IAqEF2I,GA3BRiH,CAAYxM,EAAQuF,GAEpBkH,EAAS1N,EAAOsN,EAAM9G,QA5CZ,KAiDb,IAAMkH,EAAW,SAAS1N,EAAOsN,EAAM9G,GACtC6G,YAAW,WACVhB,EAAO3L,SAAS,CAAE4L,aAAc9F,IAChCkG,EAAWrJ,WAAatC,EAAO6M,OAAOpH,GACtCxG,EAAM0B,SAAQ,SAACC,QACJ6L,IAAN7L,IACHA,EAAE9D,MAAQ,cAGZyP,EAAK5L,SAAQ,SAACsC,GACbA,EAAEnG,MAAQ,SA3DA,IA6DF2I,KClJNqH,EACQ,YAAKnL,MAAM,KAAMP,KAAI,SAAC2L,EAAKtH,GAAN,iBAAgBA,MAqMpCuH,E,kDAhMd,WAAY9O,GAAQ,IAAD,8BAClB,cAAMA,IAmDP+O,MAAQ,SAACxG,GACR,IAAMyG,EAAIzG,EAAG0G,aAAa1G,EAAG2G,YAAa3G,EAAG4G,cAC7CH,EAAEI,OAAO,iBACTJ,EAAEK,SAAS,EAAG,GACd9G,EAAG+G,UAAU/G,EAAGgH,SAChB,EAAK9N,SAAS,CAAE8G,QAzDE,EA4DnBiH,KAAO,SAACjH,GACPA,EAAGkH,WAAW,KACdlH,EAAGlG,OAEHkG,EAAG8D,SADO,KAEuB,IAA7B,EAAKtL,MAAMsM,cAAqB9E,EAAGgB,KAAK,QAE5C,IAAK,IAAIhC,EAAI,EAAKxG,MAAM4M,WAAWxL,OAAS,EAAGoF,GAAK,EAAGA,IAAK,CAC3D,IAAImI,EAAO,EAAK3O,MAAM4M,WAAWpG,IACA,IAA7B,EAAKxG,MAAMsM,eACV9F,IAAM,EAAKxG,MAAM4M,WAAWxL,OAAS,EAAKpB,MAAMsM,aAAe,EAAG9E,EAAGgB,KAAK,WACzEhB,EAAGgB,KAAK,SAEdhB,EAAGiB,KAAKkG,EAAMnH,EAAGtJ,MAAQ,IAAU,GAAJsI,EAAQ,KAExCgB,EAAGkB,MACH,EAAK1I,MAAMiB,OAAOS,SAAQ,SAAC1B,GAC1BA,EAAM4O,MAAMpH,GACZxH,EAAM6O,UACN7O,EAAM8O,OACN9O,EAAM+O,SACN/O,EAAMyE,WAjFW,EAqFnBuK,aAAe,WACd,EAAKhP,MAAMiB,OAAOS,SAAQ,SAAC1B,GAC1BA,EAAMiP,QAAQ,EAAKjP,MAAMiB,YAvFR,EA2FnBiO,cAAgB,WACf,EAAKlP,MAAMiB,OAAOS,SAAQ,SAAC1B,GAC1BA,EAAMmP,cAEP,EAAKzO,SAAS,CAAE0O,kBAAmBzP,EAAQC,gBA/FzB,EAkGnByP,cAAgB,WACf,EAAKrP,MAAMiB,OAAOS,SAAQ,SAAC1B,GAC1BA,EAAMqP,oBApGW,EAwGnBC,cAAgB,SAAC9H,GAChBA,EAAG+H,aAAa/H,EAAG2G,YAAa3G,EAAG4G,eAzGjB,EA4GnB/B,OAAS,SAAC7E,GACTA,EAAGwG,MAAQ,kBAAM,EAAKA,MAAMxG,IAC5BA,EAAGiH,KAAO,kBAAM,EAAKA,KAAKjH,IAC1BA,EAAG8H,cAAgB,kBAAM,EAAKA,cAAc9H,IAC5CA,EAAGwH,aAAe,kBAAM,EAAKA,gBAC7BxH,EAAG0H,cAAgB,kBAAM,EAAKA,iBAC9B1H,EAAG6H,cAAgB,kBAAM,EAAKA,kBAhH9B,EAAKrP,MAAQ,CACZiB,OAAQ,GACRuO,UAAW,EACXhI,GAAI,KACJ4H,mBAAmB,EACnBK,aAAc,EACdC,gBAAgB,EAChB9O,YAAa,KACbgM,WAAY,GACZN,cAAe,GAEhB,EAAKpN,UAAY,EAAKA,UAAUoB,KAAf,gBACjB,EAAKqP,SAAW,EAAKA,SAASrP,KAAd,gBAChB,EAAK0N,MAAQ,EAAKA,MAAM1N,KAAX,gBACb,EAAKmO,KAAO,EAAKA,KAAKnO,KAAV,gBACZ,EAAK0O,aAAe,EAAKA,aAAa1O,KAAlB,gBACpB,EAAK4O,cAAgB,EAAKA,cAAc5O,KAAnB,gBACrB,EAAK+O,cAAgB,EAAKA,cAAc/O,KAAnB,gBACrB,EAAKgH,eAAiB,EAAKA,eAAehH,KAApB,gBACtB,EAAKlB,iBAAmB,EAAKA,iBAAiBkB,KAAtB,gBACxB,EAAK2D,kBAAoB,EAAKA,kBAAkB3D,KAAvB,gBACzB,EAAKyG,YAAc,EAAKA,YAAYzG,KAAjB,gBACnB,EAAKsP,YAAc,EAAKzD,wBAAwB7L,KAA7B,gBAxBD,E,wDA4BlBtB,KAAK0B,SAAS,CAAEO,OAAQ,GAAIuO,UAAW,M,+BAG/B5N,GACR,IAAIX,EAASjC,KAAKgB,MAAMiB,OAClBuG,EAAKxI,KAAKgB,MAAMwH,GAClBqI,EAAW,IAAI5F,EAClBzC,EACAA,EAAGtJ,MAAQ,EACXsJ,EAAGsI,OAAS,EACZ,GACAjC,EAAQ7O,KAAKgB,MAAMwP,WACnBxQ,KAAKgB,MAAMwP,UAAYxQ,KAAKgB,MAAMyP,aAClC7N,EACA,KAEDX,EAAOK,KAAKuO,GACZ7Q,KAAK0B,SAAS,CAAE8O,UAAWxQ,KAAKgB,MAAMwP,UAAY,EAAGvO,a,0CAIrD,IAAIuG,IAAGxI,KAAKqN,U,uCAqEZrN,KAAK0B,SAAS,CAAE0O,mBAAoBpQ,KAAKgB,MAAMoP,oBAC/CzP,EAAQC,cAAe,I,kCAGZ4G,GACX,IAAIuJ,EAAa/Q,KAAKgB,MAAMiB,OACxB0F,EAAcoJ,EAAWvN,QAAO,SAACH,GAAD,OAAOA,EAAEmD,QAAUgB,KAAG,GACtDwJ,EAAcD,EAAWvN,QAAO,SAACH,GAAD,OAAOA,EAAEmD,QAAUgB,KACvDwJ,EAAYtO,SAAQ,SAACkJ,GACpB,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAM/I,YAAYT,OAAQoF,IAC7C,GAAIoE,EAAM/I,YAAY2E,GAAGlE,GAAGkD,QAAUmB,EAAYnB,MAAO,CACxDoF,EAAM/I,YAAYgF,OAAOL,EAAG,GAC5B,UAIH,IAAK,IAAIA,EAAIG,EAAYnB,MAAOgB,EAAIwJ,EAAY5O,OAAQoF,IACvDwJ,EAAYxJ,GAAGhB,OAAS,EAEzBxG,KAAK0B,SAAS,CACbO,OAAQ+O,EACRZ,mBAAoBpQ,KAAKgB,MAAMoP,kBAC/BK,aAAczQ,KAAKgB,MAAMyP,aAAe,IAEzC9P,EAAQC,cAAe,I,uCAGPgB,GAChB5B,KAAK0B,SAAS,CAAEgP,gBAAiB1Q,KAAKgB,MAAM0P,eAAgB9O,gBAC5DjB,EAAQE,eAAiBb,KAAKgB,MAAM0P,iB,wCAGnB/L,GACjB3E,KAAKC,MAAMgF,kBAAkBN,K,8CAGNyI,GACvBD,EAAwBC,EAAcpN,Q,2CAGlBoN,GACpBuB,EAAqBvB,EAAcpN,Q,+BAG1B,IAAD,OACJiR,EAAa,GAIjB,OAHIjR,KAAKgB,MAAMoP,oBACda,EAAa,WAGb,6BACC,kBAACtL,EAAA,EAAD,CAAWlG,GAAG,kBACbO,KAAKgB,MAAMoP,kBACX,kBAAC,EAAD,CACCrJ,IAAK,SAACC,GAAD,OAAW,EAAKkK,SAAWlK,GAChCc,MAAOmJ,EACP3I,eAAgBtI,KAAKsI,eACrBP,YAAa/H,KAAK+H,cAEhB,KACJ,kBAAC,EAAD,CACClB,aAAc7G,KAAKC,MAAM4G,aACzBC,cAAe9G,KAAKC,MAAM6G,cAC1BlF,YAAa5B,KAAKgB,MAAMY,YACxBK,OAAQjC,KAAKgB,MAAMiB,OACnBwD,KAAMzF,KAAKgB,MAAM0P,eACjBtQ,iBAAkB,SAACwB,GAAD,OAAiB,EAAKxB,iBAAiBwB,IACzDqD,kBAAmB,SAACN,GAAD,OAAU,EAAKM,kBAAkBN,W,GA1LpClE,IAAMC,W,mBCd3B,SAASyQ,KAA2Q,OAA9PA,GAAWnD,OAAOoD,QAAU,SAAU9K,GAAU,IAAK,IAAIkB,EAAI,EAAGA,EAAI6J,UAAUjP,OAAQoF,IAAK,CAAE,IAAI8J,EAASD,UAAU7J,GAAI,IAAK,IAAIf,KAAO6K,EAActD,OAAOuD,UAAUC,eAAeC,KAAKH,EAAQ7K,KAAQH,EAAOG,GAAO6K,EAAO7K,IAAY,OAAOH,IAA2BoL,MAAM1R,KAAMqR,WAEhT,SAASM,GAAyBL,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAAkE7K,EAAKe,EAAnElB,EAEzF,SAAuCgL,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAA2D7K,EAAKe,EAA5DlB,EAAS,GAAQuL,EAAa7D,OAAOG,KAAKmD,GAAqB,IAAK9J,EAAI,EAAGA,EAAIqK,EAAWzP,OAAQoF,IAAOf,EAAMoL,EAAWrK,GAAQoK,EAAShK,QAAQnB,IAAQ,IAAaH,EAAOG,GAAO6K,EAAO7K,IAAQ,OAAOH,EAFxMwL,CAA8BR,EAAQM,GAAuB,GAAI5D,OAAO+D,sBAAuB,CAAE,IAAIC,EAAmBhE,OAAO+D,sBAAsBT,GAAS,IAAK9J,EAAI,EAAGA,EAAIwK,EAAiB5P,OAAQoF,IAAOf,EAAMuL,EAAiBxK,GAAQoK,EAAShK,QAAQnB,IAAQ,GAAkBuH,OAAOuD,UAAUU,qBAAqBR,KAAKH,EAAQ7K,KAAgBH,EAAOG,GAAO6K,EAAO7K,IAAU,OAAOH,EAMne,IAAI4L,GAAqB,IAAMC,cAAc,IAAK,CAChD1S,GAAI,QACJ2S,UAAW,wBACG,IAAMD,cAAc,IAAK,CACvC1S,GAAI,YACJ,YAAa,YACb2S,UAAW,qBACX5I,KAAM,OACNG,OAAQ,OACR0I,YAAa,GACC,IAAMF,cAAc,SAAU,CAC5CG,GAAI,KACJC,GAAI,KACJvN,EAAG,KACH2E,OAAQ,SACO,IAAMwI,cAAc,SAAU,CAC7CG,GAAI,KACJC,GAAI,KACJvN,EAAG,GACHwE,KAAM,UACU,IAAM2I,cAAc,OAAQ,CAC5C1S,GAAI,IACJ2S,UAAW,qBACXI,SAAU,GACVC,WAAY,SACE,IAAMN,cAAc,QAAS,CAC3CrJ,EAAG,EACHC,EAAG,GACF,OAEC,GAAW,SAAkB2J,GAC/B,IAAIC,EAASD,EAAKC,OACd7K,EAAQ4K,EAAK5K,MACb7H,EAAQ0R,GAAyBe,EAAM,CAAC,SAAU,UAEtD,OAAoB,IAAMP,cAAc,MAAOhB,GAAS,CACtDyB,QAAS,cACT7L,IAAK4L,GACJ1S,GAAQ6H,EAAqB,IAAMqK,cAAc,QAAS,KAAMrK,GAAS,KAAMoK,KAGhFW,GAA0B,IAAMC,YAAW,SAAU7S,EAAO8G,GAC9D,OAAoB,IAAMoL,cAAc,GAAUhB,GAAS,CACzDwB,OAAQ5L,GACP9G,OAEU,ICtDf,SAAS,KAA2Q,OAA9P,GAAW+N,OAAOoD,QAAU,SAAU9K,GAAU,IAAK,IAAIkB,EAAI,EAAGA,EAAI6J,UAAUjP,OAAQoF,IAAK,CAAE,IAAI8J,EAASD,UAAU7J,GAAI,IAAK,IAAIf,KAAO6K,EAActD,OAAOuD,UAAUC,eAAeC,KAAKH,EAAQ7K,KAAQH,EAAOG,GAAO6K,EAAO7K,IAAY,OAAOH,IAA2BoL,MAAM1R,KAAMqR,WAEhT,SAAS,GAAyBC,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAAkE7K,EAAKe,EAAnElB,EAEzF,SAAuCgL,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAA2D7K,EAAKe,EAA5DlB,EAAS,GAAQuL,EAAa7D,OAAOG,KAAKmD,GAAqB,IAAK9J,EAAI,EAAGA,EAAIqK,EAAWzP,OAAQoF,IAAOf,EAAMoL,EAAWrK,GAAQoK,EAAShK,QAAQnB,IAAQ,IAAaH,EAAOG,GAAO6K,EAAO7K,IAAQ,OAAOH,EAFxM,CAA8BgL,EAAQM,GAAuB,GAAI5D,OAAO+D,sBAAuB,CAAE,IAAIC,EAAmBhE,OAAO+D,sBAAsBT,GAAS,IAAK9J,EAAI,EAAGA,EAAIwK,EAAiB5P,OAAQoF,IAAOf,EAAMuL,EAAiBxK,GAAQoK,EAAShK,QAAQnB,IAAQ,GAAkBuH,OAAOuD,UAAUU,qBAAqBR,KAAKH,EAAQ7K,KAAgBH,EAAOG,GAAO6K,EAAO7K,IAAU,OAAOH,EAMne,IAAI,GAAqB,IAAM6L,cAAc,IAAK,CAChD1S,GAAI,gBACJ,YAAa,gBACb2S,UAAW,wBACG,IAAMD,cAAc,IAAK,CACvC1S,GAAI,YACJ,YAAa,YACb2S,UAAW,qBACX5I,KAAM,OACNG,OAAQ,OACR0I,YAAa,GACC,IAAMF,cAAc,SAAU,CAC5CG,GAAI,KACJC,GAAI,KACJvN,EAAG,KACH2E,OAAQ,SACO,IAAMwI,cAAc,SAAU,CAC7CG,GAAI,KACJC,GAAI,KACJvN,EAAG,GACHwE,KAAM,UACU,IAAM2I,cAAc,OAAQ,CAC5C1S,GAAI,IACJ2S,UAAW,qBACXI,SAAU,GACVC,WAAY,SACE,IAAMN,cAAc,QAAS,CAC3CrJ,EAAG,EACHC,EAAG,GACF,MAAoB,IAAMoJ,cAAc,OAAQ,CACjD1S,GAAI,QACJ6J,EAAG,yEACH8I,UAAW,qBACXW,SAAU,aAGR,GAAe,SAAsBL,GACvC,IAAIC,EAASD,EAAKC,OACd7K,EAAQ4K,EAAK5K,MACb7H,EAAQ,GAAyByS,EAAM,CAAC,SAAU,UAEtD,OAAoB,IAAMP,cAAc,MAAO,GAAS,CACtDS,QAAS,cACT7L,IAAK4L,GACJ1S,GAAQ6H,EAAqB,IAAMqK,cAAc,QAAS,KAAMrK,GAAS,KAAM,KAGhF,GAA0B,IAAMgL,YAAW,SAAU7S,EAAO8G,GAC9D,OAAoB,IAAMoL,cAAc,GAAc,GAAS,CAC7DQ,OAAQ5L,GACP9G,OAEU,IC5Df,SAAS,KAA2Q,OAA9P,GAAW+N,OAAOoD,QAAU,SAAU9K,GAAU,IAAK,IAAIkB,EAAI,EAAGA,EAAI6J,UAAUjP,OAAQoF,IAAK,CAAE,IAAI8J,EAASD,UAAU7J,GAAI,IAAK,IAAIf,KAAO6K,EAActD,OAAOuD,UAAUC,eAAeC,KAAKH,EAAQ7K,KAAQH,EAAOG,GAAO6K,EAAO7K,IAAY,OAAOH,IAA2BoL,MAAM1R,KAAMqR,WAEhT,SAAS,GAAyBC,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAAkE7K,EAAKe,EAAnElB,EAEzF,SAAuCgL,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAA2D7K,EAAKe,EAA5DlB,EAAS,GAAQuL,EAAa7D,OAAOG,KAAKmD,GAAqB,IAAK9J,EAAI,EAAGA,EAAIqK,EAAWzP,OAAQoF,IAAOf,EAAMoL,EAAWrK,GAAQoK,EAAShK,QAAQnB,IAAQ,IAAaH,EAAOG,GAAO6K,EAAO7K,IAAQ,OAAOH,EAFxM,CAA8BgL,EAAQM,GAAuB,GAAI5D,OAAO+D,sBAAuB,CAAE,IAAIC,EAAmBhE,OAAO+D,sBAAsBT,GAAS,IAAK9J,EAAI,EAAGA,EAAIwK,EAAiB5P,OAAQoF,IAAOf,EAAMuL,EAAiBxK,GAAQoK,EAAShK,QAAQnB,IAAQ,GAAkBuH,OAAOuD,UAAUU,qBAAqBR,KAAKH,EAAQ7K,KAAgBH,EAAOG,GAAO6K,EAAO7K,IAAU,OAAOH,EAMne,IAAI,GAAqB,IAAM6L,cAAc,IAAK,CAChD1S,GAAI,cACJ,YAAa,cACb2S,UAAW,wBACG,IAAMD,cAAc,IAAK,CACvC1S,GAAI,YACJ,YAAa,YACb2S,UAAW,qBACX5I,KAAM,OACNG,OAAQ,OACR0I,YAAa,GACC,IAAMF,cAAc,SAAU,CAC5CG,GAAI,KACJC,GAAI,KACJvN,EAAG,KACH2E,OAAQ,SACO,IAAMwI,cAAc,SAAU,CAC7CG,GAAI,KACJC,GAAI,KACJvN,EAAG,GACHwE,KAAM,UACU,IAAM2I,cAAc,OAAQ,CAC5C1S,GAAI,IACJ2S,UAAW,qBACXI,SAAU,GACVC,WAAY,SACE,IAAMN,cAAc,QAAS,CAC3CrJ,EAAG,EACHC,EAAG,GACF,MAAoB,IAAMoJ,cAAc,IAAK,CAC9C1S,GAAI,YACJ,YAAa,YACb2S,UAAW,qBACX5I,KAAM,OACNG,OAAQ,OACR0I,YAAa,GACC,IAAMF,cAAc,SAAU,CAC5CG,GAAI,KACJC,GAAI,KACJvN,EAAG,KACH2E,OAAQ,SACO,IAAMwI,cAAc,SAAU,CAC7CG,GAAI,KACJC,GAAI,KACJvN,EAAG,GACHwE,KAAM,WAGJ,GAAgB,SAAuBkJ,GACzC,IAAIC,EAASD,EAAKC,OACd7K,EAAQ4K,EAAK5K,MACb7H,EAAQ,GAAyByS,EAAM,CAAC,SAAU,UAEtD,OAAoB,IAAMP,cAAc,MAAO,GAAS,CACtDS,QAAS,cACT7L,IAAK4L,GACJ1S,GAAQ6H,EAAqB,IAAMqK,cAAc,QAAS,KAAMrK,GAAS,KAAM,KAGhF,GAA0B,IAAMgL,YAAW,SAAU7S,EAAO8G,GAC9D,OAAoB,IAAMoL,cAAc,GAAe,GAAS,CAC9DQ,OAAQ5L,GACP9G,OC/DgB+S,IDiEN,I,uKChEJ,IAAD,OACR,OACC,kBAACC,EAAA,EAAD,CAAMzU,GAAG,QAAQiL,KAAK,QACrB,kBAACyJ,GAAA,EAAD,CAAaC,UAAQ,GACpB,kBAAC5S,EAAA,EAAD,CACC9B,QAAQ,QACRY,UAAU,YACVU,QAAS,WACR,EAAKE,MAAM0Q,SAAStS,KAGrB,kBAAC,GAAD,OAGD,kBAACkC,EAAA,EAAD,CACC9B,QAAQ,QACRY,UAAU,YACVU,QAAS,WACR,EAAKE,MAAM0Q,SAAStS,KAGrB,kBAAC,GAAD,OAGD,kBAACkC,EAAA,EAAD,CACC9B,QAAQ,QACRY,UAAU,YACVU,QAAS,WACR,EAAKE,MAAM0Q,SAAStS,KAGrB,kBAAC,GAAD,a,GAhC+BoC,IAAMC,YCqD5B0S,G,uKAtDJ,IAAD,OACFC,EAAUrT,KAAKC,MAAMqT,eAC3B,OACC,kBAACL,EAAA,EAAD,CAAMzU,GAAG,QAAQiL,KAAK,OAAOjE,OAAoB,OAAZ6N,GACpC,kBAACJ,EAAA,EAAKvN,OAAN,CAAa9G,MAAO,CAAE2U,gBAAiB,UACtC,wBAAIlU,UAAU,WAAd,wBAED,kBAAC4T,EAAA,EAAKpN,KAAN,KACC,kBAACF,EAAA,EAAD,KACc,OAAZ0N,EACA,kBAACvU,EAAA,EAAD,KACC,uBAAGO,UAAU,WAAb,0FAMD,kBAAC,IAAMmU,SAAP,KACEH,EAAQ/O,aAAanB,KAAI,SAACsQ,EAAMjN,GAAP,OACzB,kBAAC1H,EAAA,EAAD,CAAK2H,IAAKD,EAAOnH,UAAU,wDAC1B,uBAAGA,UAAU,kBAAkBT,MAAO,CAAE4T,SAAU,KACjD,mCAAShM,EAAQ,EAAjB,OACCiN,GAEF,kBAAClT,EAAA,EAAD,CACCd,GAAG,cACHhB,QAAQ,UACRsB,QAAS,WACR,EAAKE,MAAM2Q,YAAYpK,KAGxB,kBAAC,IAAD,CAAiB4B,KAAMsL,WAIzBL,EAAQ/O,aAAanB,KAAI,SAACsQ,EAAMjN,GAAP,OACzB,kBAAC1H,EAAA,EAAD,CAAK2H,IAAKD,EAAOnH,UAAU,wDAC1B,uBAAGA,UAAS,kBAAqBT,MAAO,CAAE4T,SAAU,KACnD,mCACOhM,EAAQ,EADf,YAC2B,IAC1B,0BAAM/G,GAAE,iBAAY+G,GAASnH,UAAU,yB,GAzCpBqB,a,oBCAViT,G,kDACpB,WAAY1T,GAAQ,IAAD,8BAClB,cAAMA,IACDe,MAAQ,CACZ4S,YAAa,IAEd,EAAKC,WAAa,EAAKA,WAAWvS,KAAhB,gBAClB,EAAKwS,YAAc,EAAKA,YAAYxS,KAAjB,gBAND,E,yDASL,IAAD,OACRtB,KAAKC,MAAMwF,OACVzF,KAAKgB,MAAM4S,YAAYxR,QAC1B2R,IAAM,CACLtP,OAAQ,SACRC,IAAI,qCAAD,OAAuC1E,KAAKgB,MAAM4S,eACnD7O,MAAK,SAACiP,GACRC,QAAQC,IAAIF,EAAIrP,SAGlBoP,IAAM,CACLtP,OAAQ,MACRC,IAAK,mCACHK,MAAK,SAACiP,GACR,EAAKtS,SAAS,CAAEkS,YAAaI,EAAIrP,KAAK+C,mB,oCAK1B,IAAD,OACT1H,KAAKC,MAAMwF,MACdsO,IAAM,CACLtP,OAAQ,MACRC,IAAI,2CAAD,OAA6C1E,KAAKgB,MAAM4S,eACzD7O,MAAK,SAACiP,GACgB,OAApBA,EAAIrP,KAAKwP,SACZ,EAAKlU,MAAMmU,gBACX,EAAKnU,MAAMoU,QAAQL,EAAIrP,Y,0CAO1B3E,KAAK6T,aACLS,YAAYtU,KAAK6T,WAAY,KAC7BS,YAAYtU,KAAK8T,YAAa,O,+BAI9B,OACC,kBAACzO,EAAA,EAAD,CACCzG,MAAO,CAAE2G,OAAQ,MACjBE,KAAMzF,KAAKC,MAAMwF,KACjB8O,UAAQ,EACRC,UAAU,EACVC,SAAS,SACTC,OAAQ1U,KAAKC,MAAMmU,eAEnB,kBAAC/O,EAAA,EAAMK,OAAP,CAAciP,aAAW,GACxB,kBAACtP,EAAA,EAAMO,MAAP,0BAED,kBAACP,EAAA,EAAMQ,KAAP,KACC,kBAACF,EAAA,EAAD,KACC,kBAAC7G,EAAA,EAAD,KACC,qEACyC,IACxC,0BAAM8V,KAAK,MAAM/U,kBAAgB,MAAMR,UAAU,MAAjD,8BAKF,kBAACP,EAAA,EAAD,CAAKO,UAAU,0BACd,kBAAC,KAAD,CACCkC,MAAOvB,KAAKgB,MAAM4S,YAClBiB,MAAM,IACNC,SAAS,MACTC,KAAM,IACNC,cAAe,CACd9V,MAAO,GACP4R,OAAQ,GACR3R,IACC,oG,GAlF2BuB,aCyJtBuU,G,kDArJd,WAAYhV,GAAQ,IAAD,8BAClB,cAAMA,IACDe,MAAQ,CACZsS,eAAgB,KAChB4B,SAAuD,OAA7CtQ,KAAKuQ,MAAMC,aAAaC,QAAQ,SAC1ChV,KAAMuE,KAAKuQ,MAAMC,aAAaC,QAAQ,SACtCxO,aAAc,CAAE,IAAK,KACrBC,cAAe,CAAE,IAAK,MAEvB,EAAKsN,cAAgB,EAAKA,cAAc9S,KAAnB,gBACrB,EAAKgU,mBAAqB,EAAKA,mBAAmBhU,KAAxB,gBAC1B,EAAKiU,oBAAsB,EAAKA,oBAAoBjU,KAAzB,gBAC3B,EAAK+S,QAAU,EAAKA,QAAQ/S,KAAb,gBAZG,E,4DAgBlBtB,KAAK0B,SAAS,CAAEwT,UAAWlV,KAAKgB,MAAMkU,a,8BAG/B7U,GACPL,KAAK0B,SAAS,CAAErB,SAChB+U,aAAaI,QAAQ,OAAQ5Q,KAAKC,UAAUxE,M,2CAIxCL,KAAKyV,UAAUlU,MAAMa,OAAS,EACjCpC,KAAK0B,SAAS,CAAEmF,aAAc7G,KAAKyV,UAAUlU,MAAME,QAAQ,KAAM,IAAIE,MAAM,IAAI6B,QAAO,SAACH,GAAD,MAAa,MAANA,OAE7FrD,KAAK0B,SAAS,CAAEmF,aAAc,CAAE,IAAK,S,4CAKlC7G,KAAK0V,WAAWnU,MAAMa,OAAS,EAClCpC,KAAK0B,SAAS,CACboF,cAAe9G,KAAK0V,WAAWnU,MAAME,QAAQ,KAAM,IAAIE,MAAM,IAAI6B,QAAO,SAACH,GAAD,MAAa,MAANA,OAGhFrD,KAAK0B,SAAS,CAAEoF,cAAe,CAAE,IAAK,S,+BAI9B,IAAD,OACR,OACC,kBAAC,IAAM0M,SAAP,KACC,kBAAC,GAAD,CACC/N,MAAOzF,KAAKgB,MAAMkU,SAClBd,cAAepU,KAAKoU,cACpBC,QAAS,SAAChU,GAAD,OAAU,EAAKgU,QAAQhU,MAEjC,kBAAC,EAAD,CACC0G,IAAK,SAACC,GACL,EAAKqG,OAASrG,GAEfH,aAAc7G,KAAKgB,MAAM6F,aACzBC,cAAe9G,KAAKgB,MAAM8F,cAC1B7B,kBAAmB,SAACqO,GACnB,EAAK5R,SAAS,CAAE4R,sBAGlB,kBAAC3N,EAAA,EAAD,CAAWG,OAAK,EAAClH,MAAO,CAAE+W,QAAS,IAClC,kBAAC7W,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,KACC,kBAAC,EAAD,CACCmB,UAAW,WACV,EAAKmN,OAAOnN,aAEbE,iBAAkB,SAACwB,GAClB,EAAKyL,OAAOjN,iBAAiBwB,IAE9BvB,KAAML,KAAKgB,MAAMX,KACjBG,OAAQ,WACP4U,aAAaI,QAAQ,OAAQ5Q,KAAKC,UAAU,OAC5C+Q,OAAOC,SAASC,eAMrB,kBAACnQ,EAAA,EAAD,CAAWG,OAAK,GACf,kBAAChH,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CAAKgX,GAAG,IAAInX,MAAO,CAAE2G,OAAQ,IAAK+J,SAAU,WAAY0G,IAAK,KAC5D,kBAAC,GAAD,CACCrF,SAAU,SAAC/N,GACV,EAAKyK,OAAOsD,SAAS/N,OAIxB,kBAAC7D,EAAA,EAAD,CAAKgX,GAAG,IAAInX,MAAO,CAAE2G,OAAQ,IAAK+J,SAAU,WAAY0G,IAAK,GAAIC,KAAM,MACtE,kBAACnX,EAAA,EAAD,KACC,kBAACiH,EAAA,EAAKmQ,MAAN,uBACA,kBAACnQ,EAAA,EAAKC,QAAN,CACCgC,aAAa,OACbjB,IAAK,SAACoP,GAAD,OAAQ,EAAKV,UAAYU,GAC9BhQ,aAAW,iBACXC,mBAAiB,iBACjBF,YAAY,iBAEZG,SAAUrG,KAAKsV,sBAGjB,kBAACxW,EAAA,EAAD,CAAKO,UAAU,QACd,kBAAC0G,EAAA,EAAKmQ,MAAN,wBACA,kBAACnQ,EAAA,EAAKC,QAAN,CACCgC,aAAa,OACbjB,IAAK,SAACoP,GAAD,OAAQ,EAAKT,WAAaS,GAC/BhQ,aAAW,kBACXC,mBAAiB,kBACjBF,YAAY,kBAEZG,SAAUrG,KAAKuV,0BAMpB,kBAAC5P,EAAA,EAAD,CAAWG,OAAK,GACf,kBAAChH,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CAAKgX,GAAG,IAAInX,MAAO,CAAE2G,OAAQ,IAAK+J,SAAU,WAAY0G,IAAK,GAAII,MAAO,KACvE,kBAAC,GAAD,CACC9C,eAAgBtT,KAAKgB,MAAMsS,eAC3B1C,YAAa,SAACpK,GAEb,IAAM5E,EAAc,EAAKZ,MAAMsS,eAAepR,aAC1B,UAAhBN,GAA2C,UAAhBA,EAC9B,EAAKyL,OAAOsB,qBAAqB,CAChCf,WAAY,EAAK5M,MAAMsS,eAAehP,aAAakC,GACnDiH,eAAgBjH,EAChBgH,SAAU,EAAKxM,MAAMsS,eAAezQ,YAAY2D,GAAOqF,WACvD5H,OAAQ,EAAKjD,MAAMsS,eAAezQ,YAAY2D,GAAOzE,OACrDH,gBAGD,EAAKyL,OAAOF,wBAAwB,CACnCS,WAAY,EAAK5M,MAAMsS,eAAehP,aAAakC,GACnDiH,eAAgBjH,EAChBgH,SAAU,EAAKxM,MAAMsS,eAAezQ,YAAY2D,GAAOA,gB,GAzIhD/F,IAAMC,W,cCFxB2V,IAASC,OACR,kBAAC,IAAMC,WAAP,KACC,kBAAC,GAAD,OAEDpS,SAASqS,eAAe,U,mBCVzBC,EAAOC,QAAU,IAA0B,mC","file":"static/js/main.8c6da258.chunk.js","sourcesContent":["export const FAWithoutOutput = {\n\tDFA: 0,\n\tNFA: 1\n};\n\nexport const FAWithOutput = {\n\tMEALY: 2,\n\tMOORE: 3\n};\n\nexport const LineType = {\n\tCURVE: 'Curve',\n\tLINE: 'Line'\n};\n\nexport const Result = {\n\tREJECTED: false,\n\tACCEPTED: true\n};\n\nexport const StateType = {\n\tINITIAL_FINAL: 0,\n\tINITIAL: 1,\n\tNORMAL: 2,\n\tFINAL: 3\n};\n","import React from 'react';\nimport { Navbar, Nav, Dropdown, Image, Row, Col, Button } from 'react-bootstrap';\nimport fasimLogo from '../../assets/fasim.png';\nimport { FAWithoutOutput, FAWithOutput } from '../../enums';\n\nclass MenuBar extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<Navbar bg=\"dark\" variant=\"dark\" fixed=\"top\">\n\t\t\t\t<Navbar.Brand style={{ color: 'white' }}>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col lg=\"4\">\n\t\t\t\t\t\t\t<Image style={{ width: '2em' }} src={fasimLogo} />\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col lg=\"8\" className=\"text-left my-auto\">\n\t\t\t\t\t\t\tFASIM\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Navbar.Brand>\n\t\t\t\t<Navbar.Toggle style={{ color: 'white' }} aria-controls=\"basic-navbar-nav\" />\n\t\t\t\t<Navbar.Collapse id=\"basic-navbar-nav\" className=\"justify-content-between\">\n\t\t\t\t\t<Nav>\n\t\t\t\t\t\t<Dropdown>\n\t\t\t\t\t\t\t<Dropdown.Toggle variant=\"transparent\" id=\"file-menu\" style={{ color: 'white' }}>\n\t\t\t\t\t\t\t\tFile\n\t\t\t\t\t\t\t</Dropdown.Toggle>\n\t\t\t\t\t\t\t<Dropdown.Menu aria-labelledby=\"file-menu\">\n\t\t\t\t\t\t\t\t<Dropdown.Item onClick={this.props.newSketch}>New</Dropdown.Item>\n\t\t\t\t\t\t\t\t<Dropdown.Item>Import</Dropdown.Item>\n\t\t\t\t\t\t\t\t<Dropdown.Item>Export</Dropdown.Item>\n\t\t\t\t\t\t\t\t<Dropdown.Divider />\n\t\t\t\t\t\t\t\t<Dropdown.Item>Exit</Dropdown.Item>\n\t\t\t\t\t\t\t</Dropdown.Menu>\n\t\t\t\t\t\t</Dropdown>\n\t\t\t\t\t\t<Dropdown>\n\t\t\t\t\t\t\t<Dropdown.Toggle variant=\"transparent\" id=\"simulate-menu\" style={{ color: 'white' }}>\n\t\t\t\t\t\t\t\tSimulate\n\t\t\t\t\t\t\t</Dropdown.Toggle>\n\t\t\t\t\t\t\t<Dropdown.Menu aria-labelledby=\"simulate-menu\">\n\t\t\t\t\t\t\t\t<Dropdown.Item onClick={() => this.props.toggleSimulation(FAWithoutOutput.DFA)}>\n\t\t\t\t\t\t\t\t\tDFA\n\t\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t\t<Dropdown.Item onClick={() => this.props.toggleSimulation(FAWithoutOutput.NFA)}>\n\t\t\t\t\t\t\t\t\tNFA\n\t\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t\t<Dropdown.Item onClick={() => this.props.toggleSimulation(FAWithOutput.MEALY)}>\n\t\t\t\t\t\t\t\t\tMealy Machine\n\t\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t\t<Dropdown.Item onClick={() => this.props.toggleSimulation(FAWithOutput.MOORE)}>\n\t\t\t\t\t\t\t\t\tMoore Machine\n\t\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t</Dropdown.Menu>\n\t\t\t\t\t\t</Dropdown>\n\t\t\t\t\t\t<Dropdown>\n\t\t\t\t\t\t\t<Dropdown.Toggle variant=\"transparent\" id=\"help-menu\" style={{ color: 'white' }}>\n\t\t\t\t\t\t\t\tHelp\n\t\t\t\t\t\t\t</Dropdown.Toggle>\n\t\t\t\t\t\t\t<Dropdown.Menu>\n\t\t\t\t\t\t\t\t<Dropdown.Item>Manual</Dropdown.Item>\n\t\t\t\t\t\t\t\t<Dropdown.Item>Contact</Dropdown.Item>\n\t\t\t\t\t\t\t</Dropdown.Menu>\n\t\t\t\t\t\t</Dropdown>\n\t\t\t\t\t</Nav>\n\t\t\t\t\t<Nav className=\"text-white\">\n\t\t\t\t\t\t<Row className=\"align-items-center\">\n\t\t\t\t\t\t\t<span className=\"mr-3\">\n\t\t\t\t\t\t\t\tWelcome to FASIM{this.props.user ? ', ' + this.props.user.name : ''}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{this.props.user ? (\n\t\t\t\t\t\t\t\t<Button variant=\"danger\" className=\"mr-3\" onClick={this.props.logout}>\n\t\t\t\t\t\t\t\t\tLogout\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Nav>\n\t\t\t\t</Navbar.Collapse>\n\t\t\t</Navbar>\n\t\t);\n\t}\n}\n\nexport default MenuBar;\n","let globals = {\n\tshowSettings: false,\n\tshowSimulation: false,\n\tselectedState: null\n};\n\nexport default globals;\n","import axios from 'axios';\nimport React, { Component } from 'react';\nimport { Button, Col, Container, Form, Modal, Row } from 'react-bootstrap';\nimport { FAWithoutOutput, FAWithOutput } from '../../enums';\nimport { validateFAWithoutOutput, validateFAWithOutput } from './validations';\n\nclass SimulationModal extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tvalid: false,\n\t\t\ttestStrings: [],\n\t\t\terrors: [],\n\t\t\tmachineData: null\n\t\t};\n\n\t\tthis.changeTestStrings = this.changeTestStrings.bind(this);\n\t}\n\n\tchangeTestStrings(value) {\n\t\tconst noSpaceValue = value.replace(/ /g, '');\n\t\tthis.setState({ testStrings: noSpaceValue.split(',') });\n\t}\n\n\tvalidate(machineType, inputAlphabets, outputAlphabets) {\n\t\tlet result;\n\t\tif (machineType === FAWithoutOutput.DFA || machineType === FAWithoutOutput.NFA)\n\t\t\tresult = validateFAWithoutOutput(machineType, inputAlphabets, this.props.states);\n\t\telse if (machineType === FAWithOutput.MEALY || machineType === FAWithOutput.MOORE)\n\t\t\tresult = validateFAWithOutput(machineType, inputAlphabets, outputAlphabets, this.props.states);\n\t\tthis.setState({ ...result });\n\t}\n\n\tprepareTestCases() {\n\t\tdocument.querySelectorAll(`.result`).forEach((e) => (e.innerHTML = ''));\n\t\tlet errors = [];\n\t\tif (this.state.testStrings.length === 0) {\n\t\t\terrors.push('Please enter at least one test string');\n\t\t}\n\t\tlet machineData = this.state.machineData;\n\t\tmachineData.test_strings = this.state.testStrings;\n\t\tlet route = '';\n\t\tif (machineData.machine_type === FAWithOutput.MEALY) {\n\t\t\troute = 'mealy-diagram';\n\t\t\t// TODO: Revert once deployed\n\t\t\tmachineData.machine_type = 0;\n\t\t} else if (machineData.machine_type === FAWithOutput.MOORE) {\n\t\t\troute = 'moore-diagram';\n\t\t\t// TODO: Revert once deployed\n\t\t\tmachineData.machine_type = 1;\n\t\t} else route = 'diagram';\n\t\tif (errors.length === 0) {\n\t\t\taxios({\n\t\t\t\tmethod: 'POST',\n\t\t\t\turl: `https://fasim.herokuapp.com/${route}`,\n\t\t\t\tdata: JSON.stringify(machineData),\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t}\n\t\t\t})\n\t\t\t\t.then((r) => {\n\t\t\t\t\tthis.props.setSimulationData(r.data);\n\t\t\t\t\tthis.close.click();\n\t\t\t\t})\n\t\t\t\t.catch((e) => e);\n\t\t}\n\t\tthis.setState({ errors });\n\t}\n\n\trender() {\n\t\tlet machineType = '';\n\t\tswitch (this.props.machineType) {\n\t\t\tcase FAWithoutOutput.DFA:\n\t\t\t\tmachineType = 'DFA';\n\t\t\t\tbreak;\n\t\t\tcase FAWithoutOutput.NFA:\n\t\t\t\tmachineType = 'NFA';\n\t\t\t\tbreak;\n\t\t\tcase FAWithOutput.MEALY:\n\t\t\t\tmachineType = 'Mealy Machine';\n\t\t\t\tbreak;\n\t\t\tcase FAWithOutput.MOORE:\n\t\t\t\tmachineType = 'Moore Machine';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn (\n\t\t\t<Modal.Dialog style={{ zIndex: 9999 }} hidden={this.props.show}>\n\t\t\t\t<Modal.Header>\n\t\t\t\t\t<Container className=\"px-0\">\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col className=\"text-left\">\n\t\t\t\t\t\t\t\t<Modal.Title>Simulate {machineType}</Modal.Title>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Container>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<h5 className=\"pb-2\">Test Strings</h5>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<p>Please enter comma separated test strings</p>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row className=\"mb-2\">\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\tdisabled={!this.state.valid}\n\t\t\t\t\t\t\t\tplaceholder=\"Test Strings\"\n\t\t\t\t\t\t\t\taria-label=\"Test Strings\"\n\t\t\t\t\t\t\t\taria-describedby=\"test-strings\"\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tthis.changeTestStrings(e.target.value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t{this.state.errors.length ? (\n\t\t\t\t\t\t\tthis.state.errors.map((error, index) => (\n\t\t\t\t\t\t\t\t<Row key={index}>\n\t\t\t\t\t\t\t\t\t<p className=\"text-danger\">{error}</p>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t) : this.state.valid ? (\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<p className=\"text-success\">Wow! No errors in diagram!</p>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</Container>\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t{this.state.valid ? (\n\t\t\t\t\t\t<Button variant=\"success\" onClick={() => this.prepareTestCases()}>\n\t\t\t\t\t\t\tPrepare Test Cases\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.validate(\n\t\t\t\t\t\t\t\t\tthis.props.machineType,\n\t\t\t\t\t\t\t\t\tthis.props.inputSymbols,\n\t\t\t\t\t\t\t\t\tthis.props.outputSymbols\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tValidate\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"danger\"\n\t\t\t\t\t\tref={(node) => {\n\t\t\t\t\t\t\tthis.close = node;\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tvalid: false,\n\t\t\t\t\t\t\t\terrors: []\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.props.toggleSimulation(null);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tClose\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal.Dialog>\n\t\t);\n\t}\n}\n\nexport default SimulationModal;\n","import { FAWithoutOutput, FAWithOutput, StateType } from '../../enums';\n\nexport const validateFAWithoutOutput = (machineType, alphabets, states) => {\n\tlet errors = [];\n\tlet machineData = {};\n\tmachineData.machine_name = 'Test Machine';\n\tmachineData.machine_type = machineType;\n\tmachineData.alphabet_count = alphabets.length;\n\tmachineData.alphabets = alphabets;\n\tmachineData.state_count = states.length;\n\tmachineData.states = [];\n\tif (states.length === 0) {\n\t\terrors.push(\"There aren't any states in your diagram.\");\n\t}\n\n\tlet initialStateCount = 0;\n\tlet finalStateCount = 0;\n\tlet count = 0;\n\n\tstates.forEach((s) => {\n\t\tif (s.stateType === StateType.INITIAL) initialStateCount += 1;\n\t\tif (s.stateType === StateType.FINAL) finalStateCount += 1;\n\t\tif (s.stateType === StateType.INITIAL_FINAL) {\n\t\t\tinitialStateCount += 1;\n\t\t\tfinalStateCount += 1;\n\t\t}\n\t\ts.transitions.forEach((t) => {\n\t\t\tlet value = t.value;\n\t\t\tvalue = value.replace(/ /g, '');\n\t\t\tif (value.includes(',') && alphabets.some((a) => value.includes(a))) {\n\t\t\t\tcount += value.split(',').length;\n\t\t\t} else {\n\t\t\t\tif (alphabets.some((a) => value.includes(a))) count += 1;\n\t\t\t}\n\t\t});\n\t});\n\n\tif (finalStateCount === 0) errors.push('There are no final states. Please add at least one final state.');\n\n\tif (initialStateCount === 0) errors.push('There is no initial state. Please add one initial state.');\n\telse if (initialStateCount > 1) errors.push('There can be only one initial state.');\n\n\tif (machineType === FAWithoutOutput.DFA) {\n\t\tif (count !== alphabets.length * states.length)\n\t\t\terrors.push('Incomplete transitions or not enough transitions.');\n\t\telse {\n\t\t\tstates.forEach((s) => {\n\t\t\t\tmachineData.states.push({\n\t\t\t\t\tname: s.name,\n\t\t\t\t\ttype: s.stateType,\n\t\t\t\t\ttransitions: s.transitions.map((t) => {\n\t\t\t\t\t\tlet tr = {};\n\t\t\t\t\t\tif (t.value.includes(',')) {\n\t\t\t\t\t\t\tlet v = t.value.replace(/ /g, '').split(',');\n\t\t\t\t\t\t\tv.forEach((e) => {\n\t\t\t\t\t\t\t\ttr[e] = t.to.name;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttr[t.value] = t.to.name;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn tr;\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t} else if (machineType === FAWithoutOutput.NFA) {\n\t\tif (count === 0) errors.push('Incomplete transitions or not enough transitions.');\n\t\telse {\n\t\t\tconst noTransitionStates = states.filter((s) => s.transitions.length === 0);\n\t\t\tconst withTransitionStates = states.filter((s) => s.transitions.length !== 0);\n\t\t\tnoTransitionStates.forEach((s) => {\n\t\t\t\tmachineData.states.push({\n\t\t\t\t\tname: s.name,\n\t\t\t\t\ttype: s.stateType,\n\t\t\t\t\ttransitions: [ ...Array(1) ].map((e) => {\n\t\t\t\t\t\tlet tr = {};\n\t\t\t\t\t\talphabets.forEach((a) => {\n\t\t\t\t\t\t\ttr[a] = '$$';\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn tr;\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t});\n\t\t\twithTransitionStates.forEach((s) => {\n\t\t\t\tmachineData.states.push({\n\t\t\t\t\tname: s.name,\n\t\t\t\t\ttype: s.stateType,\n\t\t\t\t\ttransitions: [ ...Array(1) ].map((e) => {\n\t\t\t\t\t\tlet tr = {};\n\t\t\t\t\t\talphabets.forEach((a) => {\n\t\t\t\t\t\t\ttr[a] = '$$';\n\t\t\t\t\t\t});\n\t\t\t\t\t\ts.transitions.forEach((t) => {\n\t\t\t\t\t\t\tif (t.value.includes(',')) {\n\t\t\t\t\t\t\t\tlet v = t.value.replace(/ /g, '').split(',');\n\t\t\t\t\t\t\t\tv.forEach((e) => {\n\t\t\t\t\t\t\t\t\tif (tr[e] !== '$$') {\n\t\t\t\t\t\t\t\t\t\ttr[e] += ',' + t.to.name;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\ttr[e] = t.to.name;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (tr[t.value] !== '$$') {\n\t\t\t\t\t\t\t\t\ttr[t.value] += ',' + t.to.name;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\ttr[t.value] = t.to.name;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn tr;\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\tlet valid = false;\n\tif (errors.length === 0) valid = true;\n\treturn { errors, valid, machineData };\n};\n\nexport const validateFAWithOutput = (machineType, inputAlphabets, outputAlphabets, states) => {\n\tlet errors = [];\n\tlet machineData = {};\n\tmachineData.machine_name = 'Test Machine';\n\tmachineData.machine_type = machineType;\n\tmachineData.input_alpha_count = inputAlphabets.length;\n\tmachineData.input_alpha = inputAlphabets;\n\tmachineData.output_alpha_count = outputAlphabets.length;\n\tmachineData.output_alpha = outputAlphabets;\n\tmachineData.state_count = states.length;\n\tmachineData.states = [];\n\n\tif (states.length === 0) {\n\t\terrors.push(\"There aren't any states in your diagram.\");\n\t}\n\n\tlet initialStateCount = 0;\n\tlet finalStateCount = 0;\n\tlet count = 0;\n\n\tstates.forEach((s) => {\n\t\tif (s.stateType === StateType.INITIAL) initialStateCount += 1;\n\t\tif (s.stateType === StateType.FINAL) finalStateCount += 1;\n\t\tif (s.stateType === StateType.INITIAL_FINAL) {\n\t\t\tinitialStateCount += 1;\n\t\t\tfinalStateCount += 1;\n\t\t}\n\t\tif (machineType === FAWithOutput.MEALY) {\n\t\t\ts.transitions.forEach((t) => {\n\t\t\t\tlet value = t.value;\n\t\t\t\tvalue = value.replace(/ /g, '');\n\t\t\t\tif (value.includes(',')) {\n\t\t\t\t\tvalue.split(',').forEach((t) => {\n\t\t\t\t\t\tif (t.split('/').length === 2) {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tinputAlphabets.some((a) => t.split('/')[0].includes(a)) &&\n\t\t\t\t\t\t\t\toutputAlphabets.some((a) => t.split('/')[1].includes(a))\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\tcount += 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tif (value.split('/').length === 2) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tinputAlphabets.some((a) => value.split('/')[0].includes(a)) &&\n\t\t\t\t\t\t\toutputAlphabets.some((a) => value.split('/')[1].includes(a))\n\t\t\t\t\t\t)\n\t\t\t\t\t\t\tcount += 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tif (!outputAlphabets.some((a) => s.name.includes(a)))\n\t\t\t\terrors.push(`State ${s.name} does not have an output`);\n\t\t\ts.transitions.forEach((t) => {\n\t\t\t\tlet value = t.value;\n\t\t\t\tvalue = value.replace(/ /g, '');\n\t\t\t\tif (value.includes(',') && inputAlphabets.some((a) => value.includes(a))) {\n\t\t\t\t\tcount += value.split(',').length;\n\t\t\t\t} else {\n\t\t\t\t\tif (inputAlphabets.some((a) => value.includes(a))) count += 1;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\tif (finalStateCount > 0) errors.push('There should not be any final states. Please remove any final states.');\n\n\tif (initialStateCount === 0) errors.push('There is no initial state. Please add one initial state.');\n\telse if (initialStateCount > 1) errors.push('There can be only one initial state.');\n\n\tif (count !== inputAlphabets.length * states.length)\n\t\terrors.push('Incomplete transitions or not enough transitions.');\n\telse {\n\t\tlet trs;\n\t\tif (machineType === FAWithOutput.MEALY) {\n\t\t\tstates.forEach((s) => {\n\t\t\t\ttrs = [];\n\t\t\t\tmachineData.states.push({\n\t\t\t\t\tname: s.name,\n\t\t\t\t\t// TODO: Revert once deployed\n\t\t\t\t\ttype: s.stateType - 1,\n\t\t\t\t\ttransitions: s.transitions.map((t) => {\n\t\t\t\t\t\tlet tr = {};\n\t\t\t\t\t\tif (t.value.includes(',')) {\n\t\t\t\t\t\t\tlet v = t.value.replace(/ /g, '').split(',');\n\t\t\t\t\t\t\tv.forEach((e) => {\n\t\t\t\t\t\t\t\ttr = {};\n\t\t\t\t\t\t\t\ttr['state'] = t.to.name;\n\t\t\t\t\t\t\t\ttr['input'] = e.split('/')[0];\n\t\t\t\t\t\t\t\ttr['output'] = e.split('/')[1];\n\t\t\t\t\t\t\t\ttrs.push(tr);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t// return trs\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttr['state'] = t.to.name;\n\t\t\t\t\t\t\ttr['input'] = t.value.split('/')[0];\n\t\t\t\t\t\t\ttr['output'] = t.value.split('/')[1];\n\t\t\t\t\t\t\ttrs.push(tr);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn trs;\n\t\t\t\t\t})[0]\n\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\tstates.forEach((s) => {\n\t\t\t\ttrs = [];\n\t\t\t\tmachineData.states.push({\n\t\t\t\t\tname: s.name.split('/')[0],\n\t\t\t\t\toutput: s.name.split('/')[1],\n\t\t\t\t\t// TODO: revert once deployed\n\t\t\t\t\ttype: s.stateType - 1,\n\t\t\t\t\ttransitions: s.transitions.map((t) => {\n\t\t\t\t\t\tlet tr = {};\n\t\t\t\t\t\tif (t.value.includes(',')) {\n\t\t\t\t\t\t\tlet v = t.value.replace(/ /g, '').split(',');\n\t\t\t\t\t\t\tv.forEach((e) => {\n\t\t\t\t\t\t\t\ttr = {};\n\t\t\t\t\t\t\t\ttr['state'] = t.to.name.split('/')[0];\n\t\t\t\t\t\t\t\ttr['input'] = e;\n\t\t\t\t\t\t\t\ttrs.push(tr);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttr['state'] = t.to.name.split('/')[0];\n\t\t\t\t\t\t\ttr['input'] = t.value;\n\t\t\t\t\t\t\ttrs.push(tr);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn trs;\n\t\t\t\t\t})[0]\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\tlet valid = false;\n\tif (errors.length === 0) valid = true;\n\treturn { errors, valid, machineData };\n};\n","import React, { Component } from 'react';\nimport { Modal, Button, Row, Col, DropdownButton, Dropdown, Form, Container } from 'react-bootstrap';\nimport globals from '../../globals';\nimport { LineType, StateType } from '../../enums';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrash } from '@fortawesome/free-solid-svg-icons';\n\nexport default class SettingsModal extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstateName: globals.selectedState.name\n\t\t};\n\t\tthis.changeLineType = this.changeLineType.bind(this);\n\t\tthis.changeStateType = this.changeStateType.bind(this);\n\t\tthis.changeValue = this.changeValue.bind(this);\n\t\tthis.changeStateName = this.changeStateName.bind(this);\n\t\tthis.deleteTransition = this.deleteTransition.bind(this);\n\t}\n\n\tchangeLineType(value, i) {\n\t\tglobals.selectedState.transitions[i].lineType = value;\n\t\tthis.setState({});\n\t}\n\n\tchangeStateType(value) {\n\t\tglobals.selectedState.stateType = value;\n\t\tthis.setState({});\n\t}\n\n\tchangeValue(value, i) {\n\t\tif (value.length === 0) {\n\t\t\tglobals.selectedState.transitions[i].value = '';\n\t\t} else {\n\t\t\tglobals.selectedState.transitions[i].value = value.toString();\n\t\t}\n\t}\n\n\tdeleteTransition(state, i) {\n\t\tlet toBeRemoved = state.transitions.filter((e) => e.index === i);\n\t\tlet index = state.transitions.indexOf(toBeRemoved[0]);\n\t\tstate.transitions.splice(index, 1);\n\t\tthis.setState({});\n\t}\n\n\tchangeStateName(value) {\n\t\tif (value.length > 0 && value.length <= 3) {\n\t\t\tglobals.selectedState.name = value;\n\t\t\tthis.setState({});\n\t\t}\n\t}\n\n\trender() {\n\t\tlet stateType = '';\n\t\tswitch (globals.selectedState.stateType) {\n\t\t\tcase StateType.NORMAL:\n\t\t\t\tstateType = 'Normal';\n\t\t\t\tbreak;\n\t\t\tcase StateType.INITIAL:\n\t\t\t\tstateType = 'Initial';\n\t\t\t\tbreak;\n\t\t\tcase StateType.FINAL:\n\t\t\t\tstateType = 'Final';\n\t\t\t\tbreak;\n\t\t\tcase StateType.INITIAL_FINAL:\n\t\t\t\tstateType = 'Initial Final';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\treturn (\n\t\t\t<Modal.Dialog style={{ zIndex: 9999 }}>\n\t\t\t\t<Modal.Header className=\"px-0\">\n\t\t\t\t\t<Container>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col className=\"text-left\">\n\t\t\t\t\t\t\t\t<Modal.Title>\n\t\t\t\t\t\t\t\t\t{stateType} {this.props.title} {globals.selectedState.name}\n\t\t\t\t\t\t\t\t</Modal.Title>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col className=\"text-right\">\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"danger\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tthis.props.deleteState(globals.selectedState.index);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tDelete State\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Container>\n\t\t\t\t</Modal.Header>\n\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<h5 className=\"pb-2\">General</h5>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col lg=\"3\" className=\"text-left my-auto px-0\">\n\t\t\t\t\t\t\t\t<h6>State Name</h6>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col lg=\"3\" className=\"my-auto text-left\">\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tdefaultValue={globals.selectedState.name}\n\t\t\t\t\t\t\t\t\tplaceholder=\"State Name\"\n\t\t\t\t\t\t\t\t\taria-label=\"State Name\"\n\t\t\t\t\t\t\t\t\taria-describedby=\"state-name\"\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tthis.changeStateName(e.target.value);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col lg=\"6\" />\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row className=\"mt-3 mb-3\">\n\t\t\t\t\t\t\t<Col lg=\"3\" className=\"text-left my-auto px-0\">\n\t\t\t\t\t\t\t\t<h6>State Type</h6>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col lg=\"3\" className=\"my-auto text-left\">\n\t\t\t\t\t\t\t\t<DropdownButton variant=\"dark\" id=\"state-type-dropdown\" title={stateType}>\n\t\t\t\t\t\t\t\t\t<Dropdown.Item as=\"button\">\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.changeStateType(StateType.INITIAL);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tInitial\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t\t\t<Dropdown.Item as=\"button\">\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.changeStateType(StateType.NORMAL);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tNormal\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t\t\t<Dropdown.Item as=\"button\">\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.changeStateType(StateType.FINAL);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tFinal\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t\t\t<Dropdown.Item as=\"button\">\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.changeStateType(StateType.INITIAL_FINAL);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tInitial Final\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t\t</DropdownButton>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col lg=\"6\" />\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t{globals.selectedState.transitions.length ? (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t<h5 className=\"pb-2\">Transitions</h5>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t<Col className=\"text-left\">\n\t\t\t\t\t\t\t\t\t\t<h6>Description</h6>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t<Col className=\"text-left\">\n\t\t\t\t\t\t\t\t\t\t<h6>Value</h6>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t<Col className=\"text-left\">\n\t\t\t\t\t\t\t\t\t\t<h6>Line Type</h6>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t{globals.selectedState.transitions.map((t) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<Row className=\"mb-3\" key={t.index}>\n\t\t\t\t\t\t\t\t\t\t\t<Col className=\"text-left my-auto\">\n\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"my-auto\">{t.from.name + ' to ' + t.to.name}</h6>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t<Col className=\"text-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={t.value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Value\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Value\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-describedby=\"transition-value\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.changeValue(e.target.value, t.index);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t{t.from.index === t.to.index ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<Col className=\"text-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col lg=\"6\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col lg=\"6\" className=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"danger\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.deleteTransition(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tglobals.selectedState,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tt.index\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faTrash} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<Col className=\"text-left\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col lg=\"6\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DropdownButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"dark\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"line-type-dropdown\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={t.lineType}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item as=\"button\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.changeLineType(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tLineType.CURVE,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tt.index\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCurve\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item as=\"button\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.changeLineType(LineType.LINE, t.index);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tLine\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</DropdownButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col lg=\"6\" className=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"danger\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.deleteTransition(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tglobals.selectedState,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tt.index\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faTrash} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t<h5 className=\"pb-2\">Transitions</h5>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t<p>No settings available. Please create transitions.</p>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Container>\n\t\t\t\t</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t<Button variant=\"success\" onClick={this.props.toggleSettings}>\n\t\t\t\t\t\tDone\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal.Dialog>\n\t\t);\n\t}\n}\n","import {LineType} from \"../../enums\";\nconst STATE_RADIUS = 25;\nconst ARROW_SIZE = 10;\n\nexport default class Transition {\n\tconstructor(p5, index, from, to, color, value, lineType) {\n\t\tthis.index = index;\n\t\tthis.p5 = p5;\n\t\tthis.from = from;\n\t\tthis.to = to;\n\t\tthis.color = color;\n\t\tthis.controlPoints = [];\n\t\tthis.value = value;\n\t\tthis.lineType = lineType;\n\t}\n\n\tgetControlPoints(start, end) {\n\t\tconst theta = 60;\n\t\tlet orgStart = this.p5.createVector(this.from.x, this.from.y);\n\t\tlet orgEnd = this.p5.createVector(this.to.x - orgStart.x, this.to.y - orgStart.y);\n\n\t\t// Control Point 1\n\t\tthis.p5.translate(orgStart.x, orgStart.y);\n\t\tend.setMag(orgEnd.mag() / 2);\n\t\tend.rotate(theta);\n\t\tthis.controlPoints[0] = end;\n\t\tlet a = this.p5.createVector(end.x, end.y);\n\t\ta.setMag(STATE_RADIUS);\n\n\t\tstart = orgEnd;\n\t\tend = start;\n\n\t\t// Control Point 2\n\t\tthis.p5.translate(start.x, start.y);\n\t\tend.setMag(orgEnd.mag() / 2);\n\t\tend.rotate(180 - theta);\n\t\tthis.controlPoints[1] = end;\n\t\tlet b = this.p5.createVector(end.x, end.y);\n\t\tb.setMag(STATE_RADIUS);\n\n\t\tthis.controlPoints[2] = a;\n\t\tthis.controlPoints[3] = b;\n\t}\n\n\tdrawValue(d, s) {\n\t\ts.setMag(d / 1.5);\n\t\ts.rotate(-20);\n\t\tthis.p5.push();\n\t\tthis.p5.translate(s.x + this.from.x, s.y + this.from.y);\n\t\tthis.p5.noStroke();\n\t\tthis.p5.fill(this.color);\n\t\tthis.p5.text(this.value, 0, 0);\n\t\tthis.p5.pop();\n\t}\n\n\tdrawBezierWithArrow() {\n\t\tconst start = this.p5.createVector(this.from.x, this.from.y);\n\t\tconst end = this.p5.createVector(this.to.x - start.x, this.to.y - start.y);\n\t\tthis.p5.push();\n\t\tthis.p5.stroke(this.color);\n\t\tthis.p5.strokeWeight(2);\n\t\tthis.p5.fill(this.color);\n\t\tthis.getControlPoints(start, end);\n\t\tthis.p5.pop();\n\n\t\tconst startCP = this.controlPoints[0];\n\t\tconst endCP = this.controlPoints[1];\n\t\tconst a = this.controlPoints[2];\n\t\tconst b = this.controlPoints[3];\n\n\t\tthis.p5.noFill();\n\t\tthis.p5.stroke(this.color);\n\t\tthis.p5.strokeWeight(2);\n\n\t\tthis.p5.bezier(\n\t\t\ta.x + this.from.x,\n\t\t\ta.y + this.from.y,\n\t\t\tstartCP.x + this.from.x,\n\t\t\tstartCP.y + this.from.y,\n\t\t\tendCP.x + this.to.x,\n\t\t\tendCP.y + this.to.y,\n\t\t\tb.x + this.to.x,\n\t\t\tb.y + this.to.y\n\t\t);\n\n\t\tconst d = this.p5.dist(this.from.x, this.from.y, this.to.x, this.to.y);\n\n\t\tconst s = this.p5.createVector(startCP.x, startCP.y);\n\n\t\tthis.drawValue(d, s);\n\n\t\tstartCP.setMag(d / 1.2);\n\t\tstartCP.rotate(-33);\n\t\tendCP.setMag(STATE_RADIUS);\n\n\t\tlet sx = startCP.x + this.from.x;\n\t\tlet sy = startCP.y + this.from.y;\n\n\t\t// this.p5.circle(sx, sy, 10);\n\t\tthis.p5.push();\n\t\tthis.p5.translate(sx, sy, 10);\n\t\tlet x = endCP.x + this.to.x;\n\t\tlet y = endCP.y + this.to.y;\n\t\tlet v = this.p5.createVector(x - sx, y - sy);\n\t\t// this.p5.line(0, 0, v.x, v.y);\n\t\tthis.p5.fill(this.color);\n\t\tthis.p5.translate(v.x, v.y);\n\t\tthis.p5.rotate(180 + v.heading());\n\t\tthis.p5.triangle(ARROW_SIZE, ARROW_SIZE / 2, ARROW_SIZE, -ARROW_SIZE / 2, 0, 0);\n\t\tthis.p5.pop();\n\t}\n\n\tdrawLineWithArrow() {\n\t\tconst start = this.p5.createVector(this.from.x, this.from.y);\n\t\tconst end = this.p5.createVector(this.to.x - start.x, this.to.y - start.y);\n\t\tconst textVec = this.p5.createVector(this.to.x - start.x, this.to.y - start.y);\n\n\t\tthis.p5.push();\n\t\tthis.p5.stroke(this.color);\n\t\tthis.p5.strokeWeight(2);\n\t\tthis.p5.fill(this.color);\n\t\tthis.p5.translate(start.x, start.y);\n\t\tend.setMag(end.mag() - STATE_RADIUS);\n\t\ttextVec.setMag(textVec.mag() / 2);\n\t\ttextVec.rotate(-8);\n\n\t\tthis.p5.push();\n\t\tthis.p5.noStroke();\n\t\tthis.p5.text(this.value, textVec.x, textVec.y);\n\t\tthis.p5.pop();\n\n\t\tthis.p5.line(0, 0, end.x, end.y);\n\t\tthis.p5.rotate(end.heading());\n\n\t\tthis.p5.translate(end.mag() - ARROW_SIZE, 0);\n\t\tthis.p5.triangle(0, ARROW_SIZE / 2, 0, -ARROW_SIZE / 2, ARROW_SIZE, 0);\n\t\tthis.p5.pop();\n\t}\n\n\tdrawSelfLoop() {\n\t\tconst start = this.p5.createVector(this.from.x - STATE_RADIUS, this.from.y);\n\t\tthis.p5.stroke(this.color);\n\t\tthis.p5.noFill();\n\t\tlet a = this.p5.createVector(-STATE_RADIUS * 3 + start.x, -STATE_RADIUS + start.y);\n\t\tlet b = this.p5.createVector(STATE_RADIUS * 4 + a.x, -STATE_RADIUS * 3 + a.y);\n\t\tconst end = this.p5.createVector(this.from.x, this.from.y - STATE_RADIUS);\n\t\tthis.p5.bezier(start.x, start.y, a.x, a.y, b.x, b.y, end.x, end.y);\n\t\tlet t = this.p5.createVector(-STATE_RADIUS * 2 + start.x, -STATE_RADIUS * 2 + start.y);\n\t\tthis.p5.fill(this.color);\n\t\tthis.p5.noStroke();\n\t\tthis.p5.text(this.value, t.x, t.y);\n\n\t\tthis.p5.push();\n\t\tthis.p5.translate(b.x, b.y);\n\t\tlet arrow = this.p5.createVector(0, STATE_RADIUS * 3);\n\t\tthis.p5.translate(arrow.x, arrow.y);\n\t\tthis.p5.rotate(-arrow.heading());\n\t\tthis.p5.triangle(ARROW_SIZE, ARROW_SIZE / 2, ARROW_SIZE, -ARROW_SIZE / 2, 0, 0);\n\t\tthis.p5.pop();\n\t}\n\n\tshow() {\n\t\tif (this.from.index === this.to.index) {\n\t\t\tthis.drawSelfLoop();\n\t\t} else {\n\t\t\tif (this.lineType === LineType.CURVE) {\n\t\t\t\tthis.drawBezierWithArrow();\n\t\t\t} else {\n\t\t\t\tthis.drawLineWithArrow();\n\t\t\t}\n\t\t}\n\t}\n}\n","import Transition from './Transition';\nimport { LineType, StateType } from '../../enums';\nimport globals from '../../globals';\n\nconst SELECT_COLOR = '#f18701';\nconst CONNECTION_COLOR = '#454ade';\nconst CONNECTING_COLOR = '#f18701';\nconst SUCCESS_COLOR = '#00916e';\n\nexport default class State {\n\tconstructor(p5, x, y, d, name, index, stateType, color) {\n\t\tthis.p5 = p5;\n\t\tthis.index = index;\n\t\tthis.stateType = stateType;\n\t\tthis.dragging = false; // Is the object being dragged?\n\t\tthis.rollover = false; // Is the mouse over the ellipse?\n\t\tthis.connecting = false;\n\t\tthis.connected = false;\n\t\tthis.transitions = [];\n\t\tthis.intersecting = false;\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.r = this.p5.int(d / 2);\n\t\tthis.name = name;\n\t\tthis.offsetX = 0;\n\t\tthis.offsetY = 0;\n\t\tthis.color = color;\n\t}\n\n\tsetP5(p5) {\n\t\tthis.p5 = p5;\n\t}\n\n\tover() {\n\t\tconst mouseX = this.p5.mouseX;\n\t\tconst mouseY = this.p5.mouseY;\n\t\tconst d = this.p5.int(this.p5.dist(this.x, this.y, mouseX, mouseY));\n\t\t// Is mouse over the object\n\t\tthis.rollover = d < this.r;\n\t}\n\n\tdoubleClicked() {\n\t\tconst mouseX = this.p5.mouseX;\n\t\tconst mouseY = this.p5.mouseY;\n\t\tconst d = this.p5.int(this.p5.dist(this.x, this.y, mouseX, mouseY));\n\t\t// Is mouse over the object\n\t\tif (d < this.r) {\n\t\t\tthis.connecting = true;\n\t\t}\n\t}\n\n\tedgeIntersects(other) {\n\t\tconst d = this.p5.dist(this.x, this.y, other.x, other.y);\n\t\tif (d < this.r + other.r) {\n\t\t\tthis.intersecting = true;\n\t\t\treturn true;\n\t\t} else {\n\t\t\tthis.intersecting = false;\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tupdate() {\n\t\tconst mouseX = this.p5.mouseX;\n\t\tconst mouseY = this.p5.mouseY;\n\t\t// Adjust location if being dragged\n\t\tif (this.dragging) {\n\t\t\tthis.x = mouseX + this.offsetX;\n\t\t\tthis.y = mouseY + this.offsetY;\n\t\t}\n\t}\n\n\tshowTransitions() {\n\t\tthis.transitions.forEach((transition) => {\n\t\t\ttransition.show();\n\t\t});\n\t}\n\n\tconnect() {\n\t\tconst mouseX = this.p5.mouseX;\n\t\tconst mouseY = this.p5.mouseY;\n\t\tthis.p5.strokeWeight(2);\n\t\tthis.p5.stroke(CONNECTING_COLOR);\n\t\t// Draw State Connections\n\t\tif (this.connecting) {\n\t\t\tlet base = this.p5.createVector(this.x, this.y);\n\t\t\tlet vec = this.p5.createVector(mouseX - base.x, mouseY - base.y);\n\t\t\tif (this.transitions.length) {\n\t\t\t\tthis.showTransitions();\n\t\t\t}\n\t\t\tthis.drawArrow(base, vec, CONNECTING_COLOR, true, false);\n\t\t} else if (this.connected) {\n\t\t\tthis.showTransitions();\n\t\t}\n\t}\n\n\tdrawArrow(base, vec, color, rotating, varyingMag) {\n\t\tthis.p5.push();\n\t\tthis.p5.stroke(color);\n\t\tthis.p5.strokeWeight(2);\n\t\tthis.p5.fill(color);\n\t\tthis.p5.translate(base.x, base.y);\n\t\tif (varyingMag) {\n\t\t\tvec.setMag(vec.mag() - this.r);\n\t\t}\n\t\tthis.p5.line(0, 0, vec.x, vec.y);\n\t\tlet arrowSize = 10;\n\t\tif (rotating) {\n\t\t\tthis.p5.rotate(vec.heading());\n\t\t}\n\t\tthis.p5.translate(vec.mag() - arrowSize, 0);\n\t\tthis.p5.triangle(0, arrowSize / 2, 0, -arrowSize / 2, arrowSize, 0);\n\t\tthis.p5.pop();\n\t}\n\n\tshow() {\n\t\tthis.p5.strokeWeight(2);\n\t\t// Different fill based on state\n\t\tthis.p5.fill(this.color);\n\t\tif (this.rollover || this.dragging) {\n\t\t\tthis.p5.stroke(SELECT_COLOR);\n\t\t} else if (globals.showSettings || globals.showSimulation) {\n\t\t\tthis.p5.stroke(SUCCESS_COLOR);\n\t\t} else {\n\t\t\tthis.p5.stroke(0);\n\t\t}\n\n\t\tif (this.stateType === StateType.NORMAL) {\n\t\t\tthis.p5.circle(this.x, this.y, this.r * 2);\n\t\t} else if (this.stateType === StateType.FINAL) {\n\t\t\tthis.p5.circle(this.x, this.y, this.r * 2);\n\t\t\tthis.p5.circle(this.x, this.y, this.r * 1.7);\n\t\t} else if (this.stateType === StateType.INITIAL) {\n\t\t\tthis.p5.circle(this.x, this.y, this.r * 2);\n\t\t\tlet base = this.p5.createVector(this.x - this.r * 3, this.y);\n\t\t\tlet vec = this.p5.createVector(this.x - this.r - base.x, this.y - base.y);\n\t\t\t// Custom arrow for INITIAL State\n\t\t\tif (this.rollover || this.dragging) {\n\t\t\t\tthis.drawArrow(base, vec, SELECT_COLOR, false, false);\n\t\t\t} else if (globals.showSettings || globals.showSimulation) {\n\t\t\t\tthis.drawArrow(base, vec, SUCCESS_COLOR, false, false);\n\t\t\t} else {\n\t\t\t\tthis.drawArrow(base, vec, 0, false, false);\n\t\t\t}\n\t\t} else if (this.stateType === StateType.INITIAL_FINAL) {\n\t\t\tthis.p5.circle(this.x, this.y, this.r * 2);\n\t\t\tthis.p5.circle(this.x, this.y, this.r * 1.7);\n\t\t\tlet base = this.p5.createVector(this.x - this.r * 3, this.y);\n\t\t\tlet vec = this.p5.createVector(this.x - this.r - base.x, this.y - base.y);\n\t\t\t// Custom arrow for INITIAL State\n\t\t\tif (this.rollover || this.dragging) {\n\t\t\t\tthis.drawArrow(base, vec, SELECT_COLOR, false, false);\n\t\t\t} else if (globals.showSettings || globals.showSimulation) {\n\t\t\t\tthis.drawArrow(base, vec, SUCCESS_COLOR, false, false);\n\t\t\t} else {\n\t\t\t\tthis.drawArrow(base, vec, 0, false, false);\n\t\t\t}\n\t\t}\n\t\t// Draw the state name\n\t\tthis.p5.textSize(this.r * 0.7);\n\t\tthis.p5.textAlign(this.p5.CENTER, this.p5.CENTER);\n\t\tthis.p5.noStroke();\n\t\tif (this.rollover || this.dragging) {\n\t\t\tthis.p5.fill(SELECT_COLOR);\n\t\t} else if (globals.showSettings || globals.showSimulation) {\n\t\t\tthis.p5.fill(SUCCESS_COLOR);\n\t\t} else {\n\t\t\tthis.p5.fill(0);\n\t\t}\n\t\tthis.p5.text(this.name, this.x, this.y);\n\t}\n\n\tgetTopState(states) {\n\t\tlet indices = [];\n\t\tlet topState;\n\t\tfor (let i = 0; i < states.length; i++) {\n\t\t\tif (this.edgeIntersects(states[i])) {\n\t\t\t\tindices.push(i);\n\t\t\t\tindices.push(this.index);\n\t\t\t}\n\t\t}\n\t\ttopState = this.p5.max(indices);\n\t\treturn topState;\n\t}\n\n\tpressed(states) {\n\t\tif (!globals.showSettings && !globals.showSimulation) {\n\t\t\tif (this.p5.mouseButton === this.p5.RIGHT) {\n\t\t\t\tconst mouseX = this.p5.mouseX;\n\t\t\t\tconst mouseY = this.p5.mouseY;\n\t\t\t\tlet d = this.p5.int(this.p5.dist(this.x, this.y, mouseX, mouseY));\n\t\t\t\tif (d < this.r) {\n\t\t\t\t\tlet topState = this.getTopState(states);\n\t\t\t\t\tglobals.showSettings = true;\n\t\t\t\t\tif (topState !== Number.NEGATIVE_INFINITY && states[topState].rollover) {\n\t\t\t\t\t\tglobals.selectedState = states[topState];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tglobals.selectedState = this;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tglobals.showSettings = false;\n\t\t\t\t\tglobals.selectedState = null;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tglobals.showSettings = false;\n\t\t\t\tglobals.selectedState = null;\n\t\t\t\tconst mouseX = this.p5.mouseX;\n\t\t\t\tconst mouseY = this.p5.mouseY;\n\t\t\t\tlet d = this.p5.int(this.p5.dist(this.x, this.y, mouseX, mouseY));\n\n\t\t\t\tif (!this.dragging) {\n\t\t\t\t\t// Did I click on the circle?\n\t\t\t\t\tif (d < this.r) {\n\t\t\t\t\t\tlet topState = this.getTopState(states);\n\t\t\t\t\t\tif (topState !== Number.NEGATIVE_INFINITY && states[topState].rollover) {\n\t\t\t\t\t\t\t// If so, keep track of relative location of click to corner of circle\n\t\t\t\t\t\t\tstates[topState].offsetX = states[topState].x - mouseX;\n\t\t\t\t\t\t\tstates[topState].offsetY = states[topState].y - mouseY;\n\t\t\t\t\t\t\tstates[topState].dragging = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// If so, keep track of relative location of click to corner of circle\n\t\t\t\t\t\t\tthis.offsetX = this.x - mouseX;\n\t\t\t\t\t\t\tthis.offsetY = this.y - mouseY;\n\t\t\t\t\t\t\tthis.dragging = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this.connecting) {\n\t\t\t\t\tfor (let i = 0; i < states.length; i++) {\n\t\t\t\t\t\tlet connectingState = states[i];\n\t\t\t\t\t\td = this.p5.int(this.p5.dist(connectingState.x, connectingState.y, mouseX, mouseY));\n\t\t\t\t\t\tif (d < connectingState.r) {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tthis.transitions.filter(\n\t\t\t\t\t\t\t\t\t(value) =>\n\t\t\t\t\t\t\t\t\t\tvalue.from.index === this.index && value.to.index === connectingState.index\n\t\t\t\t\t\t\t\t).length === 0\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tif (this.index === connectingState.index) {\n\t\t\t\t\t\t\t\t\tthis.transitions.push(\n\t\t\t\t\t\t\t\t\t\tnew Transition(\n\t\t\t\t\t\t\t\t\t\t\tthis.p5,\n\t\t\t\t\t\t\t\t\t\t\tthis.transitions.length,\n\t\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\t\tCONNECTION_COLOR,\n\t\t\t\t\t\t\t\t\t\t\t'',\n\t\t\t\t\t\t\t\t\t\t\tLineType.LINE\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.transitions.push(\n\t\t\t\t\t\t\t\t\t\tnew Transition(\n\t\t\t\t\t\t\t\t\t\t\tthis.p5,\n\t\t\t\t\t\t\t\t\t\t\tthis.transitions.length,\n\t\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\t\tconnectingState,\n\t\t\t\t\t\t\t\t\t\t\tCONNECTION_COLOR,\n\t\t\t\t\t\t\t\t\t\t\t'',\n\t\t\t\t\t\t\t\t\t\t\tLineType.LINE\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.connected = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.connecting = false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.connecting = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treleased() {\n\t\t// Quit dragging\n\t\tif (this.dragging) {\n\t\t\tthis.dragging = false;\n\t\t}\n\t}\n}\n","import { StateType } from '../../enums';\n\nexport const showFAWithoutOutputTest = (testCaseData, sketch) => {\n\tsketch.setState({ currentIndex: -1 });\n\n\tconst time = 1000;\n\tconst initial = sketch.state.states.filter(\n\t\t(s) => s.stateType === StateType.INITIAL || s.stateType === StateType.INITIAL_FINAL\n\t)[0];\n\tconst rest = sketch.state.states.filter(\n\t\t(s) => s.stateType !== StateType.INITIAL && s.stateType !== StateType.INITIAL_FINAL\n\t);\n\trest.forEach((r) => {\n\t\tr.color = 255;\n\t});\n\n\tinitial.color = '#adaaff';\n\tconst states = sketch.state.states;\n\tconst data = testCaseData.testCase;\n\tconst testCaseNumber = testCaseData.testCaseNumber;\n\tconst resultText = document.querySelector(`#result-${testCaseNumber}`);\n\n\tsketch.setState({ testString: [ ...testCaseData.testString ].reverse() });\n\tlet d;\n\n\tif (data.transition.map((t) => t['N']).indexOf('N') === -1) d = data.transition.length;\n\telse d = data.transition.map((t) => t['N']).indexOf('N');\n\n\tlet lastTransition = data.transition[d - 1];\n\tconst lastState = states.filter((s) => {\n\t\tlet lastStates = Object.values(lastTransition)[0];\n\t\tif (lastStates.includes(',')) {\n\t\t\tconst transitions = lastStates.split(',');\n\t\t\tconst lastStateName = transitions[transitions.length - 1];\n\t\t\treturn s.name === lastStateName;\n\t\t} else {\n\t\t\treturn s.name === lastStates;\n\t\t}\n\t})[0];\n\n\tif (data.transition.filter((t) => Object.keys(t)[0] === 'N').length < 1) data.transition.push({ N: 'N' });\n\n\tsetTimeout(function() {\n\t\tdata.transition.forEach((t, i) => {\n\t\t\tlet state = [],\n\t\t\t\trest;\n\t\t\tif (Object.values(t)[0].includes(',')) {\n\t\t\t\tconst temp = Object.values(t)[0].split(',');\n\t\t\t\ttemp.forEach((tr) => {\n\t\t\t\t\tstate.push(states.filter((s) => s.name === tr)[0]);\n\t\t\t\t});\n\t\t\t\trest = states.filter((s) => !temp.includes(s.name));\n\t\t\t} else {\n\t\t\t\tstate = states.filter((s) => s.name === Object.values(t)[0]);\n\t\t\t\trest = states.filter((s) => s.name !== Object.values(t)[0]);\n\t\t\t}\n\t\t\tif (Object.keys(t).includes('N')) {\n\t\t\t\tclearColors(states, i);\n\t\t\t} else {\n\t\t\t\tsetColor(state, rest, i);\n\t\t\t}\n\t\t});\n\t}, time);\n\n\tconst setColor = function(state, rest, i) {\n\t\tsetTimeout(function() {\n\t\t\tsketch.setState({ currentIndex: i });\n\t\t\tstate.forEach((s) => {\n\t\t\t\tif (s !== undefined) {\n\t\t\t\t\tif (s.stateType === StateType.FINAL || s.stateType === StateType.INITIAL_FINAL) {\n\t\t\t\t\t\ts.color = '#01d6a4';\n\t\t\t\t\t} else {\n\t\t\t\t\t\ts.color = '#ff6868';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\trest.forEach((r) => {\n\t\t\t\tr.color = 255;\n\t\t\t});\n\t\t}, time * i);\n\t};\n\n\tfunction clearColors(states, i) {\n\t\tsetTimeout(function() {\n\t\t\tstates.forEach((s) => {\n\t\t\t\tif (s !== undefined) s.color = 255;\n\t\t\t});\n\t\t\tresultText.innerHTML = data.result;\n\t\t}, time * i);\n\t}\n};\n\nexport const showFAWithOutputTest = (testCaseData, sketch) => {\n\tsketch.setState({ currentIndex: -1 });\n\tconst time = 1000;\n\tconst initial = sketch.state.states.filter((s) => s.stateType === StateType.INITIAL)[0];\n\tconst rest = sketch.state.states.filter((s) => s.stateType !== StateType.INITIAL);\n\trest.forEach((r) => {\n\t\tr.color = 255;\n\t});\n\n\tinitial.color = '#adaaff';\n\n\tconst states = sketch.state.states;\n\tconst data = testCaseData.testCase;\n\tconst testCaseNumber = testCaseData.testCaseNumber;\n\tconst resultText = document.querySelector(`#result-${testCaseNumber}`);\n\tconst result = testCaseData.output;\n\tif (testCaseData.machineType === 'MEALY') resultText.innerHTML = '';\n\telse resultText.innerHTML = result.charAt(0);\n\n\tsketch.setState({ testString: [ ...testCaseData.testString ].reverse() });\n\n\tif (data.filter((t) => Object.keys(t)[0] === 'N').length < 1) data.push({ N: 'N' });\n\n\tsetTimeout(function() {\n\t\tdata.forEach((t, i) => {\n\t\t\tlet state = [],\n\t\t\t\trest;\n\t\t\tif (Object.values(t)[0].includes(',')) {\n\t\t\t\tconst temp = Object.values(t)[0].split(',');\n\t\t\t\ttemp.forEach((tr) => {\n\t\t\t\t\tstate.push(states.filter((s) => s.name === tr)[0]);\n\t\t\t\t});\n\t\t\t\trest = states.filter((s) => !temp.includes(s.name));\n\t\t\t} else {\n\t\t\t\tstate = states.filter((s) => {\n\t\t\t\t\tif (s.name.includes('/')) return s.name.split('/')[0] === Object.values(t)[0];\n\t\t\t\t\telse return s.name === Object.values(t)[0];\n\t\t\t\t});\n\t\t\t\trest = states.filter((s) => {\n\t\t\t\t\tif (s.name.includes('/')) return s.name.split('/')[0] !== Object.values(t)[0];\n\t\t\t\t\telse return s.name !== Object.values(t)[0];\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (Object.keys(t).includes('N')) {\n\t\t\t\tclearColors(states, i);\n\t\t\t} else {\n\t\t\t\tsetColor(state, rest, i);\n\t\t\t}\n\t\t});\n\t}, time);\n\n\tconst setColor = function(state, rest, i) {\n\t\tsetTimeout(function() {\n\t\t\tsketch.setState({ currentIndex: i });\n\t\t\tresultText.innerHTML += result.charAt(i);\n\t\t\tstate.forEach((s) => {\n\t\t\t\tif (s !== undefined) {\n\t\t\t\t\ts.color = '#adaaff';\n\t\t\t\t}\n\t\t\t});\n\t\t\trest.forEach((r) => {\n\t\t\t\tr.color = 255;\n\t\t\t});\n\t\t}, time * i);\n\t};\n\n\tfunction clearColors(states, i) {\n\t\tsetTimeout(function() {\n\t\t\tstates.forEach((s) => {\n\t\t\t\tif (s !== undefined) s.color = 255;\n\t\t\t});\n\t\t}, time * i);\n\t}\n};\n","import p5 from 'p5';\nimport React from 'react';\nimport { Container } from 'react-bootstrap';\nimport globals from '../../globals';\nimport SimulationModal from '../simulation/SimulationModal';\nimport SettingsModal from './SettingsModal';\nimport State from './State';\nimport { showFAWithoutOutputTest, showFAWithOutputTest } from '../simulation/simulations';\n\nconst LETTERS = (() => {\n\tconst caps = [ ...Array(26) ].map((val, i) => `q${i}`);\n\treturn caps;\n})();\n\nclass Sketch extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstates: [],\n\t\t\tnumStates: 0,\n\t\t\tp5: null,\n\t\t\tshowSettingsModal: false,\n\t\t\tdeletedCount: 0,\n\t\t\thideSimulation: true,\n\t\t\tmachineType: null,\n\t\t\ttestString: [],\n\t\t\tcurrentIndex: -1\n\t\t};\n\t\tthis.newSketch = this.newSketch.bind(this);\n\t\tthis.addState = this.addState.bind(this);\n\t\tthis.setup = this.setup.bind(this);\n\t\tthis.draw = this.draw.bind(this);\n\t\tthis.mousePressed = this.mousePressed.bind(this);\n\t\tthis.mouseReleased = this.mouseReleased.bind(this);\n\t\tthis.doubleClicked = this.doubleClicked.bind(this);\n\t\tthis.toggleSettings = this.toggleSettings.bind(this);\n\t\tthis.toggleSimulation = this.toggleSimulation.bind(this);\n\t\tthis.setSimulationData = this.setSimulationData.bind(this);\n\t\tthis.deleteState = this.deleteState.bind(this);\n\t\tthis.setTestCase = this.showFAWithoutOutputTest.bind(this);\n\t}\n\n\tnewSketch() {\n\t\tthis.setState({ states: [], numStates: 0 });\n\t}\n\n\taddState(stateType) {\n\t\tlet states = this.state.states;\n\t\tconst p5 = this.state.p5;\n\t\tlet newState = new State(\n\t\t\tp5,\n\t\t\tp5.width / 2,\n\t\t\tp5.height / 2,\n\t\t\t50,\n\t\t\tLETTERS[this.state.numStates],\n\t\t\tthis.state.numStates - this.state.deletedCount,\n\t\t\tstateType,\n\t\t\t255\n\t\t);\n\t\tstates.push(newState);\n\t\tthis.setState({ numStates: this.state.numStates + 1, states });\n\t}\n\n\tcomponentDidMount() {\n\t\tnew p5(this.sketch);\n\t}\n\n\tsetup = (p5) => {\n\t\tconst c = p5.createCanvas(p5.windowWidth, p5.windowHeight);\n\t\tc.parent('sketch-holder');\n\t\tc.position(0, 0);\n\t\tp5.angleMode(p5.DEGREES);\n\t\tthis.setState({ p5 });\n\t};\n\n\tdraw = (p5) => {\n\t\tp5.background(255);\n\t\tp5.push();\n\t\tconst t = 32;\n\t\tp5.textSize(t);\n\t\tif (this.state.currentIndex === -1) p5.fill('#000');\n\t\t// this.setState({ testString: this.state.testString.reverse() });\n\t\tfor (let i = this.state.testString.length - 1; i >= 0; i--) {\n\t\t\tlet char = this.state.testString[i];\n\t\t\tif (this.state.currentIndex !== -1) {\n\t\t\t\tif (i === this.state.testString.length - this.state.currentIndex - 1) p5.fill('#3575ff');\n\t\t\t\telse p5.fill('#000');\n\t\t\t}\n\t\t\tp5.text(char, p5.width / 1.4 - i * 20, 100);\n\t\t}\n\t\tp5.pop();\n\t\tthis.state.states.forEach((state) => {\n\t\t\tstate.setP5(p5);\n\t\t\tstate.connect();\n\t\t\tstate.over();\n\t\t\tstate.update();\n\t\t\tstate.show();\n\t\t});\n\t};\n\n\tmousePressed = () => {\n\t\tthis.state.states.forEach((state) => {\n\t\t\tstate.pressed(this.state.states);\n\t\t});\n\t};\n\n\tmouseReleased = () => {\n\t\tthis.state.states.forEach((state) => {\n\t\t\tstate.released();\n\t\t});\n\t\tthis.setState({ showSettingsModal: globals.showSettings });\n\t};\n\n\tdoubleClicked = () => {\n\t\tthis.state.states.forEach((state) => {\n\t\t\tstate.doubleClicked();\n\t\t});\n\t};\n\n\twindowResized = (p5) => {\n\t\tp5.resizeCanvas(p5.windowWidth, p5.windowHeight);\n\t};\n\n\tsketch = (p5) => {\n\t\tp5.setup = () => this.setup(p5);\n\t\tp5.draw = () => this.draw(p5);\n\t\tp5.windowResized = () => this.windowResized(p5);\n\t\tp5.mousePressed = () => this.mousePressed();\n\t\tp5.mouseReleased = () => this.mouseReleased();\n\t\tp5.doubleClicked = () => this.doubleClicked();\n\t};\n\n\ttoggleSettings() {\n\t\tthis.setState({ showSettingsModal: !this.state.showSettingsModal });\n\t\tglobals.showSettings = false;\n\t}\n\n\tdeleteState(i) {\n\t\tlet tempStates = this.state.states;\n\t\tlet toBeRemoved = tempStates.filter((e) => e.index === i)[0];\n\t\tlet otherStates = tempStates.filter((e) => e.index !== i);\n\t\totherStates.forEach((other) => {\n\t\t\tfor (let i = 0; i < other.transitions.length; i++) {\n\t\t\t\tif (other.transitions[i].to.index === toBeRemoved.index) {\n\t\t\t\t\tother.transitions.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tfor (let i = toBeRemoved.index; i < otherStates.length; i++) {\n\t\t\totherStates[i].index -= 1;\n\t\t}\n\t\tthis.setState({\n\t\t\tstates: otherStates,\n\t\t\tshowSettingsModal: !this.state.showSettingsModal,\n\t\t\tdeletedCount: this.state.deletedCount + 1\n\t\t});\n\t\tglobals.showSettings = false;\n\t}\n\n\ttoggleSimulation(machineType) {\n\t\tthis.setState({ hideSimulation: !this.state.hideSimulation, machineType });\n\t\tglobals.showSimulation = this.state.hideSimulation;\n\t}\n\n\tsetSimulationData(data) {\n\t\tthis.props.setSimulationData(data);\n\t}\n\n\tshowFAWithoutOutputTest(testCaseData) {\n\t\tshowFAWithoutOutputTest(testCaseData, this);\n\t}\n\n\tshowFAWithOutputTest(testCaseData) {\n\t\tshowFAWithOutputTest(testCaseData, this);\n\t}\n\n\trender() {\n\t\tlet modalTitle = '';\n\t\tif (this.state.showSettingsModal) {\n\t\t\tmodalTitle = ' State ';\n\t\t}\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Container id=\"sketch-holder\" />\n\t\t\t\t{this.state.showSettingsModal ? (\n\t\t\t\t\t<SettingsModal\n\t\t\t\t\t\tref={(node) => (this.settings = node)}\n\t\t\t\t\t\ttitle={modalTitle}\n\t\t\t\t\t\ttoggleSettings={this.toggleSettings}\n\t\t\t\t\t\tdeleteState={this.deleteState}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t\t\t<SimulationModal\n\t\t\t\t\tinputSymbols={this.props.inputSymbols}\n\t\t\t\t\toutputSymbols={this.props.outputSymbols}\n\t\t\t\t\tmachineType={this.state.machineType}\n\t\t\t\t\tstates={this.state.states}\n\t\t\t\t\tshow={this.state.hideSimulation}\n\t\t\t\t\ttoggleSimulation={(machineType) => this.toggleSimulation(machineType)}\n\t\t\t\t\tsetSimulationData={(data) => this.setSimulationData(data)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Sketch;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"State\",\n  transform: \"translate(-397 -263)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Ellipse_1\",\n  \"data-name\": \"Ellipse 1\",\n  transform: \"translate(397 263)\",\n  fill: \"none\",\n  stroke: \"#000\",\n  strokeWidth: 3\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 68.5,\n  cy: 68.5,\n  r: 68.5,\n  stroke: \"none\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 68.5,\n  cy: 68.5,\n  r: 67,\n  fill: \"none\"\n})), /*#__PURE__*/React.createElement(\"text\", {\n  id: \"S\",\n  transform: \"translate(449 350)\",\n  fontSize: 50,\n  fontFamily: \"Arial\"\n}, /*#__PURE__*/React.createElement(\"tspan\", {\n  x: 0,\n  y: 0\n}, \"S\")));\n\nvar SvgState = function SvgState(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 137 137\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgState, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/state.6e001998.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Initial_State\",\n  \"data-name\": \"Initial State\",\n  transform: \"translate(-299 -508)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Ellipse_2\",\n  \"data-name\": \"Ellipse 2\",\n  transform: \"translate(397 508)\",\n  fill: \"none\",\n  stroke: \"#000\",\n  strokeWidth: 3\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 68.5,\n  cy: 68.5,\n  r: 68.5,\n  stroke: \"none\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 68.5,\n  cy: 68.5,\n  r: 67,\n  fill: \"none\"\n})), /*#__PURE__*/React.createElement(\"text\", {\n  id: \"S\",\n  transform: \"translate(449 595)\",\n  fontSize: 50,\n  fontFamily: \"Arial\"\n}, /*#__PURE__*/React.createElement(\"tspan\", {\n  x: 0,\n  y: 0\n}, \"S\")), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"arrow\",\n  d: \"M61.037,36.553V51.678L97.66,34.433,61.037,17.23V32.484H0v4.069H61.037Z\",\n  transform: \"translate(299 543)\",\n  fillRule: \"evenodd\"\n}));\n\nvar SvgInitState = function SvgInitState(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 235 137\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgInitState, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/init_state.82a14ace.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Final_State\",\n  \"data-name\": \"Final State\",\n  transform: \"translate(-780 -263)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Ellipse_3\",\n  \"data-name\": \"Ellipse 3\",\n  transform: \"translate(780 263)\",\n  fill: \"none\",\n  stroke: \"#000\",\n  strokeWidth: 3\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 68.5,\n  cy: 68.5,\n  r: 68.5,\n  stroke: \"none\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 68.5,\n  cy: 68.5,\n  r: 67,\n  fill: \"none\"\n})), /*#__PURE__*/React.createElement(\"text\", {\n  id: \"S\",\n  transform: \"translate(832 350)\",\n  fontSize: 50,\n  fontFamily: \"Arial\"\n}, /*#__PURE__*/React.createElement(\"tspan\", {\n  x: 0,\n  y: 0\n}, \"S\")), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Ellipse_4\",\n  \"data-name\": \"Ellipse 4\",\n  transform: \"translate(790 273)\",\n  fill: \"none\",\n  stroke: \"#000\",\n  strokeWidth: 3\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 58.5,\n  cy: 58.5,\n  r: 58.5,\n  stroke: \"none\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 58.5,\n  cy: 58.5,\n  r: 57,\n  fill: \"none\"\n})));\n\nvar SvgFinalState = function SvgFinalState(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 137 137\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgFinalState, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/final_state.62992b81.svg\";\nexport { ForwardRef as ReactComponent };","import { Card, Button, ButtonGroup } from 'react-bootstrap';\nimport React from 'react';\nimport { ReactComponent as StateSymbol } from '../../assets/symbols/state.svg';\nimport { ReactComponent as InitState } from '../../assets/symbols/init_state.svg';\nimport { ReactComponent as FinalState } from '../../assets/symbols/final_state.svg';\nimport { StateType } from '../../enums';\n\nexport default class ToolBar extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<Card bg=\"white\" text=\"dark\">\n\t\t\t\t<ButtonGroup vertical>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"white\"\n\t\t\t\t\t\tclassName=\"pb-3 pt-3\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tthis.props.addState(StateType.INITIAL);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<InitState />\n\t\t\t\t\t</Button>\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"white\"\n\t\t\t\t\t\tclassName=\"pb-3 pt-3\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tthis.props.addState(StateType.NORMAL);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<StateSymbol />\n\t\t\t\t\t</Button>\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"white\"\n\t\t\t\t\t\tclassName=\"pb-3 pt-3\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tthis.props.addState(StateType.FINAL);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<FinalState />\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n","import React, { Component } from 'react';\nimport { Card, Row, Container, Button } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlay } from '@fortawesome/free-solid-svg-icons';\n\nclass SimulationPlayer extends Component {\n\trender() {\n\t\tconst simData = this.props.simulationData;\n\t\treturn (\n\t\t\t<Card bg=\"white\" text=\"dark\" hidden={simData === null}>\n\t\t\t\t<Card.Header style={{ backgroundColor: 'white' }}>\n\t\t\t\t\t<h5 className=\"my-auto\">Simulate Test Cases</h5>\n\t\t\t\t</Card.Header>\n\t\t\t\t<Card.Body>\n\t\t\t\t\t<Container>\n\t\t\t\t\t\t{simData === null ? (\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<p className=\"my-auto\">\n\t\t\t\t\t\t\t\t\tNo simulation cases available. Please click Simulate and select your type of\n\t\t\t\t\t\t\t\t\tdiagram.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t{simData.test_strings.map((test, index) => (\n\t\t\t\t\t\t\t\t\t<Row key={index} className=\"justify-content-between align-items-center mb-3 px-3\">\n\t\t\t\t\t\t\t\t\t\t<p className=\"p-0 m-0 my-auto\" style={{ fontSize: 18 }}>\n\t\t\t\t\t\t\t\t\t\t\t<b>Test {index + 1} - </b>\n\t\t\t\t\t\t\t\t\t\t\t{test}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tid=\"play-button\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.props.setTestCase(index);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faPlay} />\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t{simData.test_strings.map((test, index) => (\n\t\t\t\t\t\t\t\t\t<Row key={index} className=\"justify-content-between align-items-center mb-3 px-3\">\n\t\t\t\t\t\t\t\t\t\t<p className={`p-0 m-0 my-auto`} style={{ fontSize: 18 }}>\n\t\t\t\t\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t\t\t\t\tTest {index + 1} Result -{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t<span id={`result-${index}`} className=\"result\" />\n\t\t\t\t\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Container>\n\t\t\t\t</Card.Body>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\nexport default SimulationPlayer;\n","import React, { Component } from 'react';\nimport { Modal, Container, Row } from 'react-bootstrap';\nimport QRCode from 'qrcode.react';\nimport Axios from 'axios';\n\nexport default class QRModal extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tqrCodeValue: ''\n\t\t};\n\t\tthis.getQRImage = this.getQRImage.bind(this);\n\t\tthis.hasUserPing = this.hasUserPing.bind(this);\n\t}\n\n\tgetQRImage() {\n\t\tif (this.props.show) {\n\t\t\tif (this.state.qrCodeValue.length) {\n\t\t\t\tAxios({\n\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\turl: `https://fasim.herokuapp.com/qr?qr=${this.state.qrCodeValue}`\n\t\t\t\t}).then((res) => {\n\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t});\n\t\t\t}\n\t\t\tAxios({\n\t\t\t\tmethod: 'GET',\n\t\t\t\turl: 'https://fasim.herokuapp.com/qr'\n\t\t\t}).then((res) => {\n\t\t\t\tthis.setState({ qrCodeValue: res.data.toString() });\n\t\t\t});\n\t\t}\n\t}\n\n\thasUserPing() {\n\t\tif (this.props.show) {\n\t\t\tAxios({\n\t\t\t\tmethod: 'GET',\n\t\t\t\turl: `https://fasim.herokuapp.com/has-user?qr=${this.state.qrCodeValue}`\n\t\t\t}).then((res) => {\n\t\t\t\tif (res.data.status !== 'No') {\n\t\t\t\t\tthis.props.handleQRClose();\n\t\t\t\t\tthis.props.setUser(res.data);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getQRImage();\n\t\tsetInterval(this.getQRImage, 20 * 1000);\n\t\tsetInterval(this.hasUserPing, 500);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Modal\n\t\t\t\tstyle={{ zIndex: 9999 }}\n\t\t\t\tshow={this.props.show}\n\t\t\t\tcentered\n\t\t\t\tkeyboard={false}\n\t\t\t\tbackdrop=\"static\"\n\t\t\t\tonHide={this.props.handleQRClose}\n\t\t\t>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>Welcome to FASIM</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<Container>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\tPlease use our app to scan this QR Code{' '}\n\t\t\t\t\t\t\t\t<span role=\"img\" aria-labelledby=\"emo\" className=\"h4\">\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t\t\t\t<QRCode\n\t\t\t\t\t\t\t\tvalue={this.state.qrCodeValue}\n\t\t\t\t\t\t\t\tlevel=\"M\"\n\t\t\t\t\t\t\t\trenderAs=\"svg\"\n\t\t\t\t\t\t\t\tsize={300}\n\t\t\t\t\t\t\t\timageSettings={{\n\t\t\t\t\t\t\t\t\twidth: 60,\n\t\t\t\t\t\t\t\t\theight: 60,\n\t\t\t\t\t\t\t\t\tsrc:\n\t\t\t\t\t\t\t\t\t\t'https://cdn.discordapp.com/attachments/759950229473722438/782512125951082496/fasim.png'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Container>\n\t\t\t\t</Modal.Body>\n\t\t\t</Modal>\n\t\t);\n\t}\n}\n","import React from 'react';\nimport MenuBar from './components/nav/MenuBar';\nimport Sketch from './components/sketch/Sketch';\nimport { Container, Row, Col, Form } from 'react-bootstrap';\nimport ToolBar from './components/tools/ToolBar';\nimport SimulationPlayer from './components/tools/SimulationPlayer';\nimport QRModal from './components/auth/QRModal';\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsimulationData: null,\n\t\t\tloggedIn: JSON.parse(localStorage.getItem('user')) !== null,\n\t\t\tuser: JSON.parse(localStorage.getItem('user')),\n\t\t\tinputSymbols: [ '0', '1' ],\n\t\t\toutputSymbols: [ '0', '1' ]\n\t\t};\n\t\tthis.handleQRClose = this.handleQRClose.bind(this);\n\t\tthis.changeInputSymbols = this.changeInputSymbols.bind(this);\n\t\tthis.changeOutputSymbols = this.changeOutputSymbols.bind(this);\n\t\tthis.setUser = this.setUser.bind(this);\n\t}\n\n\thandleQRClose() {\n\t\tthis.setState({ loggedIn: !this.state.loggedIn });\n\t}\n\n\tsetUser(user) {\n\t\tthis.setState({ user });\n\t\tlocalStorage.setItem('user', JSON.stringify(user));\n\t}\n\n\tchangeInputSymbols() {\n\t\tif (this.inputText.value.length > 0) {\n\t\t\tthis.setState({ inputSymbols: this.inputText.value.replace(/ /g, '').split('').filter((e) => e !== ',') });\n\t\t} else {\n\t\t\tthis.setState({ inputSymbols: [ '0', '1' ] });\n\t\t}\n\t}\n\n\tchangeOutputSymbols() {\n\t\tif (this.outputText.value.length > 0) {\n\t\t\tthis.setState({\n\t\t\t\toutputSymbols: this.outputText.value.replace(/ /g, '').split('').filter((e) => e !== ',')\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({ outputSymbols: [ '0', '1' ] });\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<QRModal\n\t\t\t\t\tshow={!this.state.loggedIn}\n\t\t\t\t\thandleQRClose={this.handleQRClose}\n\t\t\t\t\tsetUser={(user) => this.setUser(user)}\n\t\t\t\t/>\n\t\t\t\t<Sketch\n\t\t\t\t\tref={(node) => {\n\t\t\t\t\t\tthis.sketch = node;\n\t\t\t\t\t}}\n\t\t\t\t\tinputSymbols={this.state.inputSymbols}\n\t\t\t\t\toutputSymbols={this.state.outputSymbols}\n\t\t\t\t\tsetSimulationData={(simulationData) => {\n\t\t\t\t\t\tthis.setState({ simulationData });\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<Container fluid style={{ padding: 0 }}>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<MenuBar\n\t\t\t\t\t\t\t\tnewSketch={() => {\n\t\t\t\t\t\t\t\t\tthis.sketch.newSketch();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttoggleSimulation={(machineType) => {\n\t\t\t\t\t\t\t\t\tthis.sketch.toggleSimulation(machineType);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tuser={this.state.user}\n\t\t\t\t\t\t\t\tlogout={() => {\n\t\t\t\t\t\t\t\t\tlocalStorage.setItem('user', JSON.stringify(null));\n\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Container>\n\t\t\t\t<Container fluid>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col sm=\"1\" style={{ zIndex: 999, position: 'absolute', top: 80 }}>\n\t\t\t\t\t\t\t<ToolBar\n\t\t\t\t\t\t\t\taddState={(stateType) => {\n\t\t\t\t\t\t\t\t\tthis.sketch.addState(stateType);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col sm=\"2\" style={{ zIndex: 999, position: 'absolute', top: 80, left: 120 }}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Form.Label>Input Alphabet</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tdefaultValue=\"0, 1\"\n\t\t\t\t\t\t\t\t\tref={(n) => (this.inputText = n)}\n\t\t\t\t\t\t\t\t\taria-label=\"Input Alphabet\"\n\t\t\t\t\t\t\t\t\taria-describedby=\"input-alphabet\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Input Alphabet\"\n\t\t\t\t\t\t\t\t\t// value={this.state.outputSymbols.join(',')}\n\t\t\t\t\t\t\t\t\tonChange={this.changeInputSymbols}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t<Row className=\"mt-2\">\n\t\t\t\t\t\t\t\t<Form.Label>Output Alphabet</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\tdefaultValue=\"0, 1\"\n\t\t\t\t\t\t\t\t\tref={(n) => (this.outputText = n)}\n\t\t\t\t\t\t\t\t\taria-label=\"Output Alphabet\"\n\t\t\t\t\t\t\t\t\taria-describedby=\"output-alphabet\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Output Alphabet\"\n\t\t\t\t\t\t\t\t\t// value={this.state.outputSymbols.join(',')}\n\t\t\t\t\t\t\t\t\tonChange={this.changeOutputSymbols}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Container>\n\t\t\t\t<Container fluid>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col sm=\"3\" style={{ zIndex: 999, position: 'absolute', top: 80, right: 20 }}>\n\t\t\t\t\t\t\t<SimulationPlayer\n\t\t\t\t\t\t\t\tsimulationData={this.state.simulationData}\n\t\t\t\t\t\t\t\tsetTestCase={(index) => {\n\t\t\t\t\t\t\t\t\t// TODO: Why is this a string??!!!\n\t\t\t\t\t\t\t\t\tconst machineType = this.state.simulationData.machine_type;\n\t\t\t\t\t\t\t\t\tif (machineType === 'MEALY' || machineType === 'MOORE') {\n\t\t\t\t\t\t\t\t\t\tthis.sketch.showFAWithOutputTest({\n\t\t\t\t\t\t\t\t\t\t\ttestString: this.state.simulationData.test_strings[index],\n\t\t\t\t\t\t\t\t\t\t\ttestCaseNumber: index,\n\t\t\t\t\t\t\t\t\t\t\ttestCase: this.state.simulationData.transitions[index].transition,\n\t\t\t\t\t\t\t\t\t\t\toutput: this.state.simulationData.transitions[index].result,\n\t\t\t\t\t\t\t\t\t\t\tmachineType\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthis.sketch.showFAWithoutOutputTest({\n\t\t\t\t\t\t\t\t\t\t\ttestString: this.state.simulationData.test_strings[index],\n\t\t\t\t\t\t\t\t\t\t\ttestCaseNumber: index,\n\t\t\t\t\t\t\t\t\t\t\ttestCase: this.state.simulationData.transitions[index][index]\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Container>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/fasim.dc6fb918.png\";"],"sourceRoot":""}